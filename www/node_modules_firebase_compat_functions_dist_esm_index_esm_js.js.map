{"version":3,"file":"node_modules_firebase_compat_functions_dist_esm_index_esm_js.js","mappings":"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","sources":["./node_modules/@firebase/functions-compat/dist/index.esm2017.js","./node_modules/@firebase/functions/dist/index.esm2017.js","./node_modules/firebase/compat/functions/dist/esm/index.esm.js"],"sourcesContent":["import firebase from '@firebase/app-compat';\nimport { httpsCallable, httpsCallableFromURL, connectFunctionsEmulator } from '@firebase/functions';\nimport { FirebaseError } from '@firebase/util';\nimport { Component } from '@firebase/component';\n\nconst name = \"@firebase/functions-compat\";\nconst version = \"0.3.0\";\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nclass FunctionsService {\r\n    constructor(app, _delegate) {\r\n        this.app = app;\r\n        this._delegate = _delegate;\r\n        this._region = this._delegate.region;\r\n        this._customDomain = this._delegate.customDomain;\r\n    }\r\n    httpsCallable(name, options) {\r\n        return httpsCallable(this._delegate, name, options);\r\n    }\r\n    httpsCallableFromURL(url, options) {\r\n        return httpsCallableFromURL(this._delegate, url, options);\r\n    }\r\n    /**\r\n     * Deprecated in pre-modularized repo, does not exist in modularized\r\n     * functions package, need to convert to \"host\" and \"port\" args that\r\n     * `useFunctionsEmulatorExp` takes.\r\n     * @deprecated\r\n     */\r\n    useFunctionsEmulator(origin) {\r\n        const match = origin.match('[a-zA-Z]+://([a-zA-Z0-9.-]+)(?::([0-9]+))?');\r\n        if (match == null) {\r\n            throw new FirebaseError('functions', 'No origin provided to useFunctionsEmulator()');\r\n        }\r\n        if (match[2] == null) {\r\n            throw new FirebaseError('functions', 'Port missing in origin provided to useFunctionsEmulator()');\r\n        }\r\n        return connectFunctionsEmulator(this._delegate, match[1], Number(match[2]));\r\n    }\r\n    useEmulator(host, port) {\r\n        return connectFunctionsEmulator(this._delegate, host, port);\r\n    }\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst DEFAULT_REGION = 'us-central1';\r\nconst factory = (container, { instanceIdentifier: regionOrCustomDomain }) => {\r\n    // Dependencies\r\n    const app = container.getProvider('app-compat').getImmediate();\r\n    const functionsServiceExp = container.getProvider('functions').getImmediate({\r\n        identifier: regionOrCustomDomain !== null && regionOrCustomDomain !== void 0 ? regionOrCustomDomain : DEFAULT_REGION\r\n    });\r\n    return new FunctionsService(app, functionsServiceExp);\r\n};\r\nfunction registerFunctions() {\r\n    const namespaceExports = {\r\n        Functions: FunctionsService\r\n    };\r\n    firebase.INTERNAL.registerComponent(new Component('functions-compat', factory, \"PUBLIC\" /* ComponentType.PUBLIC */)\r\n        .setServiceProps(namespaceExports)\r\n        .setMultipleInstances(true));\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nregisterFunctions();\r\nfirebase.registerVersion(name, version);\n","import { _registerComponent, registerVersion, _getProvider, getApp } from '@firebase/app';\nimport { FirebaseError, getModularInstance, getDefaultEmulatorHostnameAndPort } from '@firebase/util';\nimport { Component } from '@firebase/component';\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst LONG_TYPE = 'type.googleapis.com/google.protobuf.Int64Value';\r\nconst UNSIGNED_LONG_TYPE = 'type.googleapis.com/google.protobuf.UInt64Value';\r\nfunction mapValues(\r\n// { [k: string]: unknown } is no longer a wildcard assignment target after typescript 3.5\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\no, f) {\r\n    const result = {};\r\n    for (const key in o) {\r\n        if (o.hasOwnProperty(key)) {\r\n            result[key] = f(o[key]);\r\n        }\r\n    }\r\n    return result;\r\n}\r\n/**\r\n * Takes data and encodes it in a JSON-friendly way, such that types such as\r\n * Date are preserved.\r\n * @internal\r\n * @param data - Data to encode.\r\n */\r\nfunction encode(data) {\r\n    if (data == null) {\r\n        return null;\r\n    }\r\n    if (data instanceof Number) {\r\n        data = data.valueOf();\r\n    }\r\n    if (typeof data === 'number' && isFinite(data)) {\r\n        // Any number in JS is safe to put directly in JSON and parse as a double\r\n        // without any loss of precision.\r\n        return data;\r\n    }\r\n    if (data === true || data === false) {\r\n        return data;\r\n    }\r\n    if (Object.prototype.toString.call(data) === '[object String]') {\r\n        return data;\r\n    }\r\n    if (data instanceof Date) {\r\n        return data.toISOString();\r\n    }\r\n    if (Array.isArray(data)) {\r\n        return data.map(x => encode(x));\r\n    }\r\n    if (typeof data === 'function' || typeof data === 'object') {\r\n        return mapValues(data, x => encode(x));\r\n    }\r\n    // If we got this far, the data is not encodable.\r\n    throw new Error('Data cannot be encoded in JSON: ' + data);\r\n}\r\n/**\r\n * Takes data that's been encoded in a JSON-friendly form and returns a form\r\n * with richer datatypes, such as Dates, etc.\r\n * @internal\r\n * @param json - JSON to convert.\r\n */\r\nfunction decode(json) {\r\n    if (json == null) {\r\n        return json;\r\n    }\r\n    if (json['@type']) {\r\n        switch (json['@type']) {\r\n            case LONG_TYPE:\r\n            // Fall through and handle this the same as unsigned.\r\n            case UNSIGNED_LONG_TYPE: {\r\n                // Technically, this could work return a valid number for malformed\r\n                // data if there was a number followed by garbage. But it's just not\r\n                // worth all the extra code to detect that case.\r\n                const value = Number(json['value']);\r\n                if (isNaN(value)) {\r\n                    throw new Error('Data cannot be decoded from JSON: ' + json);\r\n                }\r\n                return value;\r\n            }\r\n            default: {\r\n                throw new Error('Data cannot be decoded from JSON: ' + json);\r\n            }\r\n        }\r\n    }\r\n    if (Array.isArray(json)) {\r\n        return json.map(x => decode(x));\r\n    }\r\n    if (typeof json === 'function' || typeof json === 'object') {\r\n        return mapValues(json, x => decode(x));\r\n    }\r\n    // Anything else is safe to return.\r\n    return json;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Type constant for Firebase Functions.\r\n */\r\nconst FUNCTIONS_TYPE = 'functions';\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Standard error codes for different ways a request can fail, as defined by:\r\n * https://github.com/googleapis/googleapis/blob/master/google/rpc/code.proto\r\n *\r\n * This map is used primarily to convert from a backend error code string to\r\n * a client SDK error code string, and make sure it's in the supported set.\r\n */\r\nconst errorCodeMap = {\r\n    OK: 'ok',\r\n    CANCELLED: 'cancelled',\r\n    UNKNOWN: 'unknown',\r\n    INVALID_ARGUMENT: 'invalid-argument',\r\n    DEADLINE_EXCEEDED: 'deadline-exceeded',\r\n    NOT_FOUND: 'not-found',\r\n    ALREADY_EXISTS: 'already-exists',\r\n    PERMISSION_DENIED: 'permission-denied',\r\n    UNAUTHENTICATED: 'unauthenticated',\r\n    RESOURCE_EXHAUSTED: 'resource-exhausted',\r\n    FAILED_PRECONDITION: 'failed-precondition',\r\n    ABORTED: 'aborted',\r\n    OUT_OF_RANGE: 'out-of-range',\r\n    UNIMPLEMENTED: 'unimplemented',\r\n    INTERNAL: 'internal',\r\n    UNAVAILABLE: 'unavailable',\r\n    DATA_LOSS: 'data-loss'\r\n};\r\n/**\r\n * An explicit error that can be thrown from a handler to send an error to the\r\n * client that called the function.\r\n */\r\nclass FunctionsError extends FirebaseError {\r\n    constructor(\r\n    /**\r\n     * A standard error code that will be returned to the client. This also\r\n     * determines the HTTP status code of the response, as defined in code.proto.\r\n     */\r\n    code, message, \r\n    /**\r\n     * Extra data to be converted to JSON and included in the error response.\r\n     */\r\n    details) {\r\n        super(`${FUNCTIONS_TYPE}/${code}`, message || '');\r\n        this.details = details;\r\n    }\r\n}\r\n/**\r\n * Takes an HTTP status code and returns the corresponding ErrorCode.\r\n * This is the standard HTTP status code -> error mapping defined in:\r\n * https://github.com/googleapis/googleapis/blob/master/google/rpc/code.proto\r\n *\r\n * @param status An HTTP status code.\r\n * @return The corresponding ErrorCode, or ErrorCode.UNKNOWN if none.\r\n */\r\nfunction codeForHTTPStatus(status) {\r\n    // Make sure any successful status is OK.\r\n    if (status >= 200 && status < 300) {\r\n        return 'ok';\r\n    }\r\n    switch (status) {\r\n        case 0:\r\n            // This can happen if the server returns 500.\r\n            return 'internal';\r\n        case 400:\r\n            return 'invalid-argument';\r\n        case 401:\r\n            return 'unauthenticated';\r\n        case 403:\r\n            return 'permission-denied';\r\n        case 404:\r\n            return 'not-found';\r\n        case 409:\r\n            return 'aborted';\r\n        case 429:\r\n            return 'resource-exhausted';\r\n        case 499:\r\n            return 'cancelled';\r\n        case 500:\r\n            return 'internal';\r\n        case 501:\r\n            return 'unimplemented';\r\n        case 503:\r\n            return 'unavailable';\r\n        case 504:\r\n            return 'deadline-exceeded';\r\n    }\r\n    return 'unknown';\r\n}\r\n/**\r\n * Takes an HTTP response and returns the corresponding Error, if any.\r\n */\r\nfunction _errorForResponse(status, bodyJSON) {\r\n    let code = codeForHTTPStatus(status);\r\n    // Start with reasonable defaults from the status code.\r\n    let description = code;\r\n    let details = undefined;\r\n    // Then look through the body for explicit details.\r\n    try {\r\n        const errorJSON = bodyJSON && bodyJSON.error;\r\n        if (errorJSON) {\r\n            const status = errorJSON.status;\r\n            if (typeof status === 'string') {\r\n                if (!errorCodeMap[status]) {\r\n                    // They must've included an unknown error code in the body.\r\n                    return new FunctionsError('internal', 'internal');\r\n                }\r\n                code = errorCodeMap[status];\r\n                // TODO(klimt): Add better default descriptions for error enums.\r\n                // The default description needs to be updated for the new code.\r\n                description = status;\r\n            }\r\n            const message = errorJSON.message;\r\n            if (typeof message === 'string') {\r\n                description = message;\r\n            }\r\n            details = errorJSON.details;\r\n            if (details !== undefined) {\r\n                details = decode(details);\r\n            }\r\n        }\r\n    }\r\n    catch (e) {\r\n        // If we couldn't parse explicit error data, that's fine.\r\n    }\r\n    if (code === 'ok') {\r\n        // Technically, there's an edge case where a developer could explicitly\r\n        // return an error code of OK, and we will treat it as success, but that\r\n        // seems reasonable.\r\n        return null;\r\n    }\r\n    return new FunctionsError(code, description, details);\r\n}\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Helper class to get metadata that should be included with a function call.\r\n * @internal\r\n */\r\nclass ContextProvider {\r\n    constructor(authProvider, messagingProvider, appCheckProvider) {\r\n        this.auth = null;\r\n        this.messaging = null;\r\n        this.appCheck = null;\r\n        this.auth = authProvider.getImmediate({ optional: true });\r\n        this.messaging = messagingProvider.getImmediate({\r\n            optional: true\r\n        });\r\n        if (!this.auth) {\r\n            authProvider.get().then(auth => (this.auth = auth), () => {\r\n                /* get() never rejects */\r\n            });\r\n        }\r\n        if (!this.messaging) {\r\n            messagingProvider.get().then(messaging => (this.messaging = messaging), () => {\r\n                /* get() never rejects */\r\n            });\r\n        }\r\n        if (!this.appCheck) {\r\n            appCheckProvider.get().then(appCheck => (this.appCheck = appCheck), () => {\r\n                /* get() never rejects */\r\n            });\r\n        }\r\n    }\r\n    async getAuthToken() {\r\n        if (!this.auth) {\r\n            return undefined;\r\n        }\r\n        try {\r\n            const token = await this.auth.getToken();\r\n            return token === null || token === void 0 ? void 0 : token.accessToken;\r\n        }\r\n        catch (e) {\r\n            // If there's any error when trying to get the auth token, leave it off.\r\n            return undefined;\r\n        }\r\n    }\r\n    async getMessagingToken() {\r\n        if (!this.messaging ||\r\n            !('Notification' in self) ||\r\n            Notification.permission !== 'granted') {\r\n            return undefined;\r\n        }\r\n        try {\r\n            return await this.messaging.getToken();\r\n        }\r\n        catch (e) {\r\n            // We don't warn on this, because it usually means messaging isn't set up.\r\n            // console.warn('Failed to retrieve instance id token.', e);\r\n            // If there's any error when trying to get the token, leave it off.\r\n            return undefined;\r\n        }\r\n    }\r\n    async getAppCheckToken() {\r\n        if (this.appCheck) {\r\n            const result = await this.appCheck.getToken();\r\n            if (result.error) {\r\n                // Do not send the App Check header to the functions endpoint if\r\n                // there was an error from the App Check exchange endpoint. The App\r\n                // Check SDK will already have logged the error to console.\r\n                return null;\r\n            }\r\n            return result.token;\r\n        }\r\n        return null;\r\n    }\r\n    async getContext() {\r\n        const authToken = await this.getAuthToken();\r\n        const messagingToken = await this.getMessagingToken();\r\n        const appCheckToken = await this.getAppCheckToken();\r\n        return { authToken, messagingToken, appCheckToken };\r\n    }\r\n}\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst DEFAULT_REGION = 'us-central1';\r\n/**\r\n * Returns a Promise that will be rejected after the given duration.\r\n * The error will be of type FunctionsError.\r\n *\r\n * @param millis Number of milliseconds to wait before rejecting.\r\n */\r\nfunction failAfter(millis) {\r\n    // Node timers and browser timers are fundamentally incompatible, but we\r\n    // don't care about the value here\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    let timer = null;\r\n    return {\r\n        promise: new Promise((_, reject) => {\r\n            timer = setTimeout(() => {\r\n                reject(new FunctionsError('deadline-exceeded', 'deadline-exceeded'));\r\n            }, millis);\r\n        }),\r\n        cancel: () => {\r\n            if (timer) {\r\n                clearTimeout(timer);\r\n            }\r\n        }\r\n    };\r\n}\r\n/**\r\n * The main class for the Firebase Functions SDK.\r\n * @internal\r\n */\r\nclass FunctionsService {\r\n    /**\r\n     * Creates a new Functions service for the given app.\r\n     * @param app - The FirebaseApp to use.\r\n     */\r\n    constructor(app, authProvider, messagingProvider, appCheckProvider, regionOrCustomDomain = DEFAULT_REGION, fetchImpl) {\r\n        this.app = app;\r\n        this.fetchImpl = fetchImpl;\r\n        this.emulatorOrigin = null;\r\n        this.contextProvider = new ContextProvider(authProvider, messagingProvider, appCheckProvider);\r\n        // Cancels all ongoing requests when resolved.\r\n        this.cancelAllRequests = new Promise(resolve => {\r\n            this.deleteService = () => {\r\n                return Promise.resolve(resolve());\r\n            };\r\n        });\r\n        // Resolve the region or custom domain overload by attempting to parse it.\r\n        try {\r\n            const url = new URL(regionOrCustomDomain);\r\n            this.customDomain = url.origin;\r\n            this.region = DEFAULT_REGION;\r\n        }\r\n        catch (e) {\r\n            this.customDomain = null;\r\n            this.region = regionOrCustomDomain;\r\n        }\r\n    }\r\n    _delete() {\r\n        return this.deleteService();\r\n    }\r\n    /**\r\n     * Returns the URL for a callable with the given name.\r\n     * @param name - The name of the callable.\r\n     * @internal\r\n     */\r\n    _url(name) {\r\n        const projectId = this.app.options.projectId;\r\n        if (this.emulatorOrigin !== null) {\r\n            const origin = this.emulatorOrigin;\r\n            return `${origin}/${projectId}/${this.region}/${name}`;\r\n        }\r\n        if (this.customDomain !== null) {\r\n            return `${this.customDomain}/${name}`;\r\n        }\r\n        return `https://${this.region}-${projectId}.cloudfunctions.net/${name}`;\r\n    }\r\n}\r\n/**\r\n * Modify this instance to communicate with the Cloud Functions emulator.\r\n *\r\n * Note: this must be called before this instance has been used to do any operations.\r\n *\r\n * @param host The emulator host (ex: localhost)\r\n * @param port The emulator port (ex: 5001)\r\n * @public\r\n */\r\nfunction connectFunctionsEmulator$1(functionsInstance, host, port) {\r\n    functionsInstance.emulatorOrigin = `http://${host}:${port}`;\r\n}\r\n/**\r\n * Returns a reference to the callable https trigger with the given name.\r\n * @param name - The name of the trigger.\r\n * @public\r\n */\r\nfunction httpsCallable$1(functionsInstance, name, options) {\r\n    return (data => {\r\n        return call(functionsInstance, name, data, options || {});\r\n    });\r\n}\r\n/**\r\n * Returns a reference to the callable https trigger with the given url.\r\n * @param url - The url of the trigger.\r\n * @public\r\n */\r\nfunction httpsCallableFromURL$1(functionsInstance, url, options) {\r\n    return (data => {\r\n        return callAtURL(functionsInstance, url, data, options || {});\r\n    });\r\n}\r\n/**\r\n * Does an HTTP POST and returns the completed response.\r\n * @param url The url to post to.\r\n * @param body The JSON body of the post.\r\n * @param headers The HTTP headers to include in the request.\r\n * @return A Promise that will succeed when the request finishes.\r\n */\r\nasync function postJSON(url, body, headers, fetchImpl) {\r\n    headers['Content-Type'] = 'application/json';\r\n    let response;\r\n    try {\r\n        response = await fetchImpl(url, {\r\n            method: 'POST',\r\n            body: JSON.stringify(body),\r\n            headers\r\n        });\r\n    }\r\n    catch (e) {\r\n        // This could be an unhandled error on the backend, or it could be a\r\n        // network error. There's no way to know, since an unhandled error on the\r\n        // backend will fail to set the proper CORS header, and thus will be\r\n        // treated as a network error by fetch.\r\n        return {\r\n            status: 0,\r\n            json: null\r\n        };\r\n    }\r\n    let json = null;\r\n    try {\r\n        json = await response.json();\r\n    }\r\n    catch (e) {\r\n        // If we fail to parse JSON, it will fail the same as an empty body.\r\n    }\r\n    return {\r\n        status: response.status,\r\n        json\r\n    };\r\n}\r\n/**\r\n * Calls a callable function asynchronously and returns the result.\r\n * @param name The name of the callable trigger.\r\n * @param data The data to pass as params to the function.s\r\n */\r\nfunction call(functionsInstance, name, data, options) {\r\n    const url = functionsInstance._url(name);\r\n    return callAtURL(functionsInstance, url, data, options);\r\n}\r\n/**\r\n * Calls a callable function asynchronously and returns the result.\r\n * @param url The url of the callable trigger.\r\n * @param data The data to pass as params to the function.s\r\n */\r\nasync function callAtURL(functionsInstance, url, data, options) {\r\n    // Encode any special types, such as dates, in the input data.\r\n    data = encode(data);\r\n    const body = { data };\r\n    // Add a header for the authToken.\r\n    const headers = {};\r\n    const context = await functionsInstance.contextProvider.getContext();\r\n    if (context.authToken) {\r\n        headers['Authorization'] = 'Bearer ' + context.authToken;\r\n    }\r\n    if (context.messagingToken) {\r\n        headers['Firebase-Instance-ID-Token'] = context.messagingToken;\r\n    }\r\n    if (context.appCheckToken !== null) {\r\n        headers['X-Firebase-AppCheck'] = context.appCheckToken;\r\n    }\r\n    // Default timeout to 70s, but let the options override it.\r\n    const timeout = options.timeout || 70000;\r\n    const failAfterHandle = failAfter(timeout);\r\n    const response = await Promise.race([\r\n        postJSON(url, body, headers, functionsInstance.fetchImpl),\r\n        failAfterHandle.promise,\r\n        functionsInstance.cancelAllRequests\r\n    ]);\r\n    // Always clear the failAfter timeout\r\n    failAfterHandle.cancel();\r\n    // If service was deleted, interrupted response throws an error.\r\n    if (!response) {\r\n        throw new FunctionsError('cancelled', 'Firebase Functions instance was deleted.');\r\n    }\r\n    // Check for an error status, regardless of http status.\r\n    const error = _errorForResponse(response.status, response.json);\r\n    if (error) {\r\n        throw error;\r\n    }\r\n    if (!response.json) {\r\n        throw new FunctionsError('internal', 'Response is not valid JSON object.');\r\n    }\r\n    let responseData = response.json.data;\r\n    // TODO(klimt): For right now, allow \"result\" instead of \"data\", for\r\n    // backwards compatibility.\r\n    if (typeof responseData === 'undefined') {\r\n        responseData = response.json.result;\r\n    }\r\n    if (typeof responseData === 'undefined') {\r\n        // Consider the response malformed.\r\n        throw new FunctionsError('internal', 'Response is missing data field.');\r\n    }\r\n    // Decode any special types, such as dates, in the returned data.\r\n    const decodedData = decode(responseData);\r\n    return { data: decodedData };\r\n}\n\nconst name = \"@firebase/functions\";\nconst version = \"0.9.0\";\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst AUTH_INTERNAL_NAME = 'auth-internal';\r\nconst APP_CHECK_INTERNAL_NAME = 'app-check-internal';\r\nconst MESSAGING_INTERNAL_NAME = 'messaging-internal';\r\nfunction registerFunctions(fetchImpl, variant) {\r\n    const factory = (container, { instanceIdentifier: regionOrCustomDomain }) => {\r\n        // Dependencies\r\n        const app = container.getProvider('app').getImmediate();\r\n        const authProvider = container.getProvider(AUTH_INTERNAL_NAME);\r\n        const messagingProvider = container.getProvider(MESSAGING_INTERNAL_NAME);\r\n        const appCheckProvider = container.getProvider(APP_CHECK_INTERNAL_NAME);\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        return new FunctionsService(app, authProvider, messagingProvider, appCheckProvider, regionOrCustomDomain, fetchImpl);\r\n    };\r\n    _registerComponent(new Component(FUNCTIONS_TYPE, factory, \"PUBLIC\" /* ComponentType.PUBLIC */).setMultipleInstances(true));\r\n    registerVersion(name, version, variant);\r\n    // BUILD_TARGET will be replaced by values like esm5, esm2017, cjs5, etc during the compilation\r\n    registerVersion(name, version, 'esm2017');\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Returns a {@link Functions} instance for the given app.\r\n * @param app - The {@link @firebase/app#FirebaseApp} to use.\r\n * @param regionOrCustomDomain - one of:\r\n *   a) The region the callable functions are located in (ex: us-central1)\r\n *   b) A custom domain hosting the callable functions (ex: https://mydomain.com)\r\n * @public\r\n */\r\nfunction getFunctions(app = getApp(), regionOrCustomDomain = DEFAULT_REGION) {\r\n    // Dependencies\r\n    const functionsProvider = _getProvider(getModularInstance(app), FUNCTIONS_TYPE);\r\n    const functionsInstance = functionsProvider.getImmediate({\r\n        identifier: regionOrCustomDomain\r\n    });\r\n    const emulator = getDefaultEmulatorHostnameAndPort('functions');\r\n    if (emulator) {\r\n        connectFunctionsEmulator(functionsInstance, ...emulator);\r\n    }\r\n    return functionsInstance;\r\n}\r\n/**\r\n * Modify this instance to communicate with the Cloud Functions emulator.\r\n *\r\n * Note: this must be called before this instance has been used to do any operations.\r\n *\r\n * @param host - The emulator host (ex: localhost)\r\n * @param port - The emulator port (ex: 5001)\r\n * @public\r\n */\r\nfunction connectFunctionsEmulator(functionsInstance, host, port) {\r\n    connectFunctionsEmulator$1(getModularInstance(functionsInstance), host, port);\r\n}\r\n/**\r\n * Returns a reference to the callable HTTPS trigger with the given name.\r\n * @param name - The name of the trigger.\r\n * @public\r\n */\r\nfunction httpsCallable(functionsInstance, name, options) {\r\n    return httpsCallable$1(getModularInstance(functionsInstance), name, options);\r\n}\r\n/**\r\n * Returns a reference to the callable HTTPS trigger with the specified url.\r\n * @param url - The url of the trigger.\r\n * @public\r\n */\r\nfunction httpsCallableFromURL(functionsInstance, url, options) {\r\n    return httpsCallableFromURL$1(getModularInstance(functionsInstance), url, options);\r\n}\n\n/**\r\n * Cloud Functions for Firebase\r\n *\r\n * @packageDocumentation\r\n */\r\nregisterFunctions(fetch.bind(self));\n\nexport { connectFunctionsEmulator, getFunctions, httpsCallable, httpsCallableFromURL };\n","import '@firebase/functions-compat';\n"],"names":["firebase","httpsCallable","httpsCallableFromURL","connectFunctionsEmulator","FirebaseError","Component","name","version","FunctionsService","constructor","app","_delegate","_region","region","_customDomain","customDomain","options","url","useFunctionsEmulator","origin","match","Number","useEmulator","host","port","DEFAULT_REGION","factory","container","instanceIdentifier","regionOrCustomDomain","getProvider","getImmediate","functionsServiceExp","identifier","registerFunctions","namespaceExports","Functions","INTERNAL","registerComponent","setServiceProps","setMultipleInstances","registerVersion","_registerComponent","_getProvider","getApp","getModularInstance","getDefaultEmulatorHostnameAndPort","LONG_TYPE","UNSIGNED_LONG_TYPE","mapValues","o","f","result","key","hasOwnProperty","encode","data","valueOf","isFinite","Object","prototype","toString","call","Date","toISOString","Array","isArray","map","x","Error","decode","json","value","isNaN","FUNCTIONS_TYPE","errorCodeMap","OK","CANCELLED","UNKNOWN","INVALID_ARGUMENT","DEADLINE_EXCEEDED","NOT_FOUND","ALREADY_EXISTS","PERMISSION_DENIED","UNAUTHENTICATED","RESOURCE_EXHAUSTED","FAILED_PRECONDITION","ABORTED","OUT_OF_RANGE","UNIMPLEMENTED","UNAVAILABLE","DATA_LOSS","FunctionsError","code","message","details","codeForHTTPStatus","status","_errorForResponse","bodyJSON","description","undefined","errorJSON","error","e","ContextProvider","authProvider","messagingProvider","appCheckProvider","auth","messaging","appCheck","optional","get","then","getAuthToken","token","getToken","accessToken","getMessagingToken","self","Notification","permission","getAppCheckToken","getContext","authToken","messagingToken","appCheckToken","failAfter","millis","timer","promise","Promise","_","reject","setTimeout","cancel","clearTimeout","fetchImpl","emulatorOrigin","contextProvider","cancelAllRequests","resolve","deleteService","URL","_delete","_url","projectId","connectFunctionsEmulator$1","functionsInstance","httpsCallable$1","httpsCallableFromURL$1","callAtURL","postJSON","body","headers","response","method","JSON","stringify","context","timeout","failAfterHandle","race","responseData","decodedData","AUTH_INTERNAL_NAME","APP_CHECK_INTERNAL_NAME","MESSAGING_INTERNAL_NAME","variant","getFunctions","functionsProvider","emulator","fetch","bind"],"sourceRoot":"webpack:///","x_google_ignoreList":[0,1,2]}