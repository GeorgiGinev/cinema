(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{2011:(Zt,ht,P)=>{"use strict";P.d(ht,{Dh:()=>fe,GT:()=>z,Ot:()=>ue,cc:()=>Ie,hO:()=>ee,on:()=>Q,pX:()=>Ce,xv:()=>pe});var u=P(5062),F=P(9260),j=P(3639);Zt=P.hmd(Zt);const De=["ngOnDestroy"],Ce=(ye,st,Se,Ve={})=>new Proxy(ye,{get:(Ue,dt)=>Se.runOutsideAngular(()=>{var qe;if(ye[dt])return!(null===(qe=Ve?.spy)||void 0===qe)&&qe.get&&Ve.spy.get(dt,ye[dt]),ye[dt];if(De.indexOf(dt)>-1)return()=>{};const nt=st.toPromise().then(ge=>{const Re=ge&&ge[dt];return"function"==typeof Re?Re.bind(ge):Re&&Re.then?Re.then(he=>Se.run(()=>he)):Se.run(()=>Re)});return new Proxy(()=>{},{get:(ge,Re)=>nt[Re],apply:(ge,Re,he)=>nt.then(re=>{var Y;const J=re&&re(...he);return!(null===(Y=Ve?.spy)||void 0===Y)&&Y.apply&&Ve.spy.apply(dt,he,J),J})})})}),z=(ye,st)=>{st.forEach(Se=>{Object.getOwnPropertyNames(Se.prototype||Se).forEach(Ve=>{Object.defineProperty(ye.prototype,Ve,Object.getOwnPropertyDescriptor(Se.prototype||Se,Ve))})})};class ue{constructor(st){return st}}const fe=new u.OlP("angularfire2.app.options"),pe=new u.OlP("angularfire2.app.name");function Q(ye,st,Se){const Ue="object"==typeof Se&&Se||{};Ue.name=Ue.name||"string"==typeof Se&&Se||"[DEFAULT]";const qe=F.Z.apps.filter(nt=>nt&&nt.name===Ue.name)[0]||st.runOutsideAngular(()=>F.Z.initializeApp(ye,Ue));try{JSON.stringify(ye)!==JSON.stringify(qe.options)&&K("error",`${qe.name} Firebase App already initialized with different options${Zt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ue(qe)}const K=(ye,...st)=>{(0,u.X6Q)()&&typeof console<"u"&&console[ye](...st)},se={provide:ue,useFactory:Q,deps:[fe,u.R0b,[new u.FiY,pe]]};let ee=(()=>{class ye{constructor(Se){F.Z.registerVersion("angularfire",j.q4.full,"core"),F.Z.registerVersion("angularfire",j.q4.full,"app-compat"),F.Z.registerVersion("angular",u.q4F.full,Se.toString())}static initializeApp(Se,Ve){return{ngModule:ye,providers:[{provide:fe,useValue:Se},{provide:pe,useValue:Ve}]}}}return ye.\u0275fac=function(Se){return new(Se||ye)(u.LFG(u.Lbi))},ye.\u0275mod=u.oAB({type:ye}),ye.\u0275inj=u.cJS({providers:[se]}),ye})();function Ie(ye,st,Se,Ve,Ue){const[,dt,qe]=globalThis.\u0275AngularfireInstanceCache.find(nt=>nt[0]===ye)||[];if(dt)return function ct(ye,st){try{return ye.toString()===st.toString()}catch{return ye===st}}(Ue,qe)||(Ee("error",`${st} was already initialized on the ${Se} Firebase App with different settings.${je?" You may need to reload as Firebase is not HMR aware.":""}`),Ee("warn",{is:Ue,was:qe})),dt;{const nt=Ve();return globalThis.\u0275AngularfireInstanceCache.push([ye,nt,Ue]),nt}}const je=!!Zt.hot,Ee=(ye,...st)=>{(0,u.X6Q)()&&typeof console<"u"&&console[ye](...st)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},3639:(Zt,ht,P)=>{"use strict";P.d(ht,{q4:()=>we,iC:()=>X,HU:()=>Yt,vb:()=>fn,JM:()=>Sn,nk:()=>sr});var u=P(5062),F=P(259),j=P(5861),De=P(9681),Ce=P(2090),z=P(4859),ue=P(1877);P(2833);const pe="@firebase/remote-config",Q="0.4.0",Ie=new Ce.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class wt{constructor(Be,pt,Ct,Ae){this.client=Be,this.storage=pt,this.storageCache=Ct,this.logger=Ae}isCachedDataFresh(Be,pt){if(!pt)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Ct=Date.now()-pt,Ae=Ct<=Be;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Ct}. Cache max age millis (minimumFetchIntervalMillis setting): ${Be}. Is cache hit: ${Ae}.`),Ae}fetch(Be){var pt=this;return(0,j.Z)(function*(){const[Ct,Ae]=yield Promise.all([pt.storage.getLastSuccessfulFetchTimestampMillis(),pt.storage.getLastSuccessfulFetchResponse()]);if(Ae&&pt.isCachedDataFresh(Be.cacheMaxAgeMillis,Ct))return Ae;Be.eTag=Ae&&Ae.eTag;const me=yield pt.client.fetch(Be),ve=[pt.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===me.status&&ve.push(pt.storage.setLastSuccessfulFetchResponse(me)),yield Promise.all(ve),me})()}}function rt(We=navigator){return We.languages&&We.languages[0]||We.language}class Ge{constructor(Be,pt,Ct,Ae,me,ve){this.firebaseInstallations=Be,this.sdkVersion=pt,this.namespace=Ct,this.projectId=Ae,this.apiKey=me,this.appId=ve}fetch(Be){var pt=this;return(0,j.Z)(function*(){const[Ct,Ae]=yield Promise.all([pt.firebaseInstallations.getId(),pt.firebaseInstallations.getToken()]),ve=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${pt.projectId}/namespaces/${pt.namespace}:fetch?key=${pt.apiKey}`,at={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":Be.eTag||"*"},Rt={sdk_version:pt.sdkVersion,app_instance_id:Ct,app_instance_id_token:Ae,app_id:pt.appId,language_code:rt()},It={method:"POST",headers:at,body:JSON.stringify(Rt)},be=fetch(ve,It),ft=new Promise((Bt,tn)=>{Be.signal.addEventListener(()=>{const un=new Error("The operation was aborted.");un.name="AbortError",tn(un)})});let jt;try{yield Promise.race([be,ft]),jt=yield be}catch(Bt){let tn="fetch-client-network";throw"AbortError"===Bt?.name&&(tn="fetch-timeout"),Ie.create(tn,{originalErrorMessage:Bt?.message})}let qt=jt.status;const sn=jt.headers.get("ETag")||void 0;let $e,vt;if(200===jt.status){let Bt;try{Bt=yield jt.json()}catch(tn){throw Ie.create("fetch-client-parse",{originalErrorMessage:tn?.message})}$e=Bt.entries,vt=Bt.state}if("INSTANCE_STATE_UNSPECIFIED"===vt?qt=500:"NO_CHANGE"===vt?qt=304:("NO_TEMPLATE"===vt||"EMPTY_CONFIG"===vt)&&($e={}),304!==qt&&200!==qt)throw Ie.create("fetch-status",{httpStatus:qt});return{status:qt,eTag:sn,config:$e}})()}}class St{constructor(Be,pt){this.client=Be,this.storage=pt}fetch(Be){var pt=this;return(0,j.Z)(function*(){const Ct=(yield pt.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return pt.attemptFetch(Be,Ct)})()}attemptFetch(Be,{throttleEndTimeMillis:pt,backoffCount:Ct}){var Ae=this;return(0,j.Z)(function*(){yield function Ze(We,Be){return new Promise((pt,Ct)=>{const Ae=Math.max(Be-Date.now(),0),me=setTimeout(pt,Ae);We.addEventListener(()=>{clearTimeout(me),Ct(Ie.create("fetch-throttle",{throttleEndTimeMillis:Be}))})})}(Be.signal,pt);try{const me=yield Ae.client.fetch(Be);return yield Ae.storage.deleteThrottleMetadata(),me}catch(me){if(!function mt(We){if(!(We instanceof Ce.ZR&&We.customData))return!1;const Be=Number(We.customData.httpStatus);return 429===Be||500===Be||503===Be||504===Be}(me))throw me;const ve={throttleEndTimeMillis:Date.now()+(0,Ce.$s)(Ct),backoffCount:Ct+1};return yield Ae.storage.setThrottleMetadata(ve),Ae.attemptFetch(Be,ve)}})()}}class tt{constructor(Be,pt,Ct,Ae,me){this.app=Be,this._client=pt,this._storageCache=Ct,this._storage=Ae,this._logger=me,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Vt(We,Be){const pt=We.target.error||void 0;return Ie.create(Be,{originalErrorMessage:pt&&pt?.message})}const $t="app_namespace_store";class mn{constructor(Be,pt,Ct,Ae=function Ln(){return new Promise((We,Be)=>{try{const pt=indexedDB.open("firebase_remote_config",1);pt.onerror=Ct=>{Be(Vt(Ct,"storage-open"))},pt.onsuccess=Ct=>{We(Ct.target.result)},pt.onupgradeneeded=Ct=>{0===Ct.oldVersion&&Ct.target.result.createObjectStore($t,{keyPath:"compositeKey"})}}catch(pt){Be(Ie.create("storage-open",{originalErrorMessage:pt?.message}))}})}()){this.appId=Be,this.appName=pt,this.namespace=Ct,this.openDbPromise=Ae}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(Be){return this.set("last_fetch_status",Be)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(Be){return this.set("last_successful_fetch_timestamp_millis",Be)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(Be){return this.set("last_successful_fetch_response",Be)}getActiveConfig(){return this.get("active_config")}setActiveConfig(Be){return this.set("active_config",Be)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(Be){return this.set("active_config_etag",Be)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(Be){return this.set("throttle_metadata",Be)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(Be){var pt=this;return(0,j.Z)(function*(){const Ct=yield pt.openDbPromise;return new Promise((Ae,me)=>{const at=Ct.transaction([$t],"readonly").objectStore($t),Rt=pt.createCompositeKey(Be);try{const It=at.get(Rt);It.onerror=be=>{me(Vt(be,"storage-get"))},It.onsuccess=be=>{const ft=be.target.result;Ae(ft?ft.value:void 0)}}catch(It){me(Ie.create("storage-get",{originalErrorMessage:It?.message}))}})})()}set(Be,pt){var Ct=this;return(0,j.Z)(function*(){const Ae=yield Ct.openDbPromise;return new Promise((me,ve)=>{const Rt=Ae.transaction([$t],"readwrite").objectStore($t),It=Ct.createCompositeKey(Be);try{const be=Rt.put({compositeKey:It,value:pt});be.onerror=ft=>{ve(Vt(ft,"storage-set"))},be.onsuccess=()=>{me()}}catch(be){ve(Ie.create("storage-set",{originalErrorMessage:be?.message}))}})})()}delete(Be){var pt=this;return(0,j.Z)(function*(){const Ct=yield pt.openDbPromise;return new Promise((Ae,me)=>{const at=Ct.transaction([$t],"readwrite").objectStore($t),Rt=pt.createCompositeKey(Be);try{const It=at.delete(Rt);It.onerror=be=>{me(Vt(be,"storage-delete"))},It.onsuccess=()=>{Ae()}}catch(It){me(Ie.create("storage-delete",{originalErrorMessage:It?.message}))}})})()}createCompositeKey(Be){return[this.appId,this.appName,this.namespace,Be].join()}}class wn{constructor(Be){this.storage=Be}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var Be=this;return(0,j.Z)(function*(){const pt=Be.storage.getLastFetchStatus(),Ct=Be.storage.getLastSuccessfulFetchTimestampMillis(),Ae=Be.storage.getActiveConfig(),me=yield pt;me&&(Be.lastFetchStatus=me);const ve=yield Ct;ve&&(Be.lastSuccessfulFetchTimestampMillis=ve);const at=yield Ae;at&&(Be.activeConfig=at)})()}setLastFetchStatus(Be){return this.lastFetchStatus=Be,this.storage.setLastFetchStatus(Be)}setLastSuccessfulFetchTimestampMillis(Be){return this.lastSuccessfulFetchTimestampMillis=Be,this.storage.setLastSuccessfulFetchTimestampMillis(Be)}setActiveConfig(Be){return this.activeConfig=Be,this.storage.setActiveConfig(Be)}}function _n(){return In.apply(this,arguments)}function In(){return(In=(0,j.Z)(function*(){if(!(0,Ce.hl)())return!1;try{return yield(0,Ce.eu)()}catch{return!1}})).apply(this,arguments)}!function Bn(){(0,De._registerComponent)(new z.wA("remote-config",function We(Be,{instanceIdentifier:pt}){const Ct=Be.getProvider("app").getImmediate(),Ae=Be.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ie.create("registration-window");if(!(0,Ce.hl)())throw Ie.create("indexed-db-unavailable");const{projectId:me,apiKey:ve,appId:at}=Ct.options;if(!me)throw Ie.create("registration-project-id");if(!ve)throw Ie.create("registration-api-key");if(!at)throw Ie.create("registration-app-id");const Rt=new mn(at,Ct.name,pt=pt||"firebase"),It=new wn(Rt),be=new ue.Yd(pe);be.logLevel=ue.in.ERROR;const ft=new Ge(Ae,De.SDK_VERSION,pt,me,ve,at),jt=new St(ft,Rt),qt=new wt(jt,Rt,It,be),sn=new tt(Ct,qt,It,Rt,be);return function qe(We){const Be=(0,Ce.m9)(We);Be._initializePromise||(Be._initializePromise=Be._storageCache.loadFromStorage().then(()=>{Be._isInitializationComplete=!0}))}(sn),sn},"PUBLIC").setMultipleInstances(!0)),(0,De.registerVersion)(pe,Q),(0,De.registerVersion)(pe,Q,"esm2017")}();var zn=P(6774),Zn=P(5132),Jn=P(341),Wn=P(353),Lt=P(2868),gn=P(8915),Ot=P(2102);const we=new u.GfV("7.5.0"),xe="__angularfire_symbol__analyticsIsSupportedValue",ze="__angularfire_symbol__analyticsIsSupported",Et="__angularfire_symbol__remoteConfigIsSupportedValue",Ht="__angularfire_symbol__remoteConfigIsSupported",on="__angularfire_symbol__messagingIsSupportedValue",Dn="__angularfire_symbol__messagingIsSupported";globalThis[ze]||(globalThis[ze]=(0,Zn.Gb)().then(We=>globalThis[xe]=We).catch(()=>globalThis[xe]=!1)),globalThis[Dn]||(globalThis[Dn]=(0,zn.Gb)().then(We=>globalThis[on]=We).catch(()=>globalThis[on]=!1)),globalThis[Ht]||(globalThis[Ht]=_n().then(We=>globalThis[Et]=We).catch(()=>globalThis[Et]=!1));const sr={async:()=>globalThis[ze],sync:()=>{const We=globalThis[xe];if(void 0===We)throw new Error((We=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${We} in the constructor, first ensure that ${We} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${We})\`.`)("Analytics"));return We}};function Sn(We,Be,pt){if(Be){if(1===Be.length)return Be[0];const me=Be.filter(ve=>ve.app===pt);if(1===me.length)return me[0]}return pt.container.getProvider(We).getImmediate({optional:!0})}const fn=(We,Be)=>{const pt=Be?[Be]:(0,F.C6)(),Ct=[];return pt.forEach(Ae=>{Ae.container.getProvider(We).instances.forEach(ve=>{Ct.includes(ve)||Ct.push(ve)})}),Ct};function Fn(){}class Qt{constructor(Be,pt=Jn.N){this.zone=Be,this.delegate=pt}now(){return this.delegate.now()}schedule(Be,pt,Ct){const Ae=this.zone;return this.delegate.schedule(function(ve){Ae.runGuarded(()=>{Be.apply(this,[ve])})},pt,Ct)}}class Mt{constructor(Be){this.zone=Be,this.task=null}call(Be,pt){const Ct=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fn,{},Fn,Fn)),pt.pipe((0,Lt.b)({next:Ct,complete:Ct,error:Ct})).subscribe(Be).add(Ct)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Yt=(()=>{class We{constructor(pt){this.ngZone=pt,this.outsideAngular=pt.runOutsideAngular(()=>new Qt(Zone.current)),this.insideAngular=pt.run(()=>new Qt(Zone.current,Wn.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return We.\u0275fac=function(pt){return new(pt||We)(u.LFG(u.R0b))},We.\u0275prov=u.Yz7({token:We,factory:We.\u0275fac,providedIn:"root"}),We})();function an(){const We=globalThis.\u0275AngularFireScheduler;if(!We)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return We}function X(We){return an(),function He(We){return function(pt){return(pt=pt.lift(new Mt(We.ngZone))).pipe((0,gn.R)(We.outsideAngular),(0,Ot.QV)(We.insideAngular))}}(an())(We)}},7423:(Zt,ht,P)=>{"use strict";P.d(ht,{Uw:()=>Ee,fo:()=>Ie});var u=P(5861);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var fe=(()=>{return(re=fe||(fe={})).Unimplemented="UNIMPLEMENTED",re.Unavailable="UNAVAILABLE",fe;var re})();class pe extends Error{constructor(Y,J,Ke){super(Y),this.message=Y,this.code=J,this.data=Ke}}const K=re=>{var Y,J,Ke,ot,wt;const rt=re.CapacitorCustomPlatform||null,Ge=re.Capacitor||{},Ze=Ge.Plugins=Ge.Plugins||{},mt=re.CapacitorPlatforms,_t=(null===(Y=mt?.currentPlatform)||void 0===Y?void 0:Y.getPlatform)||(()=>null!==rt?rt.name:(re=>{var Y,J;return re?.androidBridge?"android":null!==(J=null===(Y=re?.webkit)||void 0===Y?void 0:Y.messageHandlers)&&void 0!==J&&J.bridge?"ios":"web"})(re)),tt=(null===(J=mt?.currentPlatform)||void 0===J?void 0:J.isNativePlatform)||(()=>"web"!==_t()),$t=(null===(Ke=mt?.currentPlatform)||void 0===Ke?void 0:Ke.isPluginAvailable)||(kn=>!(!wn.get(kn)?.platforms.has(_t())&&!vn(kn))),vn=(null===(ot=mt?.currentPlatform)||void 0===ot?void 0:ot.getPluginHeader)||(kn=>{var _n;return null===(_n=Ge.PluginHeaders)||void 0===_n?void 0:_n.find(In=>In.name===kn)}),wn=new Map,Hn=(null===(wt=mt?.currentPlatform)||void 0===wt?void 0:wt.registerPlugin)||((kn,_n={})=>{const In=wn.get(kn);if(In)return console.warn(`Capacitor plugin "${kn}" already registered. Cannot register plugins twice.`),In.proxy;const zn=_t(),Zn=vn(kn);let Jn;const Wn=function(){var Et=(0,u.Z)(function*(){return!Jn&&zn in _n?Jn=Jn="function"==typeof _n[zn]?yield _n[zn]():_n[zn]:null!==rt&&!Jn&&"web"in _n&&(Jn=Jn="function"==typeof _n.web?yield _n.web():_n.web),Jn});return function(){return Et.apply(this,arguments)}}(),gn=Et=>{let Ht;const on=(...Dn)=>{const nn=Wn().then(rn=>{const Tn=((Et,Ht)=>{var on,Dn;if(!Zn){if(Et)return null===(Dn=Et[Ht])||void 0===Dn?void 0:Dn.bind(Et);throw new pe(`"${kn}" plugin is not implemented on ${zn}`,fe.Unimplemented)}{const nn=Zn?.methods.find(rn=>Ht===rn.name);if(nn)return"promise"===nn.rtype?rn=>Ge.nativePromise(kn,Ht.toString(),rn):(rn,Tn)=>Ge.nativeCallback(kn,Ht.toString(),rn,Tn);if(Et)return null===(on=Et[Ht])||void 0===on?void 0:on.bind(Et)}})(rn,Et);if(Tn){const sr=Tn(...Dn);return Ht=sr?.remove,sr}throw new pe(`"${kn}.${Et}()" is not implemented on ${zn}`,fe.Unimplemented)});return"addListener"===Et&&(nn.remove=(0,u.Z)(function*(){return Ht()})),nn};return on.toString=()=>`${Et.toString()}() { [capacitor code] }`,Object.defineProperty(on,"name",{value:Et,writable:!1,configurable:!1}),on},Ot=gn("addListener"),we=gn("removeListener"),xe=(Et,Ht)=>{const on=Ot({eventName:Et},Ht),Dn=function(){var rn=(0,u.Z)(function*(){const Tn=yield on;we({eventName:Et,callbackId:Tn},Ht)});return function(){return rn.apply(this,arguments)}}(),nn=new Promise(rn=>on.then(()=>rn({remove:Dn})));return nn.remove=(0,u.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield Dn()}),nn},ze=new Proxy({},{get(Et,Ht){switch(Ht){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return Zn?xe:Ot;case"removeListener":return we;default:return gn(Ht)}}});return Ze[kn]=ze,wn.set(kn,{name:kn,proxy:ze,platforms:new Set([...Object.keys(_n),...Zn?[zn]:[]])}),ze});return Ge.convertFileSrc||(Ge.convertFileSrc=kn=>kn),Ge.getPlatform=_t,Ge.handleError=kn=>re.console.error(kn),Ge.isNativePlatform=tt,Ge.isPluginAvailable=$t,Ge.pluginMethodNoop=(kn,_n,In)=>Promise.reject(`${In} does not have an implementation of "${_n}".`),Ge.registerPlugin=Hn,Ge.Exception=pe,Ge.DEBUG=!!Ge.DEBUG,Ge.isLoggingEnabled=!!Ge.isLoggingEnabled,Ge.platform=Ge.getPlatform(),Ge.isNative=Ge.isNativePlatform(),Ge},ee=(re=>re.Capacitor=K(re))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Ie=ee.registerPlugin;class Ee{constructor(Y){this.listeners={},this.windowListeners={},Y&&(console.warn(`Capacitor WebPlugin "${Y.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=Y)}addListener(Y,J){var Ke=this;this.listeners[Y]||(this.listeners[Y]=[]),this.listeners[Y].push(J);const wt=this.windowListeners[Y];wt&&!wt.registered&&this.addWindowListener(wt);const rt=function(){var Ze=(0,u.Z)(function*(){return Ke.removeListener(Y,J)});return function(){return Ze.apply(this,arguments)}}(),Ge=Promise.resolve({remove:rt});return Object.defineProperty(Ge,"remove",{value:(Ze=(0,u.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield rt()}),function(){return Ze.apply(this,arguments)})}),Ge;var Ze}removeAllListeners(){var Y=this;return(0,u.Z)(function*(){Y.listeners={};for(const J in Y.windowListeners)Y.removeWindowListener(Y.windowListeners[J]);Y.windowListeners={}})()}notifyListeners(Y,J){const Ke=this.listeners[Y];Ke&&Ke.forEach(ot=>ot(J))}hasListeners(Y){return!!this.listeners[Y].length}registerWindowListener(Y,J){this.windowListeners[J]={registered:!1,windowEventName:Y,pluginEventName:J,handler:Ke=>{this.notifyListeners(J,Ke)}}}unimplemented(Y="not implemented"){return new ee.Exception(Y,fe.Unimplemented)}unavailable(Y="not available"){return new ee.Exception(Y,fe.Unavailable)}removeListener(Y,J){var Ke=this;return(0,u.Z)(function*(){const ot=Ke.listeners[Y];if(!ot)return;const wt=ot.indexOf(J);Ke.listeners[Y].splice(wt,1),Ke.listeners[Y].length||Ke.removeWindowListener(Ke.windowListeners[Y])})()}addWindowListener(Y){window.addEventListener(Y.windowEventName,Y.handler),Y.registered=!0}removeWindowListener(Y){!Y||(window.removeEventListener(Y.windowEventName,Y.handler),Y.registered=!1)}}const st=re=>encodeURIComponent(re).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Se=re=>re.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Ve extends Ee{getCookies(){return(0,u.Z)(function*(){const Y=document.cookie,J={};return Y.split(";").forEach(Ke=>{if(Ke.length<=0)return;let[ot,wt]=Ke.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");ot=Se(ot).trim(),wt=Se(wt).trim(),J[ot]=wt}),J})()}setCookie(Y){return(0,u.Z)(function*(){try{const J=st(Y.key),Ke=st(Y.value),ot=`; expires=${(Y.expires||"").replace("expires=","")}`,wt=(Y.path||"/").replace("path=",""),rt=null!=Y.url&&Y.url.length>0?`domain=${Y.url}`:"";document.cookie=`${J}=${Ke||""}${ot}; path=${wt}; ${rt};`}catch(J){return Promise.reject(J)}})()}deleteCookie(Y){return(0,u.Z)(function*(){try{document.cookie=`${Y.key}=; Max-Age=0`}catch(J){return Promise.reject(J)}})()}clearCookies(){return(0,u.Z)(function*(){try{const Y=document.cookie.split(";")||[];for(const J of Y)document.cookie=J.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(Y){return Promise.reject(Y)}})()}clearAllCookies(){var Y=this;return(0,u.Z)(function*(){try{yield Y.clearCookies()}catch(J){return Promise.reject(J)}})()}}Ie("CapacitorCookies",{web:()=>new Ve});const dt=function(){var re=(0,u.Z)(function*(Y){return new Promise((J,Ke)=>{const ot=new FileReader;ot.onload=()=>{const wt=ot.result;J(wt.indexOf(",")>=0?wt.split(",")[1]:wt)},ot.onerror=wt=>Ke(wt),ot.readAsDataURL(Y)})});return function(J){return re.apply(this,arguments)}}();class Re extends Ee{request(Y){return(0,u.Z)(function*(){const J=((re,Y={})=>{const J=Object.assign({method:re.method||"GET",headers:re.headers},Y),ot=((re={})=>{const Y=Object.keys(re);return Object.keys(re).map(ot=>ot.toLocaleLowerCase()).reduce((ot,wt,rt)=>(ot[wt]=re[Y[rt]],ot),{})})(re.headers)["content-type"]||"";if("string"==typeof re.data)J.body=re.data;else if(ot.includes("application/x-www-form-urlencoded")){const wt=new URLSearchParams;for(const[rt,Ge]of Object.entries(re.data||{}))wt.set(rt,Ge);J.body=wt.toString()}else if(ot.includes("multipart/form-data")){const wt=new FormData;if(re.data instanceof FormData)re.data.forEach((Ge,Ze)=>{wt.append(Ze,Ge)});else for(const Ge of Object.keys(re.data))wt.append(Ge,re.data[Ge]);J.body=wt;const rt=new Headers(J.headers);rt.delete("content-type"),J.headers=rt}else(ot.includes("application/json")||"object"==typeof re.data)&&(J.body=JSON.stringify(re.data));return J})(Y,Y.webFetchExtra),Ke=((re,Y=!0)=>re?Object.entries(re).reduce((Ke,ot)=>{const[wt,rt]=ot;let Ge,Ze;return Array.isArray(rt)?(Ze="",rt.forEach(mt=>{Ge=Y?encodeURIComponent(mt):mt,Ze+=`${wt}=${Ge}&`}),Ze.slice(0,-1)):(Ge=Y?encodeURIComponent(rt):rt,Ze=`${wt}=${Ge}`),`${Ke}&${Ze}`},"").substr(1):null)(Y.params,Y.shouldEncodeUrlParams),ot=Ke?`${Y.url}?${Ke}`:Y.url,wt=yield fetch(ot,J),rt=wt.headers.get("content-type")||"";let Ze,mt,{responseType:Ge="text"}=wt.ok?Y:{};switch(rt.includes("application/json")&&(Ge="json"),Ge){case"arraybuffer":case"blob":mt=yield wt.blob(),Ze=yield dt(mt);break;case"json":Ze=yield wt.json();break;default:Ze=yield wt.text()}const St={};return wt.headers.forEach((_t,bt)=>{St[bt]=_t}),{data:Ze,headers:St,status:wt.status,url:wt.url}})()}get(Y){var J=this;return(0,u.Z)(function*(){return J.request(Object.assign(Object.assign({},Y),{method:"GET"}))})()}post(Y){var J=this;return(0,u.Z)(function*(){return J.request(Object.assign(Object.assign({},Y),{method:"POST"}))})()}put(Y){var J=this;return(0,u.Z)(function*(){return J.request(Object.assign(Object.assign({},Y),{method:"PUT"}))})()}patch(Y){var J=this;return(0,u.Z)(function*(){return J.request(Object.assign(Object.assign({},Y),{method:"PATCH"}))})()}delete(Y){var J=this;return(0,u.Z)(function*(){return J.request(Object.assign(Object.assign({},Y),{method:"DELETE"}))})()}}Ie("CapacitorHttp",{web:()=>new Re})},2090:(Zt,ht,P)=>{"use strict";P.d(ht,{$s:()=>Yt,BH:()=>Ge,G6:()=>dt,L:()=>fe,LL:()=>_t,Pz:()=>rt,Sg:()=>Ze,UG:()=>ct,US:()=>z,ZB:()=>K,ZR:()=>St,aH:()=>wt,b$:()=>ye,eu:()=>nt,hl:()=>qe,jU:()=>je,m9:()=>yn,ne:()=>Ot,pd:()=>Lt,r3:()=>Bn,ru:()=>Ee,tV:()=>pe,uI:()=>Ie,vZ:()=>In,w1:()=>Se,xO:()=>Jn,xb:()=>kn,z$:()=>ee,zI:()=>ge,zd:()=>Wn});const De=function(Le){const Me=[];let X=0;for(let He=0;He<Le.length;He++){let ke=Le.charCodeAt(He);ke<128?Me[X++]=ke:ke<2048?(Me[X++]=ke>>6|192,Me[X++]=63&ke|128):55296==(64512&ke)&&He+1<Le.length&&56320==(64512&Le.charCodeAt(He+1))?(ke=65536+((1023&ke)<<10)+(1023&Le.charCodeAt(++He)),Me[X++]=ke>>18|240,Me[X++]=ke>>12&63|128,Me[X++]=ke>>6&63|128,Me[X++]=63&ke|128):(Me[X++]=ke>>12|224,Me[X++]=ke>>6&63|128,Me[X++]=63&ke|128)}return Me},z={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Le,Me){if(!Array.isArray(Le))throw Error("encodeByteArray takes an array as a parameter");this.init_();const X=Me?this.byteToCharMapWebSafe_:this.byteToCharMap_,He=[];for(let ke=0;ke<Le.length;ke+=3){const Pt=Le[ke],We=ke+1<Le.length,Be=We?Le[ke+1]:0,pt=ke+2<Le.length,Ct=pt?Le[ke+2]:0;let ve=(15&Be)<<2|Ct>>6,at=63&Ct;pt||(at=64,We||(ve=64)),He.push(X[Pt>>2],X[(3&Pt)<<4|Be>>4],X[ve],X[at])}return He.join("")},encodeString(Le,Me){return this.HAS_NATIVE_SUPPORT&&!Me?btoa(Le):this.encodeByteArray(De(Le),Me)},decodeString(Le,Me){return this.HAS_NATIVE_SUPPORT&&!Me?atob(Le):function(Le){const Me=[];let X=0,He=0;for(;X<Le.length;){const ke=Le[X++];if(ke<128)Me[He++]=String.fromCharCode(ke);else if(ke>191&&ke<224){const Pt=Le[X++];Me[He++]=String.fromCharCode((31&ke)<<6|63&Pt)}else if(ke>239&&ke<365){const pt=((7&ke)<<18|(63&Le[X++])<<12|(63&Le[X++])<<6|63&Le[X++])-65536;Me[He++]=String.fromCharCode(55296+(pt>>10)),Me[He++]=String.fromCharCode(56320+(1023&pt))}else{const Pt=Le[X++],We=Le[X++];Me[He++]=String.fromCharCode((15&ke)<<12|(63&Pt)<<6|63&We)}}return Me.join("")}(this.decodeStringToByteArray(Le,Me))},decodeStringToByteArray(Le,Me){this.init_();const X=Me?this.charToByteMapWebSafe_:this.charToByteMap_,He=[];for(let ke=0;ke<Le.length;){const Pt=X[Le.charAt(ke++)],Be=ke<Le.length?X[Le.charAt(ke)]:0;++ke;const Ct=ke<Le.length?X[Le.charAt(ke)]:64;++ke;const me=ke<Le.length?X[Le.charAt(ke)]:64;if(++ke,null==Pt||null==Be||null==Ct||null==me)throw Error();He.push(Pt<<2|Be>>4),64!==Ct&&(He.push(Be<<4&240|Ct>>2),64!==me&&He.push(Ct<<6&192|me))}return He},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Le=0;Le<this.ENCODED_VALS.length;Le++)this.byteToCharMap_[Le]=this.ENCODED_VALS.charAt(Le),this.charToByteMap_[this.byteToCharMap_[Le]]=Le,this.byteToCharMapWebSafe_[Le]=this.ENCODED_VALS_WEBSAFE.charAt(Le),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Le]]=Le,Le>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Le)]=Le,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Le)]=Le)}}},fe=function(Le){return function(Le){const Me=De(Le);return z.encodeByteArray(Me,!0)}(Le).replace(/\./g,"")},pe=function(Le){try{return z.decodeString(Le,!0)}catch(Me){console.error("base64Decode failed: ",Me)}return null};function K(Le,Me){if(!(Me instanceof Object))return Me;switch(Me.constructor){case Date:return new Date(Me.getTime());case Object:void 0===Le&&(Le={});break;case Array:Le=[];break;default:return Me}for(const X in Me)!Me.hasOwnProperty(X)||!se(X)||(Le[X]=K(Le[X],Me[X]));return Le}function se(Le){return"__proto__"!==Le}function ee(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ie(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ee())}function ct(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function je(){return"object"==typeof self&&self.self===self}function Ee(){const Le="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Le&&void 0!==Le.id}function ye(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Se(){const Le=ee();return Le.indexOf("MSIE ")>=0||Le.indexOf("Trident/")>=0}function dt(){return!ct()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qe(){try{return"object"==typeof indexedDB}catch{return!1}}function nt(){return new Promise((Le,Me)=>{try{let X=!0;const He="validate-browser-context-for-indexeddb-analytics-module",ke=self.indexedDB.open(He);ke.onsuccess=()=>{ke.result.close(),X||self.indexedDB.deleteDatabase(He),Le(!0)},ke.onupgradeneeded=()=>{X=!1},ke.onerror=()=>{var Pt;Me((null===(Pt=ke.error)||void 0===Pt?void 0:Pt.message)||"")}}catch(X){Me(X)}})}function ge(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const J=()=>{try{return function Re(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Le=process.env.__FIREBASE_DEFAULTS__;return Le?JSON.parse(Le):void 0})()||(()=>{if(typeof document>"u")return;let Le;try{Le=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Me=Le&&pe(Le[1]);return Me&&JSON.parse(Me)})()}catch(Le){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Le}`)}},wt=()=>{var Le;return null===(Le=J())||void 0===Le?void 0:Le.config},rt=Le=>{var Me;return null===(Me=J())||void 0===Me?void 0:Me[`_${Le}`]};class Ge{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Me,X)=>{this.resolve=Me,this.reject=X})}wrapCallback(Me){return(X,He)=>{X?this.reject(X):this.resolve(He),"function"==typeof Me&&(this.promise.catch(()=>{}),1===Me.length?Me(X):Me(X,He))}}}function Ze(Le,Me){if(Le.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const He=Me||"demo-project",ke=Le.iat||0,Pt=Le.sub||Le.user_id;if(!Pt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const We=Object.assign({iss:`https://securetoken.google.com/${He}`,aud:He,iat:ke,exp:ke+3600,auth_time:ke,sub:Pt,user_id:Pt,firebase:{sign_in_provider:"custom",identities:{}}},Le);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(We)),""].join(".")}class St extends Error{constructor(Me,X,He){super(X),this.code=Me,this.customData=He,this.name="FirebaseError",Object.setPrototypeOf(this,St.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_t.prototype.create)}}class _t{constructor(Me,X,He){this.service=Me,this.serviceName=X,this.errors=He}create(Me,...X){const He=X[0]||{},ke=`${this.service}/${Me}`,Pt=this.errors[Me],We=Pt?function bt(Le,Me){return Le.replace(tt,(X,He)=>{const ke=Me[He];return null!=ke?String(ke):`<${He}?>`})}(Pt,He):"Error";return new St(ke,`${this.serviceName}: ${We} (${ke}).`,He)}}const tt=/\{\$([^}]+)}/g;function Bn(Le,Me){return Object.prototype.hasOwnProperty.call(Le,Me)}function kn(Le){for(const Me in Le)if(Object.prototype.hasOwnProperty.call(Le,Me))return!1;return!0}function In(Le,Me){if(Le===Me)return!0;const X=Object.keys(Le),He=Object.keys(Me);for(const ke of X){if(!He.includes(ke))return!1;const Pt=Le[ke],We=Me[ke];if(zn(Pt)&&zn(We)){if(!In(Pt,We))return!1}else if(Pt!==We)return!1}for(const ke of He)if(!X.includes(ke))return!1;return!0}function zn(Le){return null!==Le&&"object"==typeof Le}function Jn(Le){const Me=[];for(const[X,He]of Object.entries(Le))Array.isArray(He)?He.forEach(ke=>{Me.push(encodeURIComponent(X)+"="+encodeURIComponent(ke))}):Me.push(encodeURIComponent(X)+"="+encodeURIComponent(He));return Me.length?"&"+Me.join("&"):""}function Wn(Le){const Me={};return Le.replace(/^\?/,"").split("&").forEach(He=>{if(He){const[ke,Pt]=He.split("=");Me[decodeURIComponent(ke)]=decodeURIComponent(Pt)}}),Me}function Lt(Le){const Me=Le.indexOf("?");if(!Me)return"";const X=Le.indexOf("#",Me);return Le.substring(Me,X>0?X:void 0)}function Ot(Le,Me){const X=new we(Le,Me);return X.subscribe.bind(X)}class we{constructor(Me,X){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=X,this.task.then(()=>{Me(this)}).catch(He=>{this.error(He)})}next(Me){this.forEachObserver(X=>{X.next(Me)})}error(Me){this.forEachObserver(X=>{X.error(Me)}),this.close(Me)}complete(){this.forEachObserver(Me=>{Me.complete()}),this.close()}subscribe(Me,X,He){let ke;if(void 0===Me&&void 0===X&&void 0===He)throw new Error("Missing Observer.");ke=function ze(Le,Me){if("object"!=typeof Le||null===Le)return!1;for(const X of Me)if(X in Le&&"function"==typeof Le[X])return!0;return!1}(Me,["next","error","complete"])?Me:{next:Me,error:X,complete:He},void 0===ke.next&&(ke.next=Et),void 0===ke.error&&(ke.error=Et),void 0===ke.complete&&(ke.complete=Et);const Pt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ke.error(this.finalError):ke.complete()}catch{}}),this.observers.push(ke),Pt}unsubscribeOne(Me){void 0===this.observers||void 0===this.observers[Me]||(delete this.observers[Me],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Me){if(!this.finalized)for(let X=0;X<this.observers.length;X++)this.sendOne(X,Me)}sendOne(Me,X){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Me])try{X(this.observers[Me])}catch(He){typeof console<"u"&&console.error&&console.error(He)}})}close(Me){this.finalized||(this.finalized=!0,void 0!==Me&&(this.finalError=Me),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Et(){}function Yt(Le,Me=1e3,X=2){const He=Me*Math.pow(X,Le),ke=Math.round(.5*He*(Math.random()-.5)*2);return Math.min(144e5,He+ke)}function yn(Le){return Le&&Le._delegate?Le._delegate:Le}},4153:(Zt,ht,P)=>{"use strict";P.d(ht,{Br:()=>Ks,dr:()=>on,BJ:()=>Dn,oU:()=>nn,cs:()=>Ps,YG:()=>fn,Sm:()=>Fn,hM:()=>Le,wI:()=>Me,W2:()=>X,jY:()=>Ct,Gu:()=>Ae,gu:()=>me,pK:()=>It,Ie:()=>be,rH:()=>ft,Ub:()=>jt,Q$:()=>vt,q_:()=>Bt,z0:()=>un,fG:()=>$n,H$:()=>G,jP:()=>ds,Nd:()=>te,t9:()=>_e,n0:()=>Fe,PQ:()=>Xt,jI:()=>dn,yW:()=>lr,wd:()=>zi,sr:()=>Gs,Pc:()=>R,r4:()=>ao,HT:()=>Xn,_q:()=>Ns,YI:()=>Sr,Fo:()=>jr,QI:()=>Wn,j9:()=>Lt,yF:()=>Ys});var u=P(5062),F=P(4719),j=P(655),De=P(6498),Ce=P(6688),z=P(7043),ue=P(4850);function pe(f,S,y,k){return(0,z.m)(y)&&(k=y,y=void 0),k?pe(f,S,y).pipe((0,ue.U)(de=>(0,Ce.k)(de)?k(...de):k(de))):new De.y(de=>{Q(f,S,function At(en){de.next(arguments.length>1?Array.prototype.slice.call(arguments):en)},de,y)})}function Q(f,S,y,k,de){let At;if(function ee(f){return f&&"function"==typeof f.addEventListener&&"function"==typeof f.removeEventListener}(f)){const en=f;f.addEventListener(S,y,de),At=()=>en.removeEventListener(S,y,de)}else if(function se(f){return f&&"function"==typeof f.on&&"function"==typeof f.off}(f)){const en=f;f.on(S,y),At=()=>en.off(S,y)}else if(function K(f){return f&&"function"==typeof f.addListener&&"function"==typeof f.removeListener}(f)){const en=f;f.addListener(S,y),At=()=>en.removeListener(S,y)}else{if(!f||!f.length)throw new TypeError("Invalid event target");for(let en=0,cn=f.length;en<cn;en++)Q(f[en],S,y,k,de)}k.add(At)}var Ie=P(8929),ct=P(591),je=P(7022),Ve=(P(8834),P(3953),P(3880),P(1911),P(9658)),Ue=P(5730),dt=P(697),qe=P(4292),nt=P(1312),he=(P(3457),P(4349),P(1308)),wt=P(2198),rt=P(7545),Ge=P(5778),Ze=P(6895);const St=Ve.i,tt=["*"],mn=f=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(f):"function"==typeof requestAnimationFrame?requestAnimationFrame(f):setTimeout(f),wn=f=>!!f.resolveComponentFactory;let Bn=(()=>{class f{constructor(y,k){this.injector=y,this.el=k,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(y){this.el.nativeElement.value=this.lastValue=y??"",Hn(this.el)}handleChangeEvent(y,k){y===this.el.nativeElement&&(k!==this.lastValue&&(this.lastValue=k,this.onChange(k)),Hn(this.el))}_handleBlurEvent(y){y===this.el.nativeElement&&(this.onTouched(),Hn(this.el))}registerOnChange(y){this.onChange=y}registerOnTouched(y){this.onTouched=y}setDisabledState(y){this.el.nativeElement.disabled=y}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let y;try{y=this.injector.get(F.a5)}catch{}if(!y)return;y.statusChanges&&(this.statusChanges=y.statusChanges.subscribe(()=>Hn(this.el)));const k=y.control;k&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(At=>{if(typeof k[At]<"u"){const en=k[At].bind(k);k[At]=(...cn)=>{en(...cn),Hn(this.el)}}})}}return f.\u0275fac=function(y){return new(y||f)(u.Y36(u.zs3),u.Y36(u.SBq))},f.\u0275dir=u.lG2({type:f,hostBindings:function(y,k){1&y&&u.NdJ("ionBlur",function(At){return k._handleBlurEvent(At.target)})}}),f})();const Hn=f=>{mn(()=>{const S=f.nativeElement,y=null!=S.value&&S.value.toString().length>0,k=kn(S);_n(S,k);const de=S.closest("ion-item");de&&_n(de,y?[...k,"item-has-value"]:k)})},kn=f=>{const S=f.classList,y=[];for(let k=0;k<S.length;k++){const de=S.item(k);null!==de&&In(de,"ng-")&&y.push(`ion-${de.substring(3)}`)}return y},_n=(f,S)=>{const y=f.classList;y.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),y.add(...S)},In=(f,S)=>f.substring(0,S.length)===S;let Wn=(()=>{class f extends Bn{constructor(y,k){super(y,k)}_handleChangeEvent(y){this.handleChangeEvent(y,y.value)}}return f.\u0275fac=function(y){return new(y||f)(u.Y36(u.zs3),u.Y36(u.SBq))},f.\u0275dir=u.lG2({type:f,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(y,k){1&y&&u.NdJ("ionChange",function(At){return k._handleChangeEvent(At.target)})},features:[u._Bn([{provide:F.JU,useExisting:f,multi:!0}]),u.qOj]}),f})(),Lt=(()=>{class f extends Bn{constructor(y,k){super(y,k)}_handleInputEvent(y){this.handleChangeEvent(y,y.value)}}return f.\u0275fac=function(y){return new(y||f)(u.Y36(u.zs3),u.Y36(u.SBq))},f.\u0275dir=u.lG2({type:f,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(y,k){1&y&&u.NdJ("ionChange",function(At){return k._handleInputEvent(At.target)})},features:[u._Bn([{provide:F.JU,useExisting:f,multi:!0}]),u.qOj]}),f})();const gn=(f,S)=>{const y=f.prototype;S.forEach(k=>{Object.defineProperty(y,k,{get(){return this.el[k]},set(de){this.z.runOutsideAngular(()=>this.el[k]=de)}})})},Ot=(f,S)=>{const y=f.prototype;S.forEach(k=>{y[k]=function(){const de=arguments;return this.z.runOutsideAngular(()=>this.el[k].apply(this.el,de))}})},we=(f,S,y)=>{y.forEach(k=>f[k]=pe(S,k))};function ze(f){return function(y){const{defineCustomElementFn:k,inputs:de,methods:At}=f;return void 0!==k&&k(),de&&gn(y,de),At&&Ot(y,At),y}}let on=(()=>{let f=class{constructor(y,k,de){this.z=de,y.detach(),this.el=k.nativeElement}};return f.\u0275fac=function(y){return new(y||f)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},f.\u0275cmp=u.Xpm({type:f,selectors:[["ion-app"]],ngContentSelectors:tt,decls:1,vars:0,template:function(y,k){1&y&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,j.gn)([ze({defineCustomElementFn:void 0})],f),f})(),Dn=(()=>{let f=class{constructor(y,k,de){this.z=de,y.detach(),this.el=k.nativeElement}};return f.\u0275fac=function(y){return new(y||f)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},f.\u0275cmp=u.Xpm({type:f,selectors:[["ion-avatar"]],ngContentSelectors:tt,decls:1,vars:0,template:function(y,k){1&y&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,j.gn)([ze({defineCustomElementFn:void 0})],f),f})(),nn=(()=>{let f=class{constructor(y,k,de){this.z=de,y.detach(),this.el=k.nativeElement}};return f.\u0275fac=function(y){return new(y||f)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},f.\u0275cmp=u.Xpm({type:f,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:tt,decls:1,vars:0,template:function(y,k){1&y&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,j.gn)([ze({defineCustomElementFn:void 0,inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],f),f})(),fn=(()=>{let f=class{constructor(y,k,de){this.z=de,y.detach(),this.el=k.nativeElement,we(this,this.el,["ionFocus","ionBlur"])}};return f.\u0275fac=function(y){return new(y||f)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},f.\u0275cmp=u.Xpm({type:f,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:tt,decls:1,vars:0,template:function(y,k){1&y&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,j.gn)([ze({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],f),f})(),Fn=(()=>{let f=class{constructor(y,k,de){this.z=de,y.detach(),this.el=k.nativeElement}};return f.\u0275fac=function(y){return new(y||f)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},f.\u0275cmp=u.Xpm({type:f,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:tt,decls:1,vars:0,template:function(y,k){1&y&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,j.gn)([ze({defineCustomElementFn:void 0,inputs:["collapse"]})],f),f})(),Le=(()=>{let f=class{constructor(y,k,de){this.z=de,y.detach(),this.el=k.nativeElement}};return f.\u0275fac=function(y){return new(y||f)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},f.\u0275cmp=u.Xpm({type:f,selectors:[["ion-chip"]],inputs:{color:"color",disabled:"disabled",mode:"mode",outline:"outline"},ngContentSelectors:tt,decls:1,vars:0,template:function(y,k){1&y&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,j.gn)([ze({defineCustomElementFn:void 0,inputs:["color","disabled","mode","outline"]})],f),f})(),Me=(()=>{let f=class{constructor(y,k,de){this.z=de,y.detach(),this.el=k.nativeElement}};return f.\u0275fac=function(y){return new(y||f)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},f.\u0275cmp=u.Xpm({type:f,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:tt,decls:1,vars:0,template:function(y,k){1&y&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,j.gn)([ze({defineCustomElementFn:void 0,inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],f),f})(),X=(()=>{let f=class{constructor(y,k,de){this.z=de,y.detach(),this.el=k.nativeElement,we(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return f.\u0275fac=function(y){return new(y||f)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},f.\u0275cmp=u.Xpm({type:f,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:tt,decls:1,vars:0,template:function(y,k){1&y&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,j.gn)([ze({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],f),f})(),Ct=(()=>{let f=class{constructor(y,k,de){this.z=de,y.detach(),this.el=k.nativeElement}};return f.\u0275fac=function(y){return new(y||f)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},f.\u0275cmp=u.Xpm({type:f,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:tt,decls:1,vars:0,template:function(y,k){1&y&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,j.gn)([ze({defineCustomElementFn:void 0,inputs:["fixed"]})],f),f})(),Ae=(()=>{let f=class{constructor(y,k,de){this.z=de,y.detach(),this.el=k.nativeElement}};return f.\u0275fac=function(y){return new(y||f)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},f.\u0275cmp=u.Xpm({type:f,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:tt,decls:1,vars:0,template:function(y,k){1&y&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,j.gn)([ze({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],f),f})(),me=(()=>{let f=class{constructor(y,k,de){this.z=de,y.detach(),this.el=k.nativeElement}};return f.\u0275fac=function(y){return new(y||f)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},f.\u0275cmp=u.Xpm({type:f,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:tt,decls:1,vars:0,template:function(y,k){1&y&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,j.gn)([ze({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],f),f})(),It=(()=>{let f=class{constructor(y,k,de){this.z=de,y.detach(),this.el=k.nativeElement,we(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return f.\u0275fac=function(y){return new(y||f)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},f.\u0275cmp=u.Xpm({type:f,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:tt,decls:1,vars:0,template:function(y,k){1&y&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,j.gn)([ze({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],f),f})(),be=(()=>{let f=class{constructor(y,k,de){this.z=de,y.detach(),this.el=k.nativeElement}};return f.\u0275fac=function(y){return new(y||f)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},f.\u0275cmp=u.Xpm({type:f,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:tt,decls:1,vars:0,template:function(y,k){1&y&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,j.gn)([ze({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],f),f})(),ft=(()=>{let f=class{constructor(y,k,de){this.z=de,y.detach(),this.el=k.nativeElement}};return f.\u0275fac=function(y){return new(y||f)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},f.\u0275cmp=u.Xpm({type:f,selectors:[["ion-item-divider"]],inputs:{color:"color",mode:"mode",sticky:"sticky"},ngContentSelectors:tt,decls:1,vars:0,template:function(y,k){1&y&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,j.gn)([ze({defineCustomElementFn:void 0,inputs:["color","mode","sticky"]})],f),f})(),jt=(()=>{let f=class{constructor(y,k,de){this.z=de,y.detach(),this.el=k.nativeElement}};return f.\u0275fac=function(y){return new(y||f)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},f.\u0275cmp=u.Xpm({type:f,selectors:[["ion-item-group"]],ngContentSelectors:tt,decls:1,vars:0,template:function(y,k){1&y&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,j.gn)([ze({defineCustomElementFn:void 0})],f),f})(),vt=(()=>{let f=class{constructor(y,k,de){this.z=de,y.detach(),this.el=k.nativeElement}};return f.\u0275fac=function(y){return new(y||f)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},f.\u0275cmp=u.Xpm({type:f,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:tt,decls:1,vars:0,template:function(y,k){1&y&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,j.gn)([ze({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],f),f})(),Bt=(()=>{let f=class{constructor(y,k,de){this.z=de,y.detach(),this.el=k.nativeElement}};return f.\u0275fac=function(y){return new(y||f)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},f.\u0275cmp=u.Xpm({type:f,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:tt,decls:1,vars:0,template:function(y,k){1&y&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,j.gn)([ze({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],f),f})(),un=(()=>{let f=class{constructor(y,k,de){this.z=de,y.detach(),this.el=k.nativeElement,we(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}};return f.\u0275fac=function(y){return new(y||f)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},f.\u0275cmp=u.Xpm({type:f,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:tt,decls:1,vars:0,template:function(y,k){1&y&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,j.gn)([ze({defineCustomElementFn:void 0,inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],f),f})(),$n=(()=>{let f=class{constructor(y,k,de){this.z=de,y.detach(),this.el=k.nativeElement}};return f.\u0275fac=function(y){return new(y||f)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},f.\u0275cmp=u.Xpm({type:f,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:tt,decls:1,vars:0,template:function(y,k){1&y&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,j.gn)([ze({defineCustomElementFn:void 0,inputs:["autoHide","color","disabled","menu","mode","type"]})],f),f})(),G=(()=>{let f=class{constructor(y,k,de){this.z=de,y.detach(),this.el=k.nativeElement}};return f.\u0275fac=function(y){return new(y||f)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},f.\u0275cmp=u.Xpm({type:f,selectors:[["ion-ripple-effect"]],inputs:{type:"type"},ngContentSelectors:tt,decls:1,vars:0,template:function(y,k){1&y&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,j.gn)([ze({defineCustomElementFn:void 0,inputs:["type"],methods:["addRipple"]})],f),f})(),te=(()=>{let f=class{constructor(y,k,de){this.z=de,y.detach(),this.el=k.nativeElement}};return f.\u0275fac=function(y){return new(y||f)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},f.\u0275cmp=u.Xpm({type:f,selectors:[["ion-row"]],ngContentSelectors:tt,decls:1,vars:0,template:function(y,k){1&y&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,j.gn)([ze({defineCustomElementFn:void 0})],f),f})(),_e=(()=>{let f=class{constructor(y,k,de){this.z=de,y.detach(),this.el=k.nativeElement,we(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return f.\u0275fac=function(y){return new(y||f)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},f.\u0275cmp=u.Xpm({type:f,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",compareWith:"compareWith",disabled:"disabled",interface:"interface",interfaceOptions:"interfaceOptions",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",value:"value"},ngContentSelectors:tt,decls:1,vars:0,template:function(y,k){1&y&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,j.gn)([ze({defineCustomElementFn:void 0,inputs:["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"],methods:["open"]})],f),f})(),Fe=(()=>{let f=class{constructor(y,k,de){this.z=de,y.detach(),this.el=k.nativeElement}};return f.\u0275fac=function(y){return new(y||f)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},f.\u0275cmp=u.Xpm({type:f,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:tt,decls:1,vars:0,template:function(y,k){1&y&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,j.gn)([ze({defineCustomElementFn:void 0,inputs:["disabled","value"]})],f),f})(),Xt=(()=>{let f=class{constructor(y,k,de){this.z=de,y.detach(),this.el=k.nativeElement}};return f.\u0275fac=function(y){return new(y||f)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},f.\u0275cmp=u.Xpm({type:f,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:tt,decls:1,vars:0,template:function(y,k){1&y&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,j.gn)([ze({defineCustomElementFn:void 0,inputs:["color","duration","name","paused"]})],f),f})(),dn=(()=>{let f=class{constructor(y,k,de){this.z=de,y.detach(),this.el=k.nativeElement,we(this,this.el,["ionSplitPaneVisible"])}};return f.\u0275fac=function(y){return new(y||f)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},f.\u0275cmp=u.Xpm({type:f,selectors:[["ion-split-pane"]],inputs:{contentId:"contentId",disabled:"disabled",when:"when"},ngContentSelectors:tt,decls:1,vars:0,template:function(y,k){1&y&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,j.gn)([ze({defineCustomElementFn:void 0,inputs:["contentId","disabled","when"]})],f),f})(),lr=(()=>{let f=class{constructor(y,k,de){this.z=de,y.detach(),this.el=k.nativeElement}};return f.\u0275fac=function(y){return new(y||f)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},f.\u0275cmp=u.Xpm({type:f,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:tt,decls:1,vars:0,template:function(y,k){1&y&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,j.gn)([ze({defineCustomElementFn:void 0,inputs:["color","mode"]})],f),f})(),zi=(()=>{let f=class{constructor(y,k,de){this.z=de,y.detach(),this.el=k.nativeElement}};return f.\u0275fac=function(y){return new(y||f)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},f.\u0275cmp=u.Xpm({type:f,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:tt,decls:1,vars:0,template:function(y,k){1&y&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,j.gn)([ze({defineCustomElementFn:void 0,inputs:["color","size"]})],f),f})(),Gs=(()=>{let f=class{constructor(y,k,de){this.z=de,y.detach(),this.el=k.nativeElement}};return f.\u0275fac=function(y){return new(y||f)(u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.R0b))},f.\u0275cmp=u.Xpm({type:f,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:tt,decls:1,vars:0,template:function(y,k){1&y&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,j.gn)([ze({defineCustomElementFn:void 0,inputs:["color","mode"]})],f),f})();class Zi{constructor(S={}){this.data=S}get(S){return this.data[S]}}let As=(()=>{class f{constructor(y,k){this.zone=y,this.appRef=k}create(y,k,de){return new as(y,k,de,this.appRef,this.zone)}}return f.\u0275fac=function(y){return new(y||f)(u.LFG(u.R0b),u.LFG(u.z2F))},f.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac}),f})();class as{constructor(S,y,k,de,At){this.resolverOrInjector=S,this.injector=y,this.location=k,this.appRef=de,this.zone=At,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(S,y,k,de){return this.zone.run(()=>new Promise(At=>{At(pu(this.zone,this.resolverOrInjector,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,S,y,k,de))}))}removeViewFromDom(S,y){return this.zone.run(()=>new Promise(k=>{const de=this.elRefMap.get(y);if(de){de.destroy(),this.elRefMap.delete(y);const At=this.elEventsMap.get(y);At&&(At(),this.elEventsMap.delete(y))}k()}))}}const pu=(f,S,y,k,de,At,en,cn,Kn,yr,Ar)=>{let gr;const fi=u.zs3.create({providers:bo(yr),parent:y});if(S&&wn(S)){const rs=S.resolveComponentFactory(Kn);gr=k?k.createComponent(rs,k.length,fi):rs.create(fi)}else{if(!k)return null;gr=k.createComponent(Kn,{index:k.indexOf,injector:fi,environmentInjector:S})}const ns=gr.instance,pi=gr.location.nativeElement;if(yr&&Object.assign(ns,yr),Ar)for(const rs of Ar)pi.classList.add(rs);const Io=no(f,ns,pi);return cn.appendChild(pi),k||de.attachView(gr.hostView),gr.changeDetectorRef.reattach(),At.set(pi,gr),en.set(pi,Io),pi},jo=[dt.L,dt.a,dt.b,dt.c,dt.d],no=(f,S,y)=>f.run(()=>{const k=jo.filter(de=>"function"==typeof S[de]).map(de=>{const At=en=>S[de](en.detail);return y.addEventListener(de,At),()=>y.removeEventListener(de,At)});return()=>k.forEach(de=>de())}),xs=new u.OlP("NavParamsToken"),bo=f=>[{provide:xs,useValue:f},{provide:Zi,useFactory:gu,deps:[xs]}],gu=f=>new Zi(f),ua=(f,S)=>((f=f.filter(y=>y.stackId!==S.stackId)).push(S),f),Oi=(f,S)=>{const y=f.createUrlTree(["."],{relativeTo:S});return f.serializeUrl(y)},ro=(f,S)=>{if(!f)return;const y=Yr(S);for(let k=0;k<y.length;k++){if(k>=f.length)return y[k];if(y[k]!==f[k])return}},Yr=f=>f.split("/").map(S=>S.trim()).filter(S=>""!==S),Vi=f=>{f&&(f.ref.destroy(),f.unlistenEvents())};class Qi{constructor(S,y,k,de,At,en){this.containerEl=y,this.router=k,this.navCtrl=de,this.zone=At,this.location=en,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==S?Yr(S):void 0}createView(S,y){var k;const de=Oi(this.router,y),At=null===(k=S?.location)||void 0===k?void 0:k.nativeElement,en=no(this.zone,S.instance,At);return{id:this.nextId++,stackId:ro(this.tabsPrefix,de),unlistenEvents:en,element:At,ref:S,url:de}}getExistingView(S){const y=Oi(this.router,S),k=this.views.find(de=>de.url===y);return k&&k.ref.changeDetectorRef.reattach(),k}setActive(S){var y,k;const de=this.navCtrl.consumeTransition();let{direction:At,animation:en,animationBuilder:cn}=de;const Kn=this.activeView,yr=((f,S)=>!S||f.stackId!==S.stackId)(S,Kn);yr&&(At="back",en=void 0);const Ar=this.views.slice();let gr;const fi=this.router;fi.getCurrentNavigation?gr=fi.getCurrentNavigation():!(null===(y=fi.navigations)||void 0===y)&&y.value&&(gr=fi.navigations.value),null!==(k=gr?.extras)&&void 0!==k&&k.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const ns=this.views.includes(S),pi=this.insertView(S,At);ns||S.ref.changeDetectorRef.detectChanges();const Io=S.animationBuilder;return void 0===cn&&"back"===At&&!yr&&void 0!==Io&&(cn=Io),Kn&&(Kn.animationBuilder=cn),this.zone.runOutsideAngular(()=>this.wait(()=>(Kn&&Kn.ref.changeDetectorRef.detach(),S.ref.changeDetectorRef.reattach(),this.transition(S,Kn,en,this.canGoBack(1),!1,cn).then(()=>cs(S,pi,Ar,this.location,this.zone)).then(()=>({enteringView:S,direction:At,animation:en,tabSwitch:yr})))))}canGoBack(S,y=this.getActiveStackId()){return this.getStack(y).length>S}pop(S,y=this.getActiveStackId()){return this.zone.run(()=>{var k,de;const At=this.getStack(y);if(At.length<=S)return Promise.resolve(!1);const en=At[At.length-S-1];let cn=en.url;const Kn=en.savedData;if(Kn){const Ar=Kn.get("primary");null!==(de=null===(k=Ar?.route)||void 0===k?void 0:k._routerState)&&void 0!==de&&de.snapshot.url&&(cn=Ar.route._routerState.snapshot.url)}const{animationBuilder:yr}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(cn,Object.assign(Object.assign({},en.savedExtras),{animation:yr})).then(()=>!0)})}startBackTransition(){const S=this.activeView;if(S){const y=this.getStack(S.stackId),k=y[y.length-2],de=k.animationBuilder;return this.wait(()=>this.transition(k,S,"back",this.canGoBack(2),!0,de))}return Promise.resolve()}endBackTransition(S){S?(this.skipTransition=!0,this.pop(1)):this.activeView&&Ms(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(S){const y=this.getStack(S);return y.length>0?y[y.length-1]:void 0}getRootUrl(S){const y=this.getStack(S);return y.length>0?y[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Vi),this.activeView=void 0,this.views=[]}getStack(S){return this.views.filter(y=>y.stackId===S)}insertView(S,y){return this.activeView=S,this.views=((f,S,y)=>"root"===y?ua(f,S):"forward"===y?((f,S)=>(f.indexOf(S)>=0?f=f.filter(k=>k.stackId!==S.stackId||k.id<=S.id):f.push(S),f))(f,S):((f,S)=>f.indexOf(S)>=0?f.filter(k=>k.stackId!==S.stackId||k.id<=S.id):ua(f,S))(f,S))(this.views,S,y),this.views.slice()}transition(S,y,k,de,At,en){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(y===S)return Promise.resolve(!1);const cn=S?S.element:void 0,Kn=y?y.element:void 0,yr=this.containerEl;return cn&&cn!==Kn&&(cn.classList.add("ion-page"),cn.classList.add("ion-page-invisible"),cn.parentElement!==yr&&yr.appendChild(cn),yr.commit)?yr.commit(cn,Kn,{deepWait:!0,duration:void 0===k?0:void 0,direction:k,showGoBack:de,progressAnimation:At,animationBuilder:en}):Promise.resolve(!1)}wait(S){return(0,j.mG)(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const y=this.runningTask=S();return y.finally(()=>this.runningTask=void 0),y})}}const cs=(f,S,y,k,de)=>"function"==typeof requestAnimationFrame?new Promise(At=>{requestAnimationFrame(()=>{Ms(f,S,y,k,de),At()})}):Promise.resolve(),Ms=(f,S,y,k,de)=>{de.run(()=>y.filter(At=>!S.includes(At)).forEach(Vi)),S.forEach(At=>{const cn=k.path().split("?")[0].split("#")[0];if(At!==f&&At.url!==cn){const Kn=At.element;Kn.setAttribute("aria-hidden","true"),Kn.classList.add("ion-page-hidden"),At.ref.changeDetectorRef.detach()}})};let zs=(()=>{class f{get(y,k){const de=Rs();return de?de.get(y,k):null}getBoolean(y,k){const de=Rs();return!!de&&de.getBoolean(y,k)}getNumber(y,k){const de=Rs();return de?de.getNumber(y,k):0}}return f.\u0275fac=function(y){return new(y||f)},f.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();const $i=new u.OlP("USERCONFIG"),Rs=()=>{if(typeof window<"u"){const f=window.Ionic;if(f?.config)return f.config}return null};let wo=(()=>{class f{constructor(y,k){this.doc=y,this.backButton=new Ie.xQ,this.keyboardDidShow=new Ie.xQ,this.keyboardDidHide=new Ie.xQ,this.pause=new Ie.xQ,this.resume=new Ie.xQ,this.resize=new Ie.xQ,k.run(()=>{var de;let At;this.win=y.defaultView,this.backButton.subscribeWithPriority=function(en,cn){return this.subscribe(Kn=>Kn.register(en,yr=>k.run(()=>cn(yr))))},Ji(this.pause,y,"pause"),Ji(this.resume,y,"resume"),Ji(this.backButton,y,"ionBackButton"),Ji(this.resize,this.win,"resize"),Ji(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Ji(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(en=>{At=en}),null!==(de=this.win)&&void 0!==de&&de.cordova?y.addEventListener("deviceready",()=>{At("cordova")},{once:!0}):At("dom")})}is(y){return(0,Ve.a)(this.win,y)}platforms(){return(0,Ve.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(y){return ni(this.win.location.href,y)}isLandscape(){return!this.isPortrait()}isPortrait(){var y,k;return null===(k=(y=this.win).matchMedia)||void 0===k?void 0:k.call(y,"(orientation: portrait)").matches}testUserAgent(y){const k=this.win.navigator;return!!(k?.userAgent&&k.userAgent.indexOf(y)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return f.\u0275fac=function(y){return new(y||f)(u.LFG(Ze.K0),u.LFG(u.R0b))},f.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();const ni=(f,S)=>{S=S.replace(/[[\]\\]/g,"\\$&");const k=new RegExp("[\\?&]"+S+"=([^&#]*)").exec(f);return k?decodeURIComponent(k[1].replace(/\+/g," ")):null},Ji=(f,S,y)=>{S&&S.addEventListener(y,k=>{f.next(k?.detail)})};let Jr=(()=>{class f{constructor(y,k,de,At){this.location=k,this.serializer=de,this.router=At,this.direction=ls,this.animated=Ur,this.guessDirection="forward",this.lastNavId=-1,At&&At.events.subscribe(en=>{if(en instanceof je.OD){const cn=en.restoredState?en.restoredState.navigationId:en.id;this.guessDirection=cn<this.lastNavId?"back":"forward",this.guessAnimation=en.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?en.id:cn}}),y.backButton.subscribeWithPriority(0,en=>{this.pop(),en()})}navigateForward(y,k={}){return this.setDirection("forward",k.animated,k.animationDirection,k.animation),this.navigate(y,k)}navigateBack(y,k={}){return this.setDirection("back",k.animated,k.animationDirection,k.animation),this.navigate(y,k)}navigateRoot(y,k={}){return this.setDirection("root",k.animated,k.animationDirection,k.animation),this.navigate(y,k)}back(y={animated:!0,animationDirection:"back"}){return this.setDirection("back",y.animated,y.animationDirection,y.animation),this.location.back()}pop(){return(0,j.mG)(this,void 0,void 0,function*(){let y=this.topOutlet;for(;y&&!(yield y.pop());)y=y.parentOutlet})}setDirection(y,k,de,At){this.direction=y,this.animated=Ws(y,k,de),this.animationBuilder=At}setTopOutlet(y){this.topOutlet=y}consumeTransition(){let k,y="root";const de=this.animationBuilder;return"auto"===this.direction?(y=this.guessDirection,k=this.guessAnimation):(k=this.animated,y=this.direction),this.direction=ls,this.animated=Ur,this.animationBuilder=void 0,{direction:y,animation:k,animationBuilder:de}}navigate(y,k){if(Array.isArray(y))return this.router.navigate(y,k);{const de=this.serializer.parse(y.toString());return void 0!==k.queryParams&&(de.queryParams=Object.assign({},k.queryParams)),void 0!==k.fragment&&(de.fragment=k.fragment),this.router.navigateByUrl(de,k)}}}return f.\u0275fac=function(y){return new(y||f)(u.LFG(wo),u.LFG(Ze.Ye),u.LFG(je.Hx),u.LFG(je.F0,8))},f.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();const Ws=(f,S,y)=>{if(!1!==S){if(void 0!==y)return y;if("forward"===f||"back"===f)return f;if("root"===f&&!0===S)return"forward"}},ls="auto",Ur=void 0;let ds=(()=>{class f{constructor(y,k,de,At,en,cn,Kn,yr,Ar,gr,fi,ns,pi){this.parentContexts=y,this.location=k,this.config=en,this.navCtrl=cn,this.componentFactoryResolver=Kn,this.parentOutlet=pi,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new ct.X(null),this.stackEvents=new u.vpe,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.nativeEl=Ar.nativeElement,this.name=de||je.eC,this.tabsPrefix="true"===At?Oi(gr,ns):void 0,this.stackCtrl=new Qi(this.tabsPrefix,this.nativeEl,gr,cn,fi,yr),y.onChildOutletCreated(this.name,this)}set animation(y){this.nativeEl.animation=y}set animated(y){this.nativeEl.animated=y}set swipeGesture(y){this._swipeGesture=y,this.nativeEl.swipeHandler=y?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:k=>this.stackCtrl.endBackTransition(k)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const y=this.getContext();y?.route&&this.activateWith(y.route,y.resolver||null)}new Promise(y=>(0,Ue.c)(this.nativeEl,y)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(y,k){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const k=this.getContext();this.activatedView.savedData=new Map(k.children.contexts);const de=this.activatedView.savedData.get("primary");if(de&&k.route&&(de.route=Object.assign({},k.route)),this.activatedView.savedExtras={},k.route){const At=k.route.snapshot;this.activatedView.savedExtras.queryParams=At.queryParams,this.activatedView.savedExtras.fragment=At.fragment}}const y=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,k){var de;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=y;let At,en=this.stackCtrl.getExistingView(y);if(en){At=this.activated=en.ref;const cn=en.savedData;cn&&(this.getContext().children.contexts=cn),this.updateActivatedRouteProxy(At.instance,y)}else{const cn=y._futureSnapshot;if(null==cn.routeConfig.component&&null==this.environmentInjector)return void console.warn('[Ionic Warning]: You must supply an environmentInjector to use standalone components with routing:\n\nIn your component class, add:\n\n   import { EnvironmentInjector } from \'@angular/core\';\n   constructor(public environmentInjector: EnvironmentInjector) {}\n\nIn your router outlet template, add:\n\n   <ion-router-outlet [environmentInjector]="environmentInjector"></ion-router-outlet>\n\nAlternatively, if you are routing within ion-tabs:\n\n   <ion-tabs [environmentInjector]="environmentInjector"></ion-tabs>');const Kn=this.parentContexts.getOrCreateContext(this.name).children,yr=new ct.X(null),Ar=this.createActivatedRouteProxy(yr,y),gr=new Os(Ar,Kn,this.location.injector),fi=null!==(de=cn.routeConfig.component)&&void 0!==de?de:cn.component;if((k=k||this.componentFactoryResolver)&&wn(k)){const ns=k.resolveComponentFactory(fi);At=this.activated=this.location.createComponent(ns,this.location.length,gr)}else At=this.activated=this.location.createComponent(fi,{index:this.location.length,injector:gr,environmentInjector:k??this.environmentInjector});yr.next(At.instance),en=this.stackCtrl.createView(this.activated,y),this.proxyMap.set(At.instance,Ar),this.currentActivatedRoute$.next({component:At.instance,activatedRoute:y})}this.activatedView=en,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(en).then(cn=>{this.activateEvents.emit(At.instance),this.stackEvents.emit(cn)})}canGoBack(y=1,k){return this.stackCtrl.canGoBack(y,k)}pop(y=1,k){return this.stackCtrl.pop(y,k)}getLastUrl(y){const k=this.stackCtrl.getLastUrl(y);return k?k.url:void 0}getLastRouteView(y){return this.stackCtrl.getLastUrl(y)}getRootView(y){return this.stackCtrl.getRootUrl(y)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(y,k){const de=new je.gz;return de._futureSnapshot=k._futureSnapshot,de._routerState=k._routerState,de.snapshot=k.snapshot,de.outlet=k.outlet,de.component=k.component,de._paramMap=this.proxyObservable(y,"paramMap"),de._queryParamMap=this.proxyObservable(y,"queryParamMap"),de.url=this.proxyObservable(y,"url"),de.params=this.proxyObservable(y,"params"),de.queryParams=this.proxyObservable(y,"queryParams"),de.fragment=this.proxyObservable(y,"fragment"),de.data=this.proxyObservable(y,"data"),de}proxyObservable(y,k){return y.pipe((0,wt.h)(de=>!!de),(0,rt.w)(de=>this.currentActivatedRoute$.pipe((0,wt.h)(At=>null!==At&&At.component===de),(0,rt.w)(At=>At&&At.activatedRoute[k]),(0,Ge.x)())))}updateActivatedRouteProxy(y,k){const de=this.proxyMap.get(y);if(!de)throw new Error("Could not find activated route proxy for view");de._futureSnapshot=k._futureSnapshot,de._routerState=k._routerState,de.snapshot=k.snapshot,de.outlet=k.outlet,de.component=k.component,this.currentActivatedRoute$.next({component:y,activatedRoute:k})}}return f.\u0275fac=function(y){return new(y||f)(u.Y36(je.y6),u.Y36(u.s_b),u.$8M("name"),u.$8M("tabs"),u.Y36(zs),u.Y36(Jr),u.Y36(u._Vd,8),u.Y36(Ze.Ye),u.Y36(u.SBq),u.Y36(je.F0),u.Y36(u.R0b),u.Y36(je.gz),u.Y36(f,12))},f.\u0275dir=u.lG2({type:f,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",environmentInjector:"environmentInjector"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),f})();class Os{constructor(S,y,k){this.route=S,this.childContexts=y,this.parent=k}get(S,y){return S===je.gz?this.route:S===je.y6?this.childContexts:this.parent.get(S,y)}}let Ps=(()=>{class f{constructor(y,k,de){this.routerOutlet=y,this.navCtrl=k,this.config=de}onClick(y){var k;const de=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(k=this.routerOutlet)&&void 0!==k&&k.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),y.preventDefault()):null!=de&&(this.navCtrl.navigateBack(de,{animation:this.routerAnimation}),y.preventDefault())}}return f.\u0275fac=function(y){return new(y||f)(u.Y36(ds,8),u.Y36(Jr),u.Y36(zs))},f.\u0275dir=u.lG2({type:f,selectors:[["ion-back-button"]],hostBindings:function(y,k){1&y&&u.NdJ("click",function(At){return k.onClick(At)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),f})(),Sr=(()=>{class f{constructor(y,k,de,At,en){this.locationStrategy=y,this.navCtrl=k,this.elementRef=de,this.router=At,this.routerLink=en,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var y;if(null!==(y=this.routerLink)&&void 0!==y&&y.urlTree){const k=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=k}}onClick(y){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),y.preventDefault()}}return f.\u0275fac=function(y){return new(y||f)(u.Y36(Ze.S$),u.Y36(Jr),u.Y36(u.SBq),u.Y36(je.F0),u.Y36(je.rH,8))},f.\u0275dir=u.lG2({type:f,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(y,k){1&y&&u.NdJ("click",function(At){return k.onClick(At)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[u.TTD]}),f})(),jr=(()=>{class f{constructor(y,k,de,At,en){this.locationStrategy=y,this.navCtrl=k,this.elementRef=de,this.router=At,this.routerLink=en,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var y;if(null!==(y=this.routerLink)&&void 0!==y&&y.urlTree){const k=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=k}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return f.\u0275fac=function(y){return new(y||f)(u.Y36(Ze.S$),u.Y36(Jr),u.Y36(u.SBq),u.Y36(je.F0),u.Y36(je.rH,8))},f.\u0275dir=u.lG2({type:f,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(y,k){1&y&&u.NdJ("click",function(){return k.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[u.TTD]}),f})();class hi{constructor(S){this.ctrl=S}create(S){return this.ctrl.create(S||{})}dismiss(S,y,k){return this.ctrl.dismiss(S,y,k)}getTop(){return this.ctrl.getTop()}}let Ks=(()=>{class f extends hi{constructor(){super(nt.a)}}return f.\u0275fac=function(y){return new(y||f)},f.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),Xn=(()=>{class f extends hi{constructor(){super(nt.l)}}return f.\u0275fac=function(y){return new(y||f)},f.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),Ns=(()=>{class f{open(y){return qe.m.open(y)}close(y){return qe.m.close(y)}toggle(y){return qe.m.toggle(y)}enable(y,k){return qe.m.enable(y,k)}swipeGesture(y,k){return qe.m.swipeGesture(y,k)}isOpen(y){return qe.m.isOpen(y)}isEnabled(y){return qe.m.isEnabled(y)}get(y){return qe.m.get(y)}getOpen(){return qe.m.getOpen()}getMenus(){return qe.m.getMenus()}}return f.\u0275fac=function(y){return new(y||f)},f.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();class ks{}let Fs=(()=>{class f extends hi{constructor(y,k,de,At){super(nt.m),this.angularDelegate=y,this.resolver=k,this.injector=de,this.environmentInjector=At}create(y){var k;return super.create(Object.assign(Object.assign({},y),{delegate:this.angularDelegate.create(null!==(k=this.resolver)&&void 0!==k?k:this.environmentInjector,this.injector)}))}}return f.\u0275fac=function(y){return new(y||f)(u.LFG(As),u.LFG(u._Vd),u.LFG(u.zs3),u.LFG(ks,8))},f.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac}),f})(),so=(()=>{class f extends hi{constructor(y,k,de,At){super(nt.c),this.angularDelegate=y,this.resolver=k,this.injector=de,this.environmentInjector=At}create(y){var k;return super.create(Object.assign(Object.assign({},y),{delegate:this.angularDelegate.create(null!==(k=this.resolver)&&void 0!==k?k:this.environmentInjector,this.injector)}))}}return f.\u0275fac=function(y){return new(y||f)(u.LFG(As),u.LFG(u._Vd),u.LFG(u.zs3),u.LFG(ks,8))},f.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac}),f})(),Ys=(()=>{class f extends hi{constructor(){super(nt.t)}}return f.\u0275fac=function(y){return new(y||f)},f.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();class ao{shouldDetach(S){return!1}shouldAttach(S){return!1}store(S,y){}retrieve(S){return null}shouldReuseRoute(S,y){if(S.routeConfig!==y.routeConfig)return!1;const k=S.params,de=y.params,At=Object.keys(k),en=Object.keys(de);if(At.length!==en.length)return!1;for(const cn of At)if(de[cn]!==k[cn])return!1;return!0}}const ca=(f,S,y)=>()=>{if(S.defaultView&&typeof window<"u"){(f=>{const S=window,y=S.Ionic;y&&y.config&&"Object"!==y.config.constructor.name||(S.Ionic=S.Ionic||{},S.Ionic.config=Object.assign(Object.assign({},S.Ionic.config),f))})(Object.assign(Object.assign({},f),{_zoneGate:At=>y.run(At)}));const de="__zone_symbol__addEventListener"in S.body?"__zone_symbol__addEventListener":"addEventListener";return function mt(){var f=[];if(typeof window<"u"){var S=window;(!S.customElements||S.Element&&(!S.Element.prototype.closest||!S.Element.prototype.matches||!S.Element.prototype.remove||!S.Element.prototype.getRootNode))&&f.push(P.e(6748).then(P.t.bind(P,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||S.NodeList&&!S.NodeList.prototype.forEach||!S.fetch||!function(){try{var k=new URL("b","http://a");return k.pathname="c%20d","http://a/c%20d"===k.href&&k.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&f.push(P.e(2214).then(P.t.bind(P,4144,23)))}return Promise.all(f)}().then(()=>((f,S)=>typeof window>"u"?Promise.resolve():(0,he.p)().then(()=>(St(),(0,he.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"activated":[32]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal",null,[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),S))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:mn,jmp:At=>y.runOutsideAngular(At),ael(At,en,cn,Kn){At[de](en,cn,Kn)},rel(At,en,cn,Kn){At.removeEventListener(en,cn,Kn)}}))}};let R=(()=>{class f{static forRoot(y){return{ngModule:f,providers:[{provide:$i,useValue:y},{provide:u.ip1,useFactory:ca,multi:!0,deps:[$i,Ze.K0,u.R0b]}]}}}return f.\u0275fac=function(y){return new(y||f)},f.\u0275mod=u.oAB({type:f}),f.\u0275inj=u.cJS({providers:[As,Fs,so],imports:[[Ze.ez]]}),f})()},8834:(Zt,ht,P)=>{"use strict";P.d(ht,{c:()=>je});var u=P(5730),F=P(3457);let j;const Ce=Ee=>Ee.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),z=Ee=>{if(void 0===j){const st=void 0!==Ee.style.webkitAnimationName;j=void 0===Ee.style.animationName&&st?"-webkit-":""}return j},ue=(Ee,ye,st)=>{const Se=ye.startsWith("animation")?z(Ee):"";Ee.style.setProperty(Se+ye,st)},fe=(Ee,ye)=>{const st=ye.startsWith("animation")?z(Ee):"";Ee.style.removeProperty(st+ye)},K=[],ct=(Ee=[],ye)=>{if(void 0!==ye){const st=Array.isArray(ye)?ye:[ye];return[...Ee,...st]}return Ee},je=Ee=>{let ye,st,Se,Ve,Ue,dt,he,Ge,Ze,mt,St,Vt,$t,qe=[],nt=[],ge=[],Re=!1,re={},Y=[],J=[],Ke={},ot=0,wt=!1,rt=!1,_t=!0,bt=!1,tt=!0,bn=!1;const vn=Ee,Ln=[],mn=[],wn=[],Bn=[],Hn=[],kn=[],_n=[],In=[],zn=[],Zn=[],Jn="function"==typeof AnimationEffect||void 0!==F.w&&"function"==typeof F.w.AnimationEffect,Wn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Jn,gn=()=>Zn,Et=(q,_e)=>((_e?.oneTimeCallback?mn:Ln).push({c:q,o:_e}),$t),on=()=>{if(Wn)Zn.forEach(q=>{q.cancel()}),Zn.length=0;else{const q=wn.slice();(0,u.r)(()=>{q.forEach(_e=>{fe(_e,"animation-name"),fe(_e,"animation-duration"),fe(_e,"animation-timing-function"),fe(_e,"animation-iteration-count"),fe(_e,"animation-delay"),fe(_e,"animation-play-state"),fe(_e,"animation-fill-mode"),fe(_e,"animation-direction")})})}},Dn=()=>{Hn.forEach(q=>{q?.parentNode&&q.parentNode.removeChild(q)}),Hn.length=0},yn=()=>void 0!==Ue?Ue:he?he.getFill():"both",Le=()=>void 0!==Ze?Ze:void 0!==dt?dt:he?he.getDirection():"normal",Me=()=>wt?"linear":void 0!==Se?Se:he?he.getEasing():"linear",X=()=>rt?0:void 0!==mt?mt:void 0!==st?st:he?he.getDuration():0,He=()=>void 0!==Ve?Ve:he?he.getIterations():1,ke=()=>void 0!==St?St:void 0!==ye?ye:he?he.getDelay():0,qt=()=>{0!==ot&&(ot--,0===ot&&((()=>{br(),In.forEach(yt=>yt()),zn.forEach(yt=>yt());const q=_t?1:0,_e=Y,Fe=J,Qe=Ke;wn.forEach(yt=>{const Ut=yt.classList;_e.forEach(Xt=>Ut.add(Xt)),Fe.forEach(Xt=>Ut.remove(Xt));for(const Xt in Qe)Qe.hasOwnProperty(Xt)&&ue(yt,Xt,Qe[Xt])}),Ln.forEach(yt=>yt.c(q,$t)),mn.forEach(yt=>yt.c(q,$t)),mn.length=0,tt=!0,_t&&(bt=!0),_t=!0})(),he&&he.animationFinish()))},sn=(q=!0)=>{Dn();const _e=(Ee=>(Ee.forEach(ye=>{for(const st in ye)if(ye.hasOwnProperty(st)){const Se=ye[st];if("easing"===st)ye["animation-timing-function"]=Se,delete ye[st];else{const Ve=Ce(st);Ve!==st&&(ye[Ve]=Se,delete ye[st])}}}),Ee))(qe);wn.forEach(Fe=>{if(_e.length>0){const Qe=((Ee=[])=>Ee.map(ye=>{const st=ye.offset,Se=[];for(const Ve in ye)ye.hasOwnProperty(Ve)&&"offset"!==Ve&&Se.push(`${Ve}: ${ye[Ve]};`);return`${100*st}% { ${Se.join(" ")} }`}).join(" "))(_e);Vt=void 0!==Ee?Ee:(Ee=>{let ye=K.indexOf(Ee);return ye<0&&(ye=K.push(Ee)-1),`ion-animation-${ye}`})(Qe);const yt=((Ee,ye,st)=>{var Se;const Ve=(Ee=>{const ye=void 0!==Ee.getRootNode?Ee.getRootNode():Ee;return ye.head||ye})(st),Ue=z(st),dt=Ve.querySelector("#"+Ee);if(dt)return dt;const qe=(null!==(Se=st.ownerDocument)&&void 0!==Se?Se:document).createElement("style");return qe.id=Ee,qe.textContent=`@${Ue}keyframes ${Ee} { ${ye} } @${Ue}keyframes ${Ee}-alt { ${ye} }`,Ve.appendChild(qe),qe})(Vt,Qe,Fe);Hn.push(yt),ue(Fe,"animation-duration",`${X()}ms`),ue(Fe,"animation-timing-function",Me()),ue(Fe,"animation-delay",`${ke()}ms`),ue(Fe,"animation-fill-mode",yn()),ue(Fe,"animation-direction",Le());const Ut=He()===1/0?"infinite":He().toString();ue(Fe,"animation-iteration-count",Ut),ue(Fe,"animation-play-state","paused"),q&&ue(Fe,"animation-name",`${yt.id}-alt`),(0,u.r)(()=>{ue(Fe,"animation-name",yt.id||null)})}})},vt=(q=!0)=>{(()=>{kn.forEach(Qe=>Qe()),_n.forEach(Qe=>Qe());const q=nt,_e=ge,Fe=re;wn.forEach(Qe=>{const yt=Qe.classList;q.forEach(Ut=>yt.add(Ut)),_e.forEach(Ut=>yt.remove(Ut));for(const Ut in Fe)Fe.hasOwnProperty(Ut)&&ue(Qe,Ut,Fe[Ut])})})(),qe.length>0&&(Wn?(wn.forEach(q=>{const _e=q.animate(qe,{id:vn,delay:ke(),duration:X(),easing:Me(),iterations:He(),fill:yn(),direction:Le()});_e.pause(),Zn.push(_e)}),Zn.length>0&&(Zn[0].onfinish=()=>{qt()})):sn(q)),Re=!0},Bt=q=>{if(q=Math.min(Math.max(q,0),.9999),Wn)Zn.forEach(_e=>{_e.currentTime=_e.effect.getComputedTiming().delay+X()*q,_e.pause()});else{const _e=`-${X()*q}ms`;wn.forEach(Fe=>{qe.length>0&&(ue(Fe,"animation-delay",_e),ue(Fe,"animation-play-state","paused"))})}},tn=q=>{Zn.forEach(_e=>{_e.effect.updateTiming({delay:ke(),duration:X(),easing:Me(),iterations:He(),fill:yn(),direction:Le()})}),void 0!==q&&Bt(q)},un=(q=!0,_e)=>{(0,u.r)(()=>{wn.forEach(Fe=>{ue(Fe,"animation-name",Vt||null),ue(Fe,"animation-duration",`${X()}ms`),ue(Fe,"animation-timing-function",Me()),ue(Fe,"animation-delay",void 0!==_e?`-${_e*X()}ms`:`${ke()}ms`),ue(Fe,"animation-fill-mode",yn()||null),ue(Fe,"animation-direction",Le()||null);const Qe=He()===1/0?"infinite":He().toString();ue(Fe,"animation-iteration-count",Qe),q&&ue(Fe,"animation-name",`${Vt}-alt`),(0,u.r)(()=>{ue(Fe,"animation-name",Vt||null)})})})},$n=(q=!1,_e=!0,Fe)=>(q&&Bn.forEach(Qe=>{Qe.update(q,_e,Fe)}),Wn?tn(Fe):un(_e,Fe),$t),tr=()=>{Re&&(Wn?Zn.forEach(q=>{q.pause()}):wn.forEach(q=>{ue(q,"animation-play-state","paused")}),bn=!0)},Fr=()=>{Ge=void 0,qt()},br=()=>{Ge&&clearTimeout(Ge)},T=q=>new Promise(_e=>{q?.sync&&(rt=!0,Et(()=>rt=!1,{oneTimeCallback:!0})),Re||vt(),bt&&(Wn?(Bt(0),tn()):un(),bt=!1),tt&&(ot=Bn.length+1,tt=!1),Et(()=>_e(),{oneTimeCallback:!0}),Bn.forEach(Fe=>{Fe.play()}),Wn?(Zn.forEach(q=>{q.play()}),(0===qe.length||0===wn.length)&&qt()):(()=>{if(br(),(0,u.r)(()=>{wn.forEach(q=>{qe.length>0&&ue(q,"animation-play-state","running")})}),0===qe.length||0===wn.length)qt();else{const q=ke()||0,_e=X()||0,Fe=He()||1;isFinite(Fe)&&(Ge=setTimeout(Fr,q+_e*Fe+100)),((Ee,ye)=>{let st;const Se={passive:!0},Ue=dt=>{Ee===dt.target&&(st&&st(),br(),(0,u.r)(()=>{wn.forEach(q=>{fe(q,"animation-duration"),fe(q,"animation-delay"),fe(q,"animation-play-state")}),(0,u.r)(qt)}))};Ee&&(Ee.addEventListener("webkitAnimationEnd",Ue,Se),Ee.addEventListener("animationend",Ue,Se),st=()=>{Ee.removeEventListener("webkitAnimationEnd",Ue,Se),Ee.removeEventListener("animationend",Ue,Se)})})(wn[0])}})(),bn=!1}),te=(q,_e)=>{const Fe=qe[0];return void 0===Fe||void 0!==Fe.offset&&0!==Fe.offset?qe=[{offset:0,[q]:_e},...qe]:Fe[q]=_e,$t};return $t={parentAnimation:he,elements:wn,childAnimations:Bn,id:vn,animationFinish:qt,from:te,to:(q,_e)=>{const Fe=qe[qe.length-1];return void 0===Fe||void 0!==Fe.offset&&1!==Fe.offset?qe=[...qe,{offset:1,[q]:_e}]:Fe[q]=_e,$t},fromTo:(q,_e,Fe)=>te(q,_e).to(q,Fe),parent:q=>(he=q,$t),play:T,pause:()=>(Bn.forEach(q=>{q.pause()}),tr(),$t),stop:()=>{Bn.forEach(q=>{q.stop()}),Re&&(on(),Re=!1),wt=!1,rt=!1,tt=!0,Ze=void 0,mt=void 0,St=void 0,ot=0,bt=!1,_t=!0,bn=!1},destroy:q=>(Bn.forEach(_e=>{_e.destroy(q)}),(q=>{on(),q&&Dn()})(q),wn.length=0,Bn.length=0,qe.length=0,Ln.length=0,mn.length=0,Re=!1,tt=!0,$t),keyframes:q=>{const _e=qe!==q;return qe=q,_e&&(q=>{Wn?gn().forEach(_e=>{if(_e.effect.setKeyframes)_e.effect.setKeyframes(q);else{const Fe=new KeyframeEffect(_e.effect.target,q,_e.effect.getTiming());_e.effect=Fe}}):sn()})(qe),$t},addAnimation:q=>{if(null!=q)if(Array.isArray(q))for(const _e of q)_e.parent($t),Bn.push(_e);else q.parent($t),Bn.push(q);return $t},addElement:q=>{if(null!=q)if(1===q.nodeType)wn.push(q);else if(q.length>=0)for(let _e=0;_e<q.length;_e++)wn.push(q[_e]);else console.error("Invalid addElement value");return $t},update:$n,fill:q=>(Ue=q,$n(!0),$t),direction:q=>(dt=q,$n(!0),$t),iterations:q=>(Ve=q,$n(!0),$t),duration:q=>(!Wn&&0===q&&(q=1),st=q,$n(!0),$t),easing:q=>(Se=q,$n(!0),$t),delay:q=>(ye=q,$n(!0),$t),getWebAnimations:gn,getKeyframes:()=>qe,getFill:yn,getDirection:Le,getDelay:ke,getIterations:He,getEasing:Me,getDuration:X,afterAddRead:q=>(In.push(q),$t),afterAddWrite:q=>(zn.push(q),$t),afterClearStyles:(q=[])=>{for(const _e of q)Ke[_e]="";return $t},afterStyles:(q={})=>(Ke=q,$t),afterRemoveClass:q=>(J=ct(J,q),$t),afterAddClass:q=>(Y=ct(Y,q),$t),beforeAddRead:q=>(kn.push(q),$t),beforeAddWrite:q=>(_n.push(q),$t),beforeClearStyles:(q=[])=>{for(const _e of q)re[_e]="";return $t},beforeStyles:(q={})=>(re=q,$t),beforeRemoveClass:q=>(ge=ct(ge,q),$t),beforeAddClass:q=>(nt=ct(nt,q),$t),onFinish:Et,isRunning:()=>0!==ot&&!bn,progressStart:(q=!1,_e)=>(Bn.forEach(Fe=>{Fe.progressStart(q,_e)}),tr(),wt=q,Re||vt(),$n(!1,!0,_e),$t),progressStep:q=>(Bn.forEach(_e=>{_e.progressStep(q)}),Bt(q),$t),progressEnd:(q,_e,Fe)=>(wt=!1,Bn.forEach(Qe=>{Qe.progressEnd(q,_e,Fe)}),void 0!==Fe&&(mt=Fe),bt=!1,_t=!0,0===q?(Ze="reverse"===Le()?"normal":"reverse","reverse"===Ze&&(_t=!1),Wn?($n(),Bt(1-_e)):(St=(1-_e)*X()*-1,$n(!1,!1))):1===q&&(Wn?($n(),Bt(_e)):(St=_e*X()*-1,$n(!1,!1))),void 0!==q&&(Et(()=>{mt=void 0,Ze=void 0,St=void 0},{oneTimeCallback:!0}),he||T()),$t)}}},4349:(Zt,ht,P)=>{"use strict";P.d(ht,{G:()=>Ce});class F{constructor(ue,fe,pe,Q,K){this.id=fe,this.name=pe,this.disableScroll=K,this.priority=1e6*Q+fe,this.ctrl=ue}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const ue=this.ctrl.capture(this.name,this.id,this.priority);return ue&&this.disableScroll&&this.ctrl.disableScroll(this.id),ue}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class j{constructor(ue,fe,pe,Q){this.id=fe,this.disable=pe,this.disableScroll=Q,this.ctrl=ue}block(){if(this.ctrl){if(this.disable)for(const ue of this.disable)this.ctrl.disableGesture(ue,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const ue of this.disable)this.ctrl.enableGesture(ue,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const De="backdrop-no-scroll",Ce=new class u{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(ue){var fe;return new F(this,this.newID(),ue.name,null!==(fe=ue.priority)&&void 0!==fe?fe:0,!!ue.disableScroll)}createBlocker(ue={}){return new j(this,this.newID(),ue.disable,!!ue.disableScroll)}start(ue,fe,pe){return this.canStart(ue)?(this.requestedStart.set(fe,pe),!0):(this.requestedStart.delete(fe),!1)}capture(ue,fe,pe){if(!this.start(ue,fe,pe))return!1;const Q=this.requestedStart;let K=-1e4;if(Q.forEach(se=>{K=Math.max(K,se)}),K===pe){this.capturedId=fe,Q.clear();const se=new CustomEvent("ionGestureCaptured",{detail:{gestureName:ue}});return document.dispatchEvent(se),!0}return Q.delete(fe),!1}release(ue){this.requestedStart.delete(ue),this.capturedId===ue&&(this.capturedId=void 0)}disableGesture(ue,fe){let pe=this.disabledGestures.get(ue);void 0===pe&&(pe=new Set,this.disabledGestures.set(ue,pe)),pe.add(fe)}enableGesture(ue,fe){const pe=this.disabledGestures.get(ue);void 0!==pe&&pe.delete(fe)}disableScroll(ue){this.disabledScroll.add(ue),1===this.disabledScroll.size&&document.body.classList.add(De)}enableScroll(ue){this.disabledScroll.delete(ue),0===this.disabledScroll.size&&document.body.classList.remove(De)}canStart(ue){return!(void 0!==this.capturedId||this.isDisabled(ue))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(ue){const fe=this.disabledGestures.get(ue);return!!(fe&&fe.size>0)}newID(){return this.gestureId++,this.gestureId}}},7593:(Zt,ht,P)=>{"use strict";P.r(ht),P.d(ht,{MENU_BACK_BUTTON_PRIORITY:()=>Ce,OVERLAY_BACK_BUTTON_PRIORITY:()=>De,blockHardwareBackButton:()=>F,startHardwareBackButton:()=>j});var u=P(5861);const F=()=>{document.addEventListener("backbutton",()=>{})},j=()=>{const z=document;let ue=!1;z.addEventListener("backbutton",()=>{if(ue)return;let fe=0,pe=[];const Q=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(ee,Ie){pe.push({priority:ee,handler:Ie,id:fe++})}}});z.dispatchEvent(Q);const K=function(){var ee=(0,u.Z)(function*(Ie){try{if(Ie?.handler){const ct=Ie.handler(se);null!=ct&&(yield ct)}}catch(ct){console.error(ct)}});return function(ct){return ee.apply(this,arguments)}}(),se=()=>{if(pe.length>0){let ee={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};pe.forEach(Ie=>{Ie.priority>=ee.priority&&(ee=Ie)}),ue=!0,pe=pe.filter(Ie=>Ie.id!==ee.id),K(ee).then(()=>ue=!1)}};se()})},De=100,Ce=99},5730:(Zt,ht,P)=>{"use strict";P.d(ht,{a:()=>ue,b:()=>fe,c:()=>j,d:()=>Ie,e:()=>ct,f:()=>ee,g:()=>pe,h:()=>Ve,i:()=>z,j:()=>De,k:()=>se,l:()=>je,m:()=>K,n:()=>Ee,o:()=>Se,p:()=>st,q:()=>Ue,r:()=>Q,s:()=>dt,t:()=>u,u:()=>ye});const u=(qe,nt=0)=>new Promise(ge=>{F(qe,nt,ge)}),F=(qe,nt=0,ge)=>{let Re,he;const re={passive:!0},J=()=>{Re&&Re()},Ke=ot=>{(void 0===ot||qe===ot.target)&&(J(),ge(ot))};return qe&&(qe.addEventListener("webkitTransitionEnd",Ke,re),qe.addEventListener("transitionend",Ke,re),he=setTimeout(Ke,nt+500),Re=()=>{he&&(clearTimeout(he),he=void 0),qe.removeEventListener("webkitTransitionEnd",Ke,re),qe.removeEventListener("transitionend",Ke,re)}),J},j=(qe,nt)=>{qe.componentOnReady?qe.componentOnReady().then(ge=>nt(ge)):Q(()=>nt(qe))},De=(qe,nt=[])=>{const ge={};return nt.forEach(Re=>{qe.hasAttribute(Re)&&(null!==qe.getAttribute(Re)&&(ge[Re]=qe.getAttribute(Re)),qe.removeAttribute(Re))}),ge},Ce=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],z=(qe,nt)=>{let ge=Ce;return nt&&nt.length>0&&(ge=ge.filter(Re=>!nt.includes(Re))),De(qe,ge)},ue=(qe,nt,ge,Re)=>{var he;if(typeof window<"u"){const Y=null===(he=window?.Ionic)||void 0===he?void 0:he.config;if(Y){const J=Y.get("_ael");if(J)return J(qe,nt,ge,Re);if(Y._ael)return Y._ael(qe,nt,ge,Re)}}return qe.addEventListener(nt,ge,Re)},fe=(qe,nt,ge,Re)=>{var he;if(typeof window<"u"){const Y=null===(he=window?.Ionic)||void 0===he?void 0:he.config;if(Y){const J=Y.get("_rel");if(J)return J(qe,nt,ge,Re);if(Y._rel)return Y._rel(qe,nt,ge,Re)}}return qe.removeEventListener(nt,ge,Re)},pe=(qe,nt=qe)=>qe.shadowRoot||nt,Q=qe=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(qe):"function"==typeof requestAnimationFrame?requestAnimationFrame(qe):setTimeout(qe),K=qe=>!!qe.shadowRoot&&!!qe.attachShadow,se=qe=>{const nt=qe.closest("ion-item");return nt?nt.querySelector("ion-label"):null},ee=qe=>{if(qe.focus(),qe.classList.contains("ion-focusable")){const nt=qe.closest("ion-app");nt&&nt.setFocus([qe])}},Ie=(qe,nt)=>{let ge;const Re=qe.getAttribute("aria-labelledby"),he=qe.id;let re=null!==Re&&""!==Re.trim()?Re:nt+"-lbl",Y=null!==Re&&""!==Re.trim()?document.getElementById(Re):se(qe);return Y?(null===Re&&(Y.id=re),ge=Y.textContent,Y.setAttribute("aria-hidden","true")):""!==he.trim()&&(Y=document.querySelector(`label[for="${he}"]`),Y&&(""!==Y.id?re=Y.id:Y.id=re=`${he}-lbl`,ge=Y.textContent)),{label:Y,labelId:re,labelText:ge}},ct=(qe,nt,ge,Re,he)=>{if(qe||K(nt)){let re=nt.querySelector("input.aux-input");re||(re=nt.ownerDocument.createElement("input"),re.type="hidden",re.classList.add("aux-input"),nt.appendChild(re)),re.disabled=he,re.name=ge,re.value=Re||""}},je=(qe,nt,ge)=>Math.max(qe,Math.min(nt,ge)),Ee=(qe,nt)=>{if(!qe){const ge="ASSERT: "+nt;throw console.error(ge),new Error(ge)}},ye=qe=>qe.timeStamp||Date.now(),st=qe=>{if(qe){const nt=qe.changedTouches;if(nt&&nt.length>0){const ge=nt[0];return{x:ge.clientX,y:ge.clientY}}if(void 0!==qe.pageX)return{x:qe.pageX,y:qe.pageY}}return{x:0,y:0}},Se=qe=>{const nt="rtl"===document.dir;switch(qe){case"start":return nt;case"end":return!nt;default:throw new Error(`"${qe}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Ve=(qe,nt)=>{const ge=qe._original||qe;return{_original:qe,emit:Ue(ge.emit.bind(ge),nt)}},Ue=(qe,nt=0)=>{let ge;return(...Re)=>{clearTimeout(ge),ge=setTimeout(qe,nt,...Re)}},dt=(qe,nt)=>{if(qe??(qe={}),nt??(nt={}),qe===nt)return!0;const ge=Object.keys(qe);if(ge.length!==Object.keys(nt).length)return!1;for(const Re of ge)if(!(Re in nt)||qe[Re]!==nt[Re])return!1;return!0}},4292:(Zt,ht,P)=>{"use strict";P.d(ht,{m:()=>K});var u=P(5861),F=P(7593),j=P(5730),De=P(9658),Ce=P(8834);const z=se=>(0,Ce.c)().duration(se?400:300),ue=se=>{let ee,Ie;const ct=se.width+8,je=(0,Ce.c)(),Ee=(0,Ce.c)();se.isEndSide?(ee=ct+"px",Ie="0px"):(ee=-ct+"px",Ie="0px"),je.addElement(se.menuInnerEl).fromTo("transform",`translateX(${ee})`,`translateX(${Ie})`);const st="ios"===(0,De.b)(se),Se=st?.2:.25;return Ee.addElement(se.backdropEl).fromTo("opacity",.01,Se),z(st).addAnimation([je,Ee])},fe=se=>{let ee,Ie;const ct=(0,De.b)(se),je=se.width;se.isEndSide?(ee=-je+"px",Ie=je+"px"):(ee=je+"px",Ie=-je+"px");const Ee=(0,Ce.c)().addElement(se.menuInnerEl).fromTo("transform",`translateX(${Ie})`,"translateX(0px)"),ye=(0,Ce.c)().addElement(se.contentEl).fromTo("transform","translateX(0px)",`translateX(${ee})`),st=(0,Ce.c)().addElement(se.backdropEl).fromTo("opacity",.01,.32);return z("ios"===ct).addAnimation([Ee,ye,st])},pe=se=>{const ee=(0,De.b)(se),Ie=se.width*(se.isEndSide?-1:1)+"px",ct=(0,Ce.c)().addElement(se.contentEl).fromTo("transform","translateX(0px)",`translateX(${Ie})`);return z("ios"===ee).addAnimation(ct)},K=(()=>{const se=new Map,ee=[],Ie=function(){var Ge=(0,u.Z)(function*(Ze){const mt=yield Ve(Ze);return!!mt&&mt.open()});return function(mt){return Ge.apply(this,arguments)}}(),ct=function(){var Ge=(0,u.Z)(function*(Ze){const mt=yield void 0!==Ze?Ve(Ze):Ue();return void 0!==mt&&mt.close()});return function(mt){return Ge.apply(this,arguments)}}(),je=function(){var Ge=(0,u.Z)(function*(Ze){const mt=yield Ve(Ze);return!!mt&&mt.toggle()});return function(mt){return Ge.apply(this,arguments)}}(),Ee=function(){var Ge=(0,u.Z)(function*(Ze,mt){const St=yield Ve(mt);return St&&(St.disabled=!Ze),St});return function(mt,St){return Ge.apply(this,arguments)}}(),ye=function(){var Ge=(0,u.Z)(function*(Ze,mt){const St=yield Ve(mt);return St&&(St.swipeGesture=Ze),St});return function(mt,St){return Ge.apply(this,arguments)}}(),st=function(){var Ge=(0,u.Z)(function*(Ze){if(null!=Ze){const mt=yield Ve(Ze);return void 0!==mt&&mt.isOpen()}return void 0!==(yield Ue())});return function(mt){return Ge.apply(this,arguments)}}(),Se=function(){var Ge=(0,u.Z)(function*(Ze){const mt=yield Ve(Ze);return!!mt&&!mt.disabled});return function(mt){return Ge.apply(this,arguments)}}(),Ve=function(){var Ge=(0,u.Z)(function*(Ze){return yield rt(),"start"===Ze||"end"===Ze?wt(_t=>_t.side===Ze&&!_t.disabled)||wt(_t=>_t.side===Ze):null!=Ze?wt(St=>St.menuId===Ze):wt(St=>!St.disabled)||(ee.length>0?ee[0].el:void 0)});return function(mt){return Ge.apply(this,arguments)}}(),Ue=function(){var Ge=(0,u.Z)(function*(){return yield rt(),J()});return function(){return Ge.apply(this,arguments)}}(),dt=function(){var Ge=(0,u.Z)(function*(){return yield rt(),Ke()});return function(){return Ge.apply(this,arguments)}}(),qe=function(){var Ge=(0,u.Z)(function*(){return yield rt(),ot()});return function(){return Ge.apply(this,arguments)}}(),nt=(Ge,Ze)=>{se.set(Ge,Ze)},he=Ge=>{const Ze=Ge.side;ee.filter(mt=>mt.side===Ze&&mt!==Ge).forEach(mt=>mt.disabled=!0)},re=function(){var Ge=(0,u.Z)(function*(Ze,mt,St){if(ot())return!1;if(mt){const _t=yield Ue();_t&&Ze.el!==_t&&(yield _t.setOpen(!1,!1))}return Ze._setOpen(mt,St)});return function(mt,St,_t){return Ge.apply(this,arguments)}}(),J=()=>wt(Ge=>Ge._isOpen),Ke=()=>ee.map(Ge=>Ge.el),ot=()=>ee.some(Ge=>Ge.isAnimating),wt=Ge=>{const Ze=ee.find(Ge);if(void 0!==Ze)return Ze.el},rt=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Ge=>new Promise(Ze=>(0,j.c)(Ge,Ze))));return nt("reveal",pe),nt("push",fe),nt("overlay",ue),typeof document<"u"&&document.addEventListener("ionBackButton",Ge=>{const Ze=J();Ze&&Ge.detail.register(F.MENU_BACK_BUTTON_PRIORITY,()=>Ze.close())}),{registerAnimation:nt,get:Ve,getMenus:dt,getOpen:Ue,isEnabled:Se,swipeGesture:ye,isAnimating:qe,isOpen:st,enable:Ee,toggle:je,close:ct,open:Ie,_getOpenSync:J,_createAnimation:(Ge,Ze)=>{const mt=se.get(Ge);if(!mt)throw new Error("animation not registered");return mt(Ze)},_register:Ge=>{ee.indexOf(Ge)<0&&(Ge.disabled||he(Ge),ee.push(Ge))},_unregister:Ge=>{const Ze=ee.indexOf(Ge);Ze>-1&&ee.splice(Ze,1)},_setOpen:re,_setActiveMenu:he}})()},3457:(Zt,ht,P)=>{"use strict";P.d(ht,{w:()=>u});const u=typeof window<"u"?window:void 0},1308:(Zt,ht,P)=>{"use strict";P.d(ht,{B:()=>Xe,H:()=>wn,a:()=>_t,b:()=>ft,c:()=>ce,e:()=>fn,f:()=>Gi,g:()=>bt,h:()=>Ln,i:()=>Sn,j:()=>Le,k:()=>jt,p:()=>je,r:()=>$e,s:()=>Ie});var u=P(5861);let j,De,Ce,z=!1,ue=!1,fe=!1,pe=!1,Q=!1;const K=typeof window<"u"?window:{},se=K.document||{head:{}},ee={$flags$:0,$resourcesUrl$:"",jmp:T=>T(),raf:T=>requestAnimationFrame(T),ael:(T,G,te,ne)=>T.addEventListener(G,te,ne),rel:(T,G,te,ne)=>T.removeEventListener(G,te,ne),ce:(T,G)=>new CustomEvent(T,G)},Ie=T=>{Object.assign(ee,T)},je=T=>Promise.resolve(T),Ee=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),ye=(T,G,te,ne)=>{te&&te.map(([Ne,q,_e])=>{const Fe=Se(T,Ne),Qe=st(G,_e),yt=Ve(Ne);ee.ael(Fe,q,Qe,yt),(G.$rmListeners$=G.$rmListeners$||[]).push(()=>ee.rel(Fe,q,Qe,yt))})},st=(T,G)=>te=>{try{256&T.$flags$?T.$lazyInstance$[G](te):(T.$queuedListeners$=T.$queuedListeners$||[]).push([G,te])}catch(ne){tn(ne)}},Se=(T,G)=>4&G?se:8&G?K:16&G?se.body:T,Ve=T=>0!=(2&T),ge="s-id",Re="sty-id",Y="http://www.w3.org/1999/xlink",ot=new WeakMap,wt=(T,G,te)=>{let ne=xn.get(T);Ee&&te?(ne=ne||new CSSStyleSheet,"string"==typeof ne?ne=G:ne.replaceSync(G)):ne=G,xn.set(T,ne)},rt=(T,G,te,ne)=>{let Ne=Ze(G,te);const q=xn.get(Ne);if(T=11===T.nodeType?T:se,q)if("string"==typeof q){let Fe,_e=ot.get(T=T.head||T);_e||ot.set(T,_e=new Set),_e.has(Ne)||(T.host&&(Fe=T.querySelector(`[${Re}="${Ne}"]`))?Fe.innerHTML=q:(Fe=se.createElement("style"),Fe.innerHTML=q,T.insertBefore(Fe,T.querySelector("link"))),_e&&_e.add(Ne))}else T.adoptedStyleSheets.includes(q)||(T.adoptedStyleSheets=[...T.adoptedStyleSheets,q]);return Ne},Ze=(T,G)=>"sc-"+(G&&32&T.$flags$?T.$tagName$+"-"+G:T.$tagName$),mt=T=>T.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),_t=T=>cr.push(T),bt=T=>sn(T).$modeName$,tt={},vn=T=>"object"==(T=typeof T)||"function"===T,Ln=(T,G,...te)=>{let ne=null,Ne=null,q=null,_e=!1,Fe=!1;const Qe=[],yt=Xt=>{for(let dn=0;dn<Xt.length;dn++)ne=Xt[dn],Array.isArray(ne)?yt(ne):null!=ne&&"boolean"!=typeof ne&&((_e="function"!=typeof T&&!vn(ne))&&(ne=String(ne)),_e&&Fe?Qe[Qe.length-1].$text$+=ne:Qe.push(_e?mn(null,ne):ne),Fe=_e)};if(yt(te),G){G.key&&(Ne=G.key),G.name&&(q=G.name);{const Xt=G.className||G.class;Xt&&(G.class="object"!=typeof Xt?Xt:Object.keys(Xt).filter(dn=>Xt[dn]).join(" "))}}if("function"==typeof T)return T(null===G?{}:G,Qe,Hn);const Ut=mn(T,null);return Ut.$attrs$=G,Qe.length>0&&(Ut.$children$=Qe),Ut.$key$=Ne,Ut.$name$=q,Ut},mn=(T,G)=>({$flags$:0,$tag$:T,$text$:G,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),wn={},Hn={forEach:(T,G)=>T.map(kn).forEach(G),map:(T,G)=>T.map(kn).map(G).map(_n)},kn=T=>({vattrs:T.$attrs$,vchildren:T.$children$,vkey:T.$key$,vname:T.$name$,vtag:T.$tag$,vtext:T.$text$}),_n=T=>{if("function"==typeof T.vtag){const te=Object.assign({},T.vattrs);return T.vkey&&(te.key=T.vkey),T.vname&&(te.name=T.vname),Ln(T.vtag,te,...T.vchildren||[])}const G=mn(T.vtag,T.vtext);return G.$attrs$=T.vattrs,G.$children$=T.vchildren,G.$key$=T.vkey,G.$name$=T.vname,G},In=(T,G,te,ne,Ne,q)=>{if(te!==ne){let _e=Bt(T,G),Fe=G.toLowerCase();if("class"===G){const Qe=T.classList,yt=Zn(te),Ut=Zn(ne);Qe.remove(...yt.filter(Xt=>Xt&&!Ut.includes(Xt))),Qe.add(...Ut.filter(Xt=>Xt&&!yt.includes(Xt)))}else if("style"===G){for(const Qe in te)(!ne||null==ne[Qe])&&(Qe.includes("-")?T.style.removeProperty(Qe):T.style[Qe]="");for(const Qe in ne)(!te||ne[Qe]!==te[Qe])&&(Qe.includes("-")?T.style.setProperty(Qe,ne[Qe]):T.style[Qe]=ne[Qe])}else if("key"!==G)if("ref"===G)ne&&ne(T);else if(_e||"o"!==G[0]||"n"!==G[1]){const Qe=vn(ne);if((_e||Qe&&null!==ne)&&!Ne)try{if(T.tagName.includes("-"))T[G]=ne;else{const Ut=ne??"";"list"===G?_e=!1:(null==te||T[G]!=Ut)&&(T[G]=Ut)}}catch{}let yt=!1;Fe!==(Fe=Fe.replace(/^xlink\:?/,""))&&(G=Fe,yt=!0),null==ne||!1===ne?(!1!==ne||""===T.getAttribute(G))&&(yt?T.removeAttributeNS(Y,G):T.removeAttribute(G)):(!_e||4&q||Ne)&&!Qe&&(ne=!0===ne?"":ne,yt?T.setAttributeNS(Y,G,ne):T.setAttribute(G,ne))}else G="-"===G[2]?G.slice(3):Bt(K,Fe)?Fe.slice(2):Fe[2]+G.slice(3),te&&ee.rel(T,G,te,!1),ne&&ee.ael(T,G,ne,!1)}},zn=/\s/,Zn=T=>T?T.split(zn):[],Jn=(T,G,te,ne)=>{const Ne=11===G.$elm$.nodeType&&G.$elm$.host?G.$elm$.host:G.$elm$,q=T&&T.$attrs$||tt,_e=G.$attrs$||tt;for(ne in q)ne in _e||In(Ne,ne,q[ne],void 0,te,G.$flags$);for(ne in _e)In(Ne,ne,q[ne],_e[ne],te,G.$flags$)},Wn=(T,G,te,ne)=>{const Ne=G.$children$[te];let _e,Fe,Qe,q=0;if(z||(fe=!0,"slot"===Ne.$tag$&&(j&&ne.classList.add(j+"-s"),Ne.$flags$|=Ne.$children$?2:1)),null!==Ne.$text$)_e=Ne.$elm$=se.createTextNode(Ne.$text$);else if(1&Ne.$flags$)_e=Ne.$elm$=se.createTextNode("");else{if(pe||(pe="svg"===Ne.$tag$),_e=Ne.$elm$=se.createElementNS(pe?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Ne.$flags$?"slot-fb":Ne.$tag$),pe&&"foreignObject"===Ne.$tag$&&(pe=!1),Jn(null,Ne,pe),(T=>null!=T)(j)&&_e["s-si"]!==j&&_e.classList.add(_e["s-si"]=j),Ne.$children$)for(q=0;q<Ne.$children$.length;++q)Fe=Wn(T,Ne,q,_e),Fe&&_e.appendChild(Fe);"svg"===Ne.$tag$?pe=!1:"foreignObject"===_e.tagName&&(pe=!0)}return _e["s-hn"]=Ce,3&Ne.$flags$&&(_e["s-sr"]=!0,_e["s-cr"]=De,_e["s-sn"]=Ne.$name$||"",Qe=T&&T.$children$&&T.$children$[te],Qe&&Qe.$tag$===Ne.$tag$&&T.$elm$&&Lt(T.$elm$,!1)),_e},Lt=(T,G)=>{ee.$flags$|=1;const te=T.childNodes;for(let ne=te.length-1;ne>=0;ne--){const Ne=te[ne];Ne["s-hn"]!==Ce&&Ne["s-ol"]&&(Et(Ne).insertBefore(Ne,ze(Ne)),Ne["s-ol"].remove(),Ne["s-ol"]=void 0,fe=!0),G&&Lt(Ne,G)}ee.$flags$&=-2},gn=(T,G,te,ne,Ne,q)=>{let Fe,_e=T["s-cr"]&&T["s-cr"].parentNode||T;for(_e.shadowRoot&&_e.tagName===Ce&&(_e=_e.shadowRoot);Ne<=q;++Ne)ne[Ne]&&(Fe=Wn(null,te,Ne,T),Fe&&(ne[Ne].$elm$=Fe,_e.insertBefore(Fe,ze(G))))},Ot=(T,G,te,ne,Ne)=>{for(;G<=te;++G)(ne=T[G])&&(Ne=ne.$elm$,Tn(ne),ue=!0,Ne["s-ol"]?Ne["s-ol"].remove():Lt(Ne,!0),Ne.remove())},xe=(T,G)=>T.$tag$===G.$tag$&&("slot"===T.$tag$?T.$name$===G.$name$:T.$key$===G.$key$),ze=T=>T&&T["s-ol"]||T,Et=T=>(T["s-ol"]?T["s-ol"]:T).parentNode,Ht=(T,G)=>{const te=G.$elm$=T.$elm$,ne=T.$children$,Ne=G.$children$,q=G.$tag$,_e=G.$text$;let Fe;null===_e?(pe="svg"===q||"foreignObject"!==q&&pe,"slot"===q||Jn(T,G,pe),null!==ne&&null!==Ne?((T,G,te,ne)=>{let jn,lr,Ne=0,q=0,_e=0,Fe=0,Qe=G.length-1,yt=G[0],Ut=G[Qe],Xt=ne.length-1,dn=ne[0],Rn=ne[Xt];for(;Ne<=Qe&&q<=Xt;)if(null==yt)yt=G[++Ne];else if(null==Ut)Ut=G[--Qe];else if(null==dn)dn=ne[++q];else if(null==Rn)Rn=ne[--Xt];else if(xe(yt,dn))Ht(yt,dn),yt=G[++Ne],dn=ne[++q];else if(xe(Ut,Rn))Ht(Ut,Rn),Ut=G[--Qe],Rn=ne[--Xt];else if(xe(yt,Rn))("slot"===yt.$tag$||"slot"===Rn.$tag$)&&Lt(yt.$elm$.parentNode,!1),Ht(yt,Rn),T.insertBefore(yt.$elm$,Ut.$elm$.nextSibling),yt=G[++Ne],Rn=ne[--Xt];else if(xe(Ut,dn))("slot"===yt.$tag$||"slot"===Rn.$tag$)&&Lt(Ut.$elm$.parentNode,!1),Ht(Ut,dn),T.insertBefore(Ut.$elm$,yt.$elm$),Ut=G[--Qe],dn=ne[++q];else{for(_e=-1,Fe=Ne;Fe<=Qe;++Fe)if(G[Fe]&&null!==G[Fe].$key$&&G[Fe].$key$===dn.$key$){_e=Fe;break}_e>=0?(lr=G[_e],lr.$tag$!==dn.$tag$?jn=Wn(G&&G[q],te,_e,T):(Ht(lr,dn),G[_e]=void 0,jn=lr.$elm$),dn=ne[++q]):(jn=Wn(G&&G[q],te,q,T),dn=ne[++q]),jn&&Et(yt.$elm$).insertBefore(jn,ze(yt.$elm$))}Ne>Qe?gn(T,null==ne[Xt+1]?null:ne[Xt+1].$elm$,te,ne,q,Xt):q>Xt&&Ot(G,Ne,Qe)})(te,ne,G,Ne):null!==Ne?(null!==T.$text$&&(te.textContent=""),gn(te,null,G,Ne,0,Ne.length-1)):null!==ne&&Ot(ne,0,ne.length-1),pe&&"svg"===q&&(pe=!1)):(Fe=te["s-cr"])?Fe.parentNode.textContent=_e:T.$text$!==_e&&(te.data=_e)},on=T=>{const G=T.childNodes;let te,ne,Ne,q,_e,Fe;for(ne=0,Ne=G.length;ne<Ne;ne++)if(te=G[ne],1===te.nodeType){if(te["s-sr"])for(_e=te["s-sn"],te.hidden=!1,q=0;q<Ne;q++)if(Fe=G[q].nodeType,G[q]["s-hn"]!==te["s-hn"]||""!==_e){if(1===Fe&&_e===G[q].getAttribute("slot")){te.hidden=!0;break}}else if(1===Fe||3===Fe&&""!==G[q].textContent.trim()){te.hidden=!0;break}on(te)}},Dn=[],nn=T=>{let G,te,ne,Ne,q,_e,Fe=0;const Qe=T.childNodes,yt=Qe.length;for(;Fe<yt;Fe++){if(G=Qe[Fe],G["s-sr"]&&(te=G["s-cr"])&&te.parentNode)for(ne=te.parentNode.childNodes,Ne=G["s-sn"],_e=ne.length-1;_e>=0;_e--)te=ne[_e],!te["s-cn"]&&!te["s-nr"]&&te["s-hn"]!==G["s-hn"]&&(rn(te,Ne)?(q=Dn.find(Ut=>Ut.$nodeToRelocate$===te),ue=!0,te["s-sn"]=te["s-sn"]||Ne,q?q.$slotRefNode$=G:Dn.push({$slotRefNode$:G,$nodeToRelocate$:te}),te["s-sr"]&&Dn.map(Ut=>{rn(Ut.$nodeToRelocate$,te["s-sn"])&&(q=Dn.find(Xt=>Xt.$nodeToRelocate$===te),q&&!Ut.$slotRefNode$&&(Ut.$slotRefNode$=q.$slotRefNode$))})):Dn.some(Ut=>Ut.$nodeToRelocate$===te)||Dn.push({$nodeToRelocate$:te}));1===G.nodeType&&nn(G)}},rn=(T,G)=>1===T.nodeType?null===T.getAttribute("slot")&&""===G||T.getAttribute("slot")===G:T["s-sn"]===G||""===G,Tn=T=>{T.$attrs$&&T.$attrs$.ref&&T.$attrs$.ref(null),T.$children$&&T.$children$.map(Tn)},Sn=T=>sn(T).$hostElement$,fn=(T,G,te)=>{const ne=Sn(T);return{emit:Ne=>Fn(ne,G,{bubbles:!!(4&te),composed:!!(2&te),cancelable:!!(1&te),detail:Ne})}},Fn=(T,G,te)=>{const ne=ee.ce(G,te);return T.dispatchEvent(ne),ne},Qt=(T,G)=>{G&&!T.$onRenderResolve$&&G["s-p"]&&G["s-p"].push(new Promise(te=>T.$onRenderResolve$=te))},Mt=(T,G)=>{if(T.$flags$|=16,!(4&T.$flags$))return Qt(T,T.$ancestorComponent$),ce(()=>Yt(T,G));T.$flags$|=512},Yt=(T,G)=>{const ne=T.$lazyInstance$;let Ne;return G&&(T.$flags$|=256,T.$queuedListeners$&&(T.$queuedListeners$.map(([q,_e])=>X(ne,q,_e)),T.$queuedListeners$=null),Ne=X(ne,"componentWillLoad")),Ne=He(Ne,()=>X(ne,"componentWillRender")),He(Ne,()=>an(T,ne,G))},an=function(){var T=(0,u.Z)(function*(G,te,ne){const Ne=G.$hostElement$,_e=Ne["s-rc"];ne&&(T=>{const G=T.$cmpMeta$,te=T.$hostElement$,ne=G.$flags$,q=rt(te.shadowRoot?te.shadowRoot:te.getRootNode(),G,T.$modeName$);10&ne&&(te["s-sc"]=q,te.classList.add(q+"-h"),2&ne&&te.classList.add(q+"-s"))})(G);Cn(G,te),_e&&(_e.map(Qe=>Qe()),Ne["s-rc"]=void 0);{const Qe=Ne["s-p"],yt=()=>yn(G);0===Qe.length?yt():(Promise.all(Qe).then(yt),G.$flags$|=4,Qe.length=0)}});return function(te,ne,Ne){return T.apply(this,arguments)}}(),Cn=(T,G,te)=>{try{G=G.render&&G.render(),T.$flags$&=-17,T.$flags$|=2,((T,G)=>{const te=T.$hostElement$,ne=T.$cmpMeta$,Ne=T.$vnode$||mn(null,null),q=(T=>T&&T.$tag$===wn)(G)?G:Ln(null,null,G);if(Ce=te.tagName,ne.$attrsToReflect$&&(q.$attrs$=q.$attrs$||{},ne.$attrsToReflect$.map(([_e,Fe])=>q.$attrs$[Fe]=te[_e])),q.$tag$=null,q.$flags$|=4,T.$vnode$=q,q.$elm$=Ne.$elm$=te.shadowRoot||te,j=te["s-sc"],De=te["s-cr"],z=0!=(1&ne.$flags$),ue=!1,Ht(Ne,q),ee.$flags$|=1,fe){nn(q.$elm$);let _e,Fe,Qe,yt,Ut,Xt,dn=0;for(;dn<Dn.length;dn++)_e=Dn[dn],Fe=_e.$nodeToRelocate$,Fe["s-ol"]||(Qe=se.createTextNode(""),Qe["s-nr"]=Fe,Fe.parentNode.insertBefore(Fe["s-ol"]=Qe,Fe));for(dn=0;dn<Dn.length;dn++)if(_e=Dn[dn],Fe=_e.$nodeToRelocate$,_e.$slotRefNode$){for(yt=_e.$slotRefNode$.parentNode,Ut=_e.$slotRefNode$.nextSibling,Qe=Fe["s-ol"];Qe=Qe.previousSibling;)if(Xt=Qe["s-nr"],Xt&&Xt["s-sn"]===Fe["s-sn"]&&yt===Xt.parentNode&&(Xt=Xt.nextSibling,!Xt||!Xt["s-nr"])){Ut=Xt;break}(!Ut&&yt!==Fe.parentNode||Fe.nextSibling!==Ut)&&Fe!==Ut&&(!Fe["s-hn"]&&Fe["s-ol"]&&(Fe["s-hn"]=Fe["s-ol"].parentNode.nodeName),yt.insertBefore(Fe,Ut))}else 1===Fe.nodeType&&(Fe.hidden=!0)}ue&&on(q.$elm$),ee.$flags$&=-2,Dn.length=0})(T,G)}catch(ne){tn(ne,T.$hostElement$)}return null},yn=T=>{const te=T.$hostElement$,Ne=T.$lazyInstance$,q=T.$ancestorComponent$;X(Ne,"componentDidRender"),64&T.$flags$?X(Ne,"componentDidUpdate"):(T.$flags$|=64,ke(te),X(Ne,"componentDidLoad"),T.$onReadyResolve$(te),q||Me()),T.$onInstanceResolve$(te),T.$onRenderResolve$&&(T.$onRenderResolve$(),T.$onRenderResolve$=void 0),512&T.$flags$&&Lr(()=>Mt(T,!1)),T.$flags$&=-517},Le=T=>{{const G=sn(T),te=G.$hostElement$.isConnected;return te&&2==(18&G.$flags$)&&Mt(G,!1),te}},Me=T=>{ke(se.documentElement),Lr(()=>Fn(K,"appload",{detail:{namespace:"ionic"}}))},X=(T,G,te)=>{if(T&&T[G])try{return T[G](te)}catch(ne){tn(ne)}},He=(T,G)=>T&&T.then?T.then(G):G(),ke=T=>T.classList.add("hydrated"),We=(T,G,te,ne,Ne,q,_e)=>{let Fe,Qe,yt,Ut;if(1===q.nodeType){for(Fe=q.getAttribute("c-id"),Fe&&(Qe=Fe.split("."),(Qe[0]===_e||"0"===Qe[0])&&(yt={$flags$:0,$hostId$:Qe[0],$nodeId$:Qe[1],$depth$:Qe[2],$index$:Qe[3],$tag$:q.tagName.toLowerCase(),$elm$:q,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},G.push(yt),q.removeAttribute("c-id"),T.$children$||(T.$children$=[]),T.$children$[yt.$index$]=yt,T=yt,ne&&"0"===yt.$depth$&&(ne[yt.$index$]=yt.$elm$))),Ut=q.childNodes.length-1;Ut>=0;Ut--)We(T,G,te,ne,Ne,q.childNodes[Ut],_e);if(q.shadowRoot)for(Ut=q.shadowRoot.childNodes.length-1;Ut>=0;Ut--)We(T,G,te,ne,Ne,q.shadowRoot.childNodes[Ut],_e)}else if(8===q.nodeType)Qe=q.nodeValue.split("."),(Qe[1]===_e||"0"===Qe[1])&&(Fe=Qe[0],yt={$flags$:0,$hostId$:Qe[1],$nodeId$:Qe[2],$depth$:Qe[3],$index$:Qe[4],$elm$:q,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Fe?(yt.$elm$=q.nextSibling,yt.$elm$&&3===yt.$elm$.nodeType&&(yt.$text$=yt.$elm$.textContent,G.push(yt),q.remove(),T.$children$||(T.$children$=[]),T.$children$[yt.$index$]=yt,ne&&"0"===yt.$depth$&&(ne[yt.$index$]=yt.$elm$))):yt.$hostId$===_e&&("s"===Fe?(yt.$tag$="slot",q["s-sn"]=Qe[5]?yt.$name$=Qe[5]:"",q["s-sr"]=!0,ne&&(yt.$elm$=se.createElement(yt.$tag$),yt.$name$&&yt.$elm$.setAttribute("name",yt.$name$),q.parentNode.insertBefore(yt.$elm$,q),q.remove(),"0"===yt.$depth$&&(ne[yt.$index$]=yt.$elm$)),te.push(yt),T.$children$||(T.$children$=[]),T.$children$[yt.$index$]=yt):"r"===Fe&&(ne?q.remove():(Ne["s-cr"]=q,q["s-cn"]=!0))));else if(T&&"style"===T.$tag$){const Xt=mn(null,q.textContent);Xt.$elm$=q,Xt.$index$="0",T.$children$=[Xt]}},Be=(T,G)=>{if(1===T.nodeType){let te=0;for(;te<T.childNodes.length;te++)Be(T.childNodes[te],G);if(T.shadowRoot)for(te=0;te<T.shadowRoot.childNodes.length;te++)Be(T.shadowRoot.childNodes[te],G)}else if(8===T.nodeType){const te=T.nodeValue.split(".");"o"===te[0]&&(G.set(te[1]+"."+te[2],T),T.nodeValue="",T["s-en"]=te[3])}},me=(T,G,te)=>{if(G.$members$){T.watchers&&(G.$watchers$=T.watchers);const ne=Object.entries(G.$members$),Ne=T.prototype;if(ne.map(([q,[_e]])=>{31&_e||2&te&&32&_e?Object.defineProperty(Ne,q,{get(){return((T,G)=>sn(this).$instanceValues$.get(G))(0,q)},set(Fe){((T,G,te,ne)=>{const Ne=sn(T),q=Ne.$hostElement$,_e=Ne.$instanceValues$.get(G),Fe=Ne.$flags$,Qe=Ne.$lazyInstance$;te=((T,G)=>null==T||vn(T)?T:4&G?"false"!==T&&(""===T||!!T):2&G?parseFloat(T):1&G?String(T):T)(te,ne.$members$[G][0]);const yt=Number.isNaN(_e)&&Number.isNaN(te);if((!(8&Fe)||void 0===_e)&&te!==_e&&!yt&&(Ne.$instanceValues$.set(G,te),Qe)){if(ne.$watchers$&&128&Fe){const Xt=ne.$watchers$[G];Xt&&Xt.map(dn=>{try{Qe[dn](te,_e,G)}catch(Rn){tn(Rn,q)}})}2==(18&Fe)&&Mt(Ne,!1)}})(this,q,Fe,G)},configurable:!0,enumerable:!0}):1&te&&64&_e&&Object.defineProperty(Ne,q,{value(...Fe){const Qe=sn(this);return Qe.$onInstancePromise$.then(()=>Qe.$lazyInstance$[q](...Fe))}})}),1&te){const q=new Map;Ne.attributeChangedCallback=function(_e,Fe,Qe){ee.jmp(()=>{const yt=q.get(_e);if(this.hasOwnProperty(yt))Qe=this[yt],delete this[yt];else if(Ne.hasOwnProperty(yt)&&"number"==typeof this[yt]&&this[yt]==Qe)return;this[yt]=(null!==Qe||"boolean"!=typeof this[yt])&&Qe})},T.observedAttributes=ne.filter(([_e,Fe])=>15&Fe[0]).map(([_e,Fe])=>{const Qe=Fe[1]||_e;return q.set(Qe,_e),512&Fe[0]&&G.$attrsToReflect$.push([_e,Qe]),Qe})}}return T},ve=function(){var T=(0,u.Z)(function*(G,te,ne,Ne,q){if(0==(32&te.$flags$)){{if(te.$flags$|=32,(q=$n(ne)).then){const yt=()=>{};q=yield q,yt()}q.isProxied||(ne.$watchers$=q.watchers,me(q,ne,2),q.isProxied=!0);const Qe=()=>{};te.$flags$|=8;try{new q(te)}catch(yt){tn(yt)}te.$flags$&=-9,te.$flags$|=128,Qe(),at(te.$lazyInstance$)}if(q.style){let Qe=q.style;"string"!=typeof Qe&&(Qe=Qe[te.$modeName$=(T=>cr.map(G=>G(T)).find(G=>!!G))(G)]);const yt=Ze(ne,te.$modeName$);if(!xn.has(yt)){const Ut=()=>{};wt(yt,Qe,!!(1&ne.$flags$)),Ut()}}}const _e=te.$ancestorComponent$,Fe=()=>Mt(te,!0);_e&&_e["s-rc"]?_e["s-rc"].push(Fe):Fe()});return function(te,ne,Ne,q,_e){return T.apply(this,arguments)}}(),at=T=>{X(T,"connectedCallback")},It=T=>{const G=T["s-cr"]=se.createComment("");G["s-cn"]=!0,T.insertBefore(G,T.firstChild)},ft=(T,G={})=>{const ne=[],Ne=G.exclude||[],q=K.customElements,_e=se.head,Fe=_e.querySelector("meta[charset]"),Qe=se.createElement("style"),yt=[],Ut=se.querySelectorAll(`[${Re}]`);let Xt,dn=!0,Rn=0;for(Object.assign(ee,G),ee.$resourcesUrl$=new URL(G.resourcesUrl||"./",se.baseURI).href,ee.$flags$|=2;Rn<Ut.length;Rn++)wt(Ut[Rn].getAttribute(Re),mt(Ut[Rn].innerHTML),!0);T.map(jn=>{jn[1].map(lr=>{const Br={$flags$:lr[0],$tagName$:lr[1],$members$:lr[2],$listeners$:lr[3]};Br.$members$=lr[2],Br.$listeners$=lr[3],Br.$attrsToReflect$=[],Br.$watchers$={};const wr=Br.$tagName$,zi=class extends HTMLElement{constructor(zr){super(zr),vt(zr=this,Br),1&Br.$flags$&&zr.attachShadow({mode:"open",delegatesFocus:!!(16&Br.$flags$)})}connectedCallback(){Xt&&(clearTimeout(Xt),Xt=null),dn?yt.push(this):ee.jmp(()=>(T=>{if(0==(1&ee.$flags$)){const G=sn(T),te=G.$cmpMeta$,ne=()=>{};if(1&G.$flags$)ye(T,G,te.$listeners$),at(G.$lazyInstance$);else{let Ne;if(G.$flags$|=1,Ne=T.getAttribute(ge),Ne){if(1&te.$flags$){const q=rt(T.shadowRoot,te,T.getAttribute("s-mode"));T.classList.remove(q+"-h",q+"-s")}((T,G,te,ne)=>{const q=T.shadowRoot,_e=[],Qe=q?[]:null,yt=ne.$vnode$=mn(G,null);ee.$orgLocNodes$||Be(se.body,ee.$orgLocNodes$=new Map),T[ge]=te,T.removeAttribute(ge),We(yt,_e,[],Qe,T,T,te),_e.map(Ut=>{const Xt=Ut.$hostId$+"."+Ut.$nodeId$,dn=ee.$orgLocNodes$.get(Xt),Rn=Ut.$elm$;dn&&""===dn["s-en"]&&dn.parentNode.insertBefore(Rn,dn.nextSibling),q||(Rn["s-hn"]=G,dn&&(Rn["s-ol"]=dn,Rn["s-ol"]["s-nr"]=Rn)),ee.$orgLocNodes$.delete(Xt)}),q&&Qe.map(Ut=>{Ut&&q.appendChild(Ut)})})(T,te.$tagName$,Ne,G)}Ne||12&te.$flags$&&It(T);{let q=T;for(;q=q.parentNode||q.host;)if(1===q.nodeType&&q.hasAttribute("s-id")&&q["s-p"]||q["s-p"]){Qt(G,G.$ancestorComponent$=q);break}}te.$members$&&Object.entries(te.$members$).map(([q,[_e]])=>{if(31&_e&&T.hasOwnProperty(q)){const Fe=T[q];delete T[q],T[q]=Fe}}),Lr(()=>ve(T,G,te))}ne()}})(this))}disconnectedCallback(){ee.jmp(()=>(T=>{if(0==(1&ee.$flags$)){const G=sn(this),te=G.$lazyInstance$;G.$rmListeners$&&(G.$rmListeners$.map(ne=>ne()),G.$rmListeners$=void 0),X(te,"disconnectedCallback")}})())}componentOnReady(){return sn(this).$onReadyPromise$}};Br.$lazyBundleId$=jn[0],!Ne.includes(wr)&&!q.get(wr)&&(ne.push(wr),q.define(wr,me(zi,Br,1)))})}),Qe.innerHTML=ne+"{visibility:hidden}.hydrated{visibility:inherit}",Qe.setAttribute("data-styles",""),_e.insertBefore(Qe,Fe?Fe.nextSibling:_e.firstChild),dn=!1,yt.length?yt.map(jn=>jn.connectedCallback()):ee.jmp(()=>Xt=setTimeout(Me,30))},jt=T=>{const G=new URL(T,ee.$resourcesUrl$);return G.origin!==K.location.origin?G.href:G.pathname},qt=new WeakMap,sn=T=>qt.get(T),$e=(T,G)=>qt.set(G.$lazyInstance$=T,G),vt=(T,G)=>{const te={$flags$:0,$hostElement$:T,$cmpMeta$:G,$instanceValues$:new Map};return te.$onInstancePromise$=new Promise(ne=>te.$onInstanceResolve$=ne),te.$onReadyPromise$=new Promise(ne=>te.$onReadyResolve$=ne),T["s-p"]=[],T["s-rc"]=[],ye(T,te,G.$listeners$),qt.set(T,te)},Bt=(T,G)=>G in T,tn=(T,G)=>(0,console.error)(T,G),un=new Map,$n=(T,G,te)=>{const ne=T.$tagName$.replace(/-/g,"_"),Ne=T.$lazyBundleId$,q=un.get(Ne);return q?q[ne]:P(863)(`./${Ne}.entry.js`).then(_e=>(un.set(Ne,_e),_e[ne]),tn)},xn=new Map,cr=[],_r=[],tr=[],kr=(T,G)=>te=>{T.push(te),Q||(Q=!0,G&&4&ee.$flags$?Lr(br):ee.raf(br))},Fr=T=>{for(let G=0;G<T.length;G++)try{T[G](performance.now())}catch(te){tn(te)}T.length=0},br=()=>{Fr(_r),Fr(tr),(Q=_r.length>0)&&ee.raf(br)},Lr=T=>je().then(T),Gi=kr(_r,!1),ce=kr(tr,!0),Xe={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},697:(Zt,ht,P)=>{"use strict";P.d(ht,{L:()=>De,a:()=>Ce,b:()=>z,c:()=>ue,d:()=>fe,e:()=>nt,g:()=>he,l:()=>dt,s:()=>ge,t:()=>K});var u=P(5861),F=P(1308),j=P(5730);const De="ionViewWillEnter",Ce="ionViewDidEnter",z="ionViewWillLeave",ue="ionViewDidLeave",fe="ionViewWillUnload",K=re=>new Promise((Y,J)=>{(0,F.c)(()=>{se(re),ee(re).then(Ke=>{Ke.animation&&Ke.animation.destroy(),Ie(re),Y(Ke)},Ke=>{Ie(re),J(Ke)})})}),se=re=>{const Y=re.enteringEl,J=re.leavingEl;Re(Y,J,re.direction),re.showGoBack?Y.classList.add("can-go-back"):Y.classList.remove("can-go-back"),ge(Y,!1),Y.style.setProperty("pointer-events","none"),J&&(ge(J,!1),J.style.setProperty("pointer-events","none"))},ee=function(){var re=(0,u.Z)(function*(Y){const J=yield ct(Y);return J&&F.B.isBrowser?je(J,Y):Ee(Y)});return function(J){return re.apply(this,arguments)}}(),Ie=re=>{const Y=re.enteringEl,J=re.leavingEl;Y.classList.remove("ion-page-invisible"),Y.style.removeProperty("pointer-events"),void 0!==J&&(J.classList.remove("ion-page-invisible"),J.style.removeProperty("pointer-events"))},ct=function(){var re=(0,u.Z)(function*(Y){return Y.leavingEl&&Y.animated&&0!==Y.duration?Y.animationBuilder?Y.animationBuilder:"ios"===Y.mode?(yield Promise.resolve().then(P.bind(P,3953))).iosTransitionAnimation:(yield Promise.resolve().then(P.bind(P,3880))).mdTransitionAnimation:void 0});return function(J){return re.apply(this,arguments)}}(),je=function(){var re=(0,u.Z)(function*(Y,J){yield ye(J,!0);const Ke=Y(J.baseEl,J);Ve(J.enteringEl,J.leavingEl);const ot=yield Se(Ke,J);return J.progressCallback&&J.progressCallback(void 0),ot&&Ue(J.enteringEl,J.leavingEl),{hasCompleted:ot,animation:Ke}});return function(J,Ke){return re.apply(this,arguments)}}(),Ee=function(){var re=(0,u.Z)(function*(Y){const J=Y.enteringEl,Ke=Y.leavingEl;return yield ye(Y,!1),Ve(J,Ke),Ue(J,Ke),{hasCompleted:!0}});return function(J){return re.apply(this,arguments)}}(),ye=function(){var re=(0,u.Z)(function*(Y,J){const ot=(void 0!==Y.deepWait?Y.deepWait:J)?[nt(Y.enteringEl),nt(Y.leavingEl)]:[qe(Y.enteringEl),qe(Y.leavingEl)];yield Promise.all(ot),yield st(Y.viewIsReady,Y.enteringEl)});return function(J,Ke){return re.apply(this,arguments)}}(),st=function(){var re=(0,u.Z)(function*(Y,J){Y&&(yield Y(J))});return function(J,Ke){return re.apply(this,arguments)}}(),Se=(re,Y)=>{const J=Y.progressCallback,Ke=new Promise(ot=>{re.onFinish(wt=>ot(1===wt))});return J?(re.progressStart(!0),J(re)):re.play(),Ke},Ve=(re,Y)=>{dt(Y,z),dt(re,De)},Ue=(re,Y)=>{dt(re,Ce),dt(Y,ue)},dt=(re,Y)=>{if(re){const J=new CustomEvent(Y,{bubbles:!1,cancelable:!1});re.dispatchEvent(J)}},qe=re=>re?new Promise(Y=>(0,j.c)(re,Y)):Promise.resolve(),nt=function(){var re=(0,u.Z)(function*(Y){const J=Y;if(J){if(null!=J.componentOnReady){if(null!=(yield J.componentOnReady()))return}else if(null!=J.__registerHost)return void(yield new Promise(ot=>(0,j.r)(ot)));yield Promise.all(Array.from(J.children).map(nt))}});return function(J){return re.apply(this,arguments)}}(),ge=(re,Y)=>{Y?(re.setAttribute("aria-hidden","true"),re.classList.add("ion-page-hidden")):(re.hidden=!1,re.removeAttribute("aria-hidden"),re.classList.remove("ion-page-hidden"))},Re=(re,Y,J)=>{void 0!==re&&(re.style.zIndex="back"===J?"99":"101"),void 0!==Y&&(Y.style.zIndex="100")},he=re=>re.classList.contains("ion-page")?re:re.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||re},1911:(Zt,ht,P)=>{"use strict";P.r(ht),P.d(ht,{GESTURE_CONTROLLER:()=>u.G,createGesture:()=>pe});var u=P(4349);const F=(ee,Ie,ct,je)=>{const Ee=j(ee)?{capture:!!je.capture,passive:!!je.passive}:!!je.capture;let ye,st;return ee.__zone_symbol__addEventListener?(ye="__zone_symbol__addEventListener",st="__zone_symbol__removeEventListener"):(ye="addEventListener",st="removeEventListener"),ee[ye](Ie,ct,Ee),()=>{ee[st](Ie,ct,Ee)}},j=ee=>{if(void 0===De)try{const Ie=Object.defineProperty({},"passive",{get:()=>{De=!0}});ee.addEventListener("optsTest",()=>{},Ie)}catch{De=!1}return!!De};let De;const ue=ee=>ee instanceof Document?ee:ee.ownerDocument,pe=ee=>{let Ie=!1,ct=!1,je=!0,Ee=!1;const ye=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},ee),st=ye.canStart,Se=ye.onWillStart,Ve=ye.onStart,Ue=ye.onEnd,dt=ye.notCaptured,qe=ye.onMove,nt=ye.threshold,ge=ye.passive,Re=ye.blurOnStart,he={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},re=((ee,Ie,ct)=>{const je=ct*(Math.PI/180),Ee="x"===ee,ye=Math.cos(je),st=Ie*Ie;let Se=0,Ve=0,Ue=!1,dt=0;return{start(qe,nt){Se=qe,Ve=nt,dt=0,Ue=!0},detect(qe,nt){if(!Ue)return!1;const ge=qe-Se,Re=nt-Ve,he=ge*ge+Re*Re;if(he<st)return!1;const re=Math.sqrt(he),Y=(Ee?ge:Re)/re;return dt=Y>ye?1:Y<-ye?-1:0,Ue=!1,!0},isGesture:()=>0!==dt,getDirection:()=>dt}})(ye.direction,ye.threshold,ye.maxAngle),Y=u.G.createGesture({name:ee.gestureName,priority:ee.gesturePriority,disableScroll:ee.disableScroll}),ot=()=>{!Ie||(Ee=!1,qe&&qe(he))},wt=()=>!!Y.capture()&&(Ie=!0,je=!1,he.startX=he.currentX,he.startY=he.currentY,he.startTime=he.currentTime,Se?Se(he).then(Ge):Ge(),!0),Ge=()=>{Re&&(()=>{if(typeof document<"u"){const bt=document.activeElement;bt?.blur&&bt.blur()}})(),Ve&&Ve(he),je=!0},Ze=()=>{Ie=!1,ct=!1,Ee=!1,je=!0,Y.release()},mt=bt=>{const tt=Ie,Vt=je;if(Ze(),Vt){if(Q(he,bt),tt)return void(Ue&&Ue(he));dt&&dt(he)}},St=((ee,Ie,ct,je,Ee)=>{let ye,st,Se,Ve,Ue,dt,qe,nt=0;const ge=rt=>{nt=Date.now()+2e3,Ie(rt)&&(!st&&ct&&(st=F(ee,"touchmove",ct,Ee)),Se||(Se=F(rt.target,"touchend",he,Ee)),Ve||(Ve=F(rt.target,"touchcancel",he,Ee)))},Re=rt=>{nt>Date.now()||!Ie(rt)||(!dt&&ct&&(dt=F(ue(ee),"mousemove",ct,Ee)),qe||(qe=F(ue(ee),"mouseup",re,Ee)))},he=rt=>{Y(),je&&je(rt)},re=rt=>{J(),je&&je(rt)},Y=()=>{st&&st(),Se&&Se(),Ve&&Ve(),st=Se=Ve=void 0},J=()=>{dt&&dt(),qe&&qe(),dt=qe=void 0},Ke=()=>{Y(),J()},ot=(rt=!0)=>{rt?(ye||(ye=F(ee,"touchstart",ge,Ee)),Ue||(Ue=F(ee,"mousedown",Re,Ee))):(ye&&ye(),Ue&&Ue(),ye=Ue=void 0,Ke())};return{enable:ot,stop:Ke,destroy:()=>{ot(!1),je=ct=Ie=void 0}}})(ye.el,bt=>{const tt=se(bt);return!(ct||!je||(K(bt,he),he.startX=he.currentX,he.startY=he.currentY,he.startTime=he.currentTime=tt,he.velocityX=he.velocityY=he.deltaX=he.deltaY=0,he.event=bt,st&&!1===st(he))||(Y.release(),!Y.start()))&&(ct=!0,0===nt?wt():(re.start(he.startX,he.startY),!0))},bt=>{Ie?!Ee&&je&&(Ee=!0,Q(he,bt),requestAnimationFrame(ot)):(Q(he,bt),re.detect(he.currentX,he.currentY)&&(!re.isGesture()||!wt())&&_t())},mt,{capture:!1,passive:ge}),_t=()=>{Ze(),St.stop(),dt&&dt(he)};return{enable(bt=!0){bt||(Ie&&mt(void 0),Ze()),St.enable(bt)},destroy(){Y.destroy(),St.destroy()}}},Q=(ee,Ie)=>{if(!Ie)return;const ct=ee.currentX,je=ee.currentY,Ee=ee.currentTime;K(Ie,ee);const ye=ee.currentX,st=ee.currentY,Ve=(ee.currentTime=se(Ie))-Ee;if(Ve>0&&Ve<100){const dt=(st-je)/Ve;ee.velocityX=(ye-ct)/Ve*.7+.3*ee.velocityX,ee.velocityY=.7*dt+.3*ee.velocityY}ee.deltaX=ye-ee.startX,ee.deltaY=st-ee.startY,ee.event=Ie},K=(ee,Ie)=>{let ct=0,je=0;if(ee){const Ee=ee.changedTouches;if(Ee&&Ee.length>0){const ye=Ee[0];ct=ye.clientX,je=ye.clientY}else void 0!==ee.pageX&&(ct=ee.pageX,je=ee.pageY)}Ie.currentX=ct,Ie.currentY=je},se=ee=>ee.timeStamp||Date.now()},9658:(Zt,ht,P)=>{"use strict";P.d(ht,{a:()=>K,b:()=>ot,c:()=>j,g:()=>Q,i:()=>wt});var u=P(1308);class F{constructor(){this.m=new Map}reset(Ge){this.m=new Map(Object.entries(Ge))}get(Ge,Ze){const mt=this.m.get(Ge);return void 0!==mt?mt:Ze}getBoolean(Ge,Ze=!1){const mt=this.m.get(Ge);return void 0===mt?Ze:"string"==typeof mt?"true"===mt:!!mt}getNumber(Ge,Ze){const mt=parseFloat(this.m.get(Ge));return isNaN(mt)?void 0!==Ze?Ze:NaN:mt}set(Ge,Ze){this.m.set(Ge,Ze)}}const j=new F,pe="ionic-persist-config",Q=rt=>se(rt),K=(rt,Ge)=>("string"==typeof rt&&(Ge=rt,rt=void 0),Q(rt).includes(Ge)),se=(rt=window)=>{if(typeof rt>"u")return[];rt.Ionic=rt.Ionic||{};let Ge=rt.Ionic.platforms;return null==Ge&&(Ge=rt.Ionic.platforms=ee(rt),Ge.forEach(Ze=>rt.document.documentElement.classList.add(`plt-${Ze}`))),Ge},ee=rt=>{const Ge=j.get("platform");return Object.keys(J).filter(Ze=>{const mt=Ge?.[Ze];return"function"==typeof mt?mt(rt):J[Ze](rt)})},ct=rt=>!!(re(rt,/iPad/i)||re(rt,/Macintosh/i)&&Ue(rt)),ye=rt=>re(rt,/android|sink/i),Ue=rt=>Y(rt,"(any-pointer:coarse)"),qe=rt=>nt(rt)||ge(rt),nt=rt=>!!(rt.cordova||rt.phonegap||rt.PhoneGap),ge=rt=>!!rt.Capacitor?.isNative,re=(rt,Ge)=>Ge.test(rt.navigator.userAgent),Y=(rt,Ge)=>{var Ze;return null===(Ze=rt.matchMedia)||void 0===Ze?void 0:Ze.call(rt,Ge).matches},J={ipad:ct,iphone:rt=>re(rt,/iPhone/i),ios:rt=>re(rt,/iPhone|iPod/i)||ct(rt),android:ye,phablet:rt=>{const Ge=rt.innerWidth,Ze=rt.innerHeight,mt=Math.min(Ge,Ze),St=Math.max(Ge,Ze);return mt>390&&mt<520&&St>620&&St<800},tablet:rt=>{const Ge=rt.innerWidth,Ze=rt.innerHeight,mt=Math.min(Ge,Ze),St=Math.max(Ge,Ze);return ct(rt)||(rt=>ye(rt)&&!re(rt,/mobile/i))(rt)||mt>460&&mt<820&&St>780&&St<1400},cordova:nt,capacitor:ge,electron:rt=>re(rt,/electron/i),pwa:rt=>{var Ge;return!(!(null===(Ge=rt.matchMedia)||void 0===Ge?void 0:Ge.call(rt,"(display-mode: standalone)").matches)&&!rt.navigator.standalone)},mobile:Ue,mobileweb:rt=>Ue(rt)&&!qe(rt),desktop:rt=>!Ue(rt),hybrid:qe};let Ke;const ot=rt=>rt&&(0,u.g)(rt)||Ke,wt=(rt={})=>{if(typeof window>"u")return;const Ge=window.document,Ze=window,mt=Ze.Ionic=Ze.Ionic||{},St={};rt._ael&&(St.ael=rt._ael),rt._rel&&(St.rel=rt._rel),rt._ce&&(St.ce=rt._ce),(0,u.s)(St);const _t=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(rt=>{try{const Ge=rt.sessionStorage.getItem(pe);return null!==Ge?JSON.parse(Ge):{}}catch{return{}}})(Ze)),{persistConfig:!1}),mt.config),(rt=>{const Ge={};return rt.location.search.slice(1).split("&").map(Ze=>Ze.split("=")).map(([Ze,mt])=>[decodeURIComponent(Ze),decodeURIComponent(mt)]).filter(([Ze])=>((rt,Ge)=>rt.substr(0,Ge.length)===Ge)(Ze,"ionic:")).map(([Ze,mt])=>[Ze.slice("ionic:".length),mt]).forEach(([Ze,mt])=>{Ge[Ze]=mt}),Ge})(Ze)),rt);j.reset(_t),j.getBoolean("persistConfig")&&((rt,Ge)=>{try{rt.sessionStorage.setItem(pe,JSON.stringify(Ge))}catch{return}})(Ze,_t),se(Ze),mt.config=j,mt.mode=Ke=j.get("mode",Ge.documentElement.getAttribute("mode")||(K(Ze,"ios")?"ios":"md")),j.set("mode",Ke),Ge.documentElement.setAttribute("mode",Ke),Ge.documentElement.classList.add(Ke),j.getBoolean("_testing")&&j.set("animated",!1);const bt=Vt=>{var $t;return null===($t=Vt.tagName)||void 0===$t?void 0:$t.startsWith("ION-")},tt=Vt=>["ios","md"].includes(Vt);(0,u.a)(Vt=>{for(;Vt;){const $t=Vt.mode||Vt.getAttribute("mode");if($t){if(tt($t))return $t;bt(Vt)&&console.warn('Invalid ionic mode: "'+$t+'", expected: "ios" or "md"')}Vt=Vt.parentElement}return Ke})}},3953:(Zt,ht,P)=>{"use strict";P.r(ht),P.d(ht,{iosTransitionAnimation:()=>ee,shadow:()=>ue});var u=P(8834),F=P(697);P(3457),P(1308);const z=Ie=>document.querySelector(`${Ie}.ion-cloned-element`),ue=Ie=>Ie.shadowRoot||Ie,fe=Ie=>{const ct="ION-TABS"===Ie.tagName?Ie:Ie.querySelector("ion-tabs"),je="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=ct){const Ee=ct.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Ee?Ee.querySelector(je):null}return Ie.querySelector(je)},pe=(Ie,ct)=>{const je="ION-TABS"===Ie.tagName?Ie:Ie.querySelector("ion-tabs");let Ee=[];if(null!=je){const ye=je.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=ye&&(Ee=ye.querySelectorAll("ion-buttons"))}else Ee=Ie.querySelectorAll("ion-buttons");for(const ye of Ee){const st=ye.closest("ion-header"),Se=st&&!st.classList.contains("header-collapse-condense-inactive"),Ve=ye.querySelector("ion-back-button"),Ue=ye.classList.contains("buttons-collapse"),dt="start"===ye.slot||""===ye.slot;if(null!==Ve&&dt&&(Ue&&Se&&ct||!Ue))return Ve}return null},K=(Ie,ct,je,Ee,ye,st)=>{const Se=ct?`calc(100% - ${st.right+4}px)`:st.left-4+"px",Ve=ct?"7px":"-7px",Ue=ct?"-4px":"4px",dt=ct?"-4px":"4px",qe=ct?"right":"left",nt=ct?"left":"right",he=je?[{offset:0,opacity:1,transform:`translate3d(${Ue}, ${st.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Ve}, ${ye.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${Ve}, ${ye.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${Ue}, ${st.top-46}px, 0) scale(1)`}],J=je?[{offset:0,opacity:1,transform:`translate3d(${dt}, ${st.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${dt}, ${st.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${dt}, ${st.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${dt}, ${st.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${dt}, ${st.top-46}px, 0) scale(1)`}],Ke=(0,u.c)(),ot=(0,u.c)(),wt=z("ion-back-button"),rt=ue(wt).querySelector(".button-text"),Ge=ue(wt).querySelector("ion-icon");wt.text=Ee.text,wt.mode=Ee.mode,wt.icon=Ee.icon,wt.color=Ee.color,wt.disabled=Ee.disabled,wt.style.setProperty("display","block"),wt.style.setProperty("position","fixed"),ot.addElement(Ge),Ke.addElement(rt),Ke.beforeStyles({"transform-origin":`${qe} center`}).beforeAddWrite(()=>{Ee.style.setProperty("display","none"),wt.style.setProperty(qe,Se)}).afterAddWrite(()=>{Ee.style.setProperty("display",""),wt.style.setProperty("display","none"),wt.style.removeProperty(qe)}).keyframes(he),ot.beforeStyles({"transform-origin":`${nt} center`}).keyframes(J),Ie.addAnimation([Ke,ot])},se=(Ie,ct,je,Ee,ye,st)=>{const Se=ct?`calc(100% - ${ye.right}px)`:`${ye.left}px`,Ve=ct?"-18px":"18px",Ue=ct?"right":"left",nt=je?[{offset:0,opacity:0,transform:`translate3d(${Ve}, ${st.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${ye.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${ye.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Ve}, ${st.top-4}px, 0) scale(0.5)`}],ge=z("ion-title"),Re=(0,u.c)();ge.innerText=Ee.innerText,ge.size=Ee.size,ge.color=Ee.color,Re.addElement(ge),Re.beforeStyles({"transform-origin":`${Ue} center`,height:"46px",display:"",position:"relative",[Ue]:Se}).beforeAddWrite(()=>{Ee.style.setProperty("display","none")}).afterAddWrite(()=>{Ee.style.setProperty("display",""),ge.style.setProperty("display","none")}).keyframes(nt),Ie.addAnimation(Re)},ee=(Ie,ct)=>{var je;try{const Ee="cubic-bezier(0.32,0.72,0,1)",ye="opacity",st="transform",Se="0%",Ue="rtl"===Ie.ownerDocument.dir,dt=Ue?"-99.5%":"99.5%",qe=Ue?"33%":"-33%",nt=ct.enteringEl,ge=ct.leavingEl,Re="back"===ct.direction,he=nt.querySelector(":scope > ion-content"),re=nt.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Y=nt.querySelectorAll(":scope > ion-header > ion-toolbar"),J=(0,u.c)(),Ke=(0,u.c)();if(J.addElement(nt).duration((null!==(je=ct.duration)&&void 0!==je?je:0)||540).easing(ct.easing||Ee).fill("both").beforeRemoveClass("ion-page-invisible"),ge&&null!=Ie){const Ge=(0,u.c)();Ge.addElement(Ie),J.addAnimation(Ge)}if(he||0!==Y.length||0!==re.length?(Ke.addElement(he),Ke.addElement(re)):Ke.addElement(nt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),J.addAnimation(Ke),Re?Ke.beforeClearStyles([ye]).fromTo("transform",`translateX(${qe})`,`translateX(${Se})`).fromTo(ye,.8,1):Ke.beforeClearStyles([ye]).fromTo("transform",`translateX(${dt})`,`translateX(${Se})`),he){const Ge=ue(he).querySelector(".transition-effect");if(Ge){const Ze=Ge.querySelector(".transition-cover"),mt=Ge.querySelector(".transition-shadow"),St=(0,u.c)(),_t=(0,u.c)(),bt=(0,u.c)();St.addElement(Ge).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),_t.addElement(Ze).beforeClearStyles([ye]).fromTo(ye,0,.1),bt.addElement(mt).beforeClearStyles([ye]).fromTo(ye,.03,.7),St.addAnimation([_t,bt]),Ke.addAnimation([St])}}const ot=nt.querySelector("ion-header.header-collapse-condense"),{forward:wt,backward:rt}=((Ie,ct,je,Ee,ye)=>{const st=pe(Ee,je),Se=fe(ye),Ve=fe(Ee),Ue=pe(ye,je),dt=null!==st&&null!==Se&&!je,qe=null!==Ve&&null!==Ue&&je;if(dt){const nt=Se.getBoundingClientRect(),ge=st.getBoundingClientRect();se(Ie,ct,je,Se,nt,ge),K(Ie,ct,je,st,nt,ge)}else if(qe){const nt=Ve.getBoundingClientRect(),ge=Ue.getBoundingClientRect();se(Ie,ct,je,Ve,nt,ge),K(Ie,ct,je,Ue,nt,ge)}return{forward:dt,backward:qe}})(J,Ue,Re,nt,ge);if(Y.forEach(Ge=>{const Ze=(0,u.c)();Ze.addElement(Ge),J.addAnimation(Ze);const mt=(0,u.c)();mt.addElement(Ge.querySelector("ion-title"));const St=(0,u.c)(),_t=Array.from(Ge.querySelectorAll("ion-buttons,[menuToggle]")),bt=Ge.closest("ion-header"),tt=bt?.classList.contains("header-collapse-condense-inactive");let Vt;Vt=_t.filter(Re?mn=>{const wn=mn.classList.contains("buttons-collapse");return wn&&!tt||!wn}:mn=>!mn.classList.contains("buttons-collapse")),St.addElement(Vt);const $t=(0,u.c)();$t.addElement(Ge.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const bn=(0,u.c)();bn.addElement(ue(Ge).querySelector(".toolbar-background"));const vn=(0,u.c)(),Ln=Ge.querySelector("ion-back-button");if(Ln&&vn.addElement(Ln),Ze.addAnimation([mt,St,$t,bn,vn]),St.fromTo(ye,.01,1),$t.fromTo(ye,.01,1),Re)tt||mt.fromTo("transform",`translateX(${qe})`,`translateX(${Se})`).fromTo(ye,.01,1),$t.fromTo("transform",`translateX(${qe})`,`translateX(${Se})`),vn.fromTo(ye,.01,1);else if(ot||mt.fromTo("transform",`translateX(${dt})`,`translateX(${Se})`).fromTo(ye,.01,1),$t.fromTo("transform",`translateX(${dt})`,`translateX(${Se})`),bn.beforeClearStyles([ye,"transform"]),bt?.translucent?bn.fromTo("transform",Ue?"translateX(-100%)":"translateX(100%)","translateX(0px)"):bn.fromTo(ye,.01,"var(--opacity)"),wt||vn.fromTo(ye,.01,1),Ln&&!wt){const wn=(0,u.c)();wn.addElement(ue(Ln).querySelector(".button-text")).fromTo("transform",Ue?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Ze.addAnimation(wn)}}),ge){const Ge=(0,u.c)(),Ze=ge.querySelector(":scope > ion-content"),mt=ge.querySelectorAll(":scope > ion-header > ion-toolbar"),St=ge.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Ze||0!==mt.length||0!==St.length?(Ge.addElement(Ze),Ge.addElement(St)):Ge.addElement(ge.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),J.addAnimation(Ge),Re){Ge.beforeClearStyles([ye]).fromTo("transform",`translateX(${Se})`,Ue?"translateX(-100%)":"translateX(100%)");const _t=(0,F.g)(ge);J.afterAddWrite(()=>{"normal"===J.getDirection()&&_t.style.setProperty("display","none")})}else Ge.fromTo("transform",`translateX(${Se})`,`translateX(${qe})`).fromTo(ye,1,.8);if(Ze){const _t=ue(Ze).querySelector(".transition-effect");if(_t){const bt=_t.querySelector(".transition-cover"),tt=_t.querySelector(".transition-shadow"),Vt=(0,u.c)(),$t=(0,u.c)(),bn=(0,u.c)();Vt.addElement(_t).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),$t.addElement(bt).beforeClearStyles([ye]).fromTo(ye,.1,0),bn.addElement(tt).beforeClearStyles([ye]).fromTo(ye,.7,.03),Vt.addAnimation([$t,bn]),Ge.addAnimation([Vt])}}mt.forEach(_t=>{const bt=(0,u.c)();bt.addElement(_t);const tt=(0,u.c)();tt.addElement(_t.querySelector("ion-title"));const Vt=(0,u.c)(),$t=_t.querySelectorAll("ion-buttons,[menuToggle]"),bn=_t.closest("ion-header"),vn=bn?.classList.contains("header-collapse-condense-inactive"),Ln=Array.from($t).filter(_n=>{const In=_n.classList.contains("buttons-collapse");return In&&!vn||!In});Vt.addElement(Ln);const mn=(0,u.c)(),wn=_t.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");wn.length>0&&mn.addElement(wn);const Bn=(0,u.c)();Bn.addElement(ue(_t).querySelector(".toolbar-background"));const Hn=(0,u.c)(),kn=_t.querySelector("ion-back-button");if(kn&&Hn.addElement(kn),bt.addAnimation([tt,Vt,mn,Hn,Bn]),J.addAnimation(bt),Hn.fromTo(ye,.99,0),Vt.fromTo(ye,.99,0),mn.fromTo(ye,.99,0),Re){if(vn||tt.fromTo("transform",`translateX(${Se})`,Ue?"translateX(-100%)":"translateX(100%)").fromTo(ye,.99,0),mn.fromTo("transform",`translateX(${Se})`,Ue?"translateX(-100%)":"translateX(100%)"),Bn.beforeClearStyles([ye,"transform"]),bn?.translucent?Bn.fromTo("transform","translateX(0px)",Ue?"translateX(-100%)":"translateX(100%)"):Bn.fromTo(ye,"var(--opacity)",0),kn&&!rt){const In=(0,u.c)();In.addElement(ue(kn).querySelector(".button-text")).fromTo("transform",`translateX(${Se})`,`translateX(${(Ue?-124:124)+"px"})`),bt.addAnimation(In)}}else vn||tt.fromTo("transform",`translateX(${Se})`,`translateX(${qe})`).fromTo(ye,.99,0).afterClearStyles([st,ye]),mn.fromTo("transform",`translateX(${Se})`,`translateX(${qe})`).afterClearStyles([st,ye]),Hn.afterClearStyles([ye]),tt.afterClearStyles([ye]),Vt.afterClearStyles([ye])})}return J}catch(Ee){throw Ee}}},3880:(Zt,ht,P)=>{"use strict";P.r(ht),P.d(ht,{mdTransitionAnimation:()=>Ce});var u=P(8834),F=P(697);P(3457),P(1308);const Ce=(z,ue)=>{var fe,pe,Q;const ee="back"===ue.direction,ct=ue.leavingEl,je=(0,F.g)(ue.enteringEl),Ee=je.querySelector("ion-toolbar"),ye=(0,u.c)();if(ye.addElement(je).fill("both").beforeRemoveClass("ion-page-invisible"),ee?ye.duration((null!==(fe=ue.duration)&&void 0!==fe?fe:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):ye.duration((null!==(pe=ue.duration)&&void 0!==pe?pe:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),Ee){const st=(0,u.c)();st.addElement(Ee),ye.addAnimation(st)}if(ct&&ee){ye.duration((null!==(Q=ue.duration)&&void 0!==Q?Q:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const st=(0,u.c)();st.addElement((0,F.g)(ct)).onFinish(Se=>{1===Se&&st.elements.length>0&&st.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),ye.addAnimation(st)}return ye}},1312:(Zt,ht,P)=>{"use strict";P.d(ht,{B:()=>Ze,G:()=>mt,a:()=>fe,b:()=>pe,c:()=>ee,d:()=>Re,e:()=>ct,f:()=>re,g:()=>Ke,h:()=>z,i:()=>wt,j:()=>ye,k:()=>nt,l:()=>Q,m:()=>K,s:()=>Ge,t:()=>Ie});var u=P(5861),F=P(9658),j=P(7593),De=P(5730);let Ce=0;const z=new WeakMap,ue=St=>({create:_t=>je(St,_t),dismiss:(_t,bt,tt)=>dt(document,_t,bt,St,tt),getTop:()=>(0,u.Z)(function*(){return nt(document,St)})()}),fe=ue("ion-alert"),pe=ue("ion-action-sheet"),Q=ue("ion-loading"),K=ue("ion-modal"),ee=ue("ion-popover"),Ie=ue("ion-toast"),ct=St=>{typeof document<"u"&&Ue(document);const _t=Ce++;St.overlayIndex=_t,St.hasAttribute("id")||(St.id=`ion-overlay-${_t}`)},je=(St,_t)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(St).then(()=>{const bt=document.createElement(St);return bt.classList.add("overlay-hidden"),Object.assign(bt,Object.assign(Object.assign({},_t),{hasController:!0})),Y(document).appendChild(bt),new Promise(tt=>(0,De.c)(bt,tt))}):Promise.resolve(),Ee='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',ye=(St,_t)=>{let bt=St.querySelector(Ee);const tt=bt?.shadowRoot;tt&&(bt=tt.querySelector(Ee)||bt),bt?(0,De.f)(bt):_t.focus()},Se=(St,_t)=>{const bt=Array.from(St.querySelectorAll(Ee));let tt=bt.length>0?bt[bt.length-1]:null;const Vt=tt?.shadowRoot;Vt&&(tt=Vt.querySelector(Ee)||tt),tt?tt.focus():_t.focus()},Ue=St=>{0===Ce&&(Ce=1,St.addEventListener("focus",_t=>{((St,_t)=>{const bt=nt(_t,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),tt=St.target;bt&&tt&&!bt.classList.contains("ion-disable-focus-trap")&&(bt.shadowRoot?(()=>{if(bt.contains(tt))bt.lastFocus=tt;else{const bn=bt.lastFocus;ye(bt,bt),bn===_t.activeElement&&Se(bt,bt),bt.lastFocus=_t.activeElement}})():(()=>{if(bt===tt)bt.lastFocus=void 0;else{const bn=(0,De.g)(bt);if(!bn.contains(tt))return;const vn=bn.querySelector(".ion-overlay-wrapper");if(!vn)return;if(vn.contains(tt))bt.lastFocus=tt;else{const Ln=bt.lastFocus;ye(vn,bt),Ln===_t.activeElement&&Se(vn,bt),bt.lastFocus=_t.activeElement}}})())})(_t,St)},!0),St.addEventListener("ionBackButton",_t=>{const bt=nt(St);bt?.backdropDismiss&&_t.detail.register(j.OVERLAY_BACK_BUTTON_PRIORITY,()=>bt.dismiss(void 0,Ze))}),St.addEventListener("keyup",_t=>{if("Escape"===_t.key){const bt=nt(St);bt?.backdropDismiss&&bt.dismiss(void 0,Ze)}}))},dt=(St,_t,bt,tt,Vt)=>{const $t=nt(St,tt,Vt);return $t?$t.dismiss(_t,bt):Promise.reject("overlay does not exist")},nt=(St,_t,bt)=>{const tt=((St,_t)=>(void 0===_t&&(_t="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(St.querySelectorAll(_t)).filter(bt=>bt.overlayIndex>0)))(St,_t).filter(Vt=>!(St=>St.classList.contains("overlay-hidden"))(Vt));return void 0===bt?tt[tt.length-1]:tt.find(Vt=>Vt.id===bt)},ge=(St=!1)=>{const bt=Y(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");!bt||(St?bt.setAttribute("aria-hidden","true"):bt.removeAttribute("aria-hidden"))},Re=function(){var St=(0,u.Z)(function*(_t,bt,tt,Vt,$t){var bn,vn;if(_t.presented)return;ge(!0),_t.presented=!0,_t.willPresent.emit(),null===(bn=_t.willPresentShorthand)||void 0===bn||bn.emit();const Ln=(0,F.b)(_t),mn=_t.enterAnimation?_t.enterAnimation:F.c.get(bt,"ios"===Ln?tt:Vt);(yield J(_t,mn,_t.el,$t))&&(_t.didPresent.emit(),null===(vn=_t.didPresentShorthand)||void 0===vn||vn.emit()),"ION-TOAST"!==_t.el.tagName&&he(_t.el),_t.keyboardClose&&(null===document.activeElement||!_t.el.contains(document.activeElement))&&_t.el.focus()});return function(bt,tt,Vt,$t,bn){return St.apply(this,arguments)}}(),he=function(){var St=(0,u.Z)(function*(_t){let bt=document.activeElement;if(!bt)return;const tt=bt?.shadowRoot;tt&&(bt=tt.querySelector(Ee)||bt),yield _t.onDidDismiss(),bt.focus()});return function(bt){return St.apply(this,arguments)}}(),re=function(){var St=(0,u.Z)(function*(_t,bt,tt,Vt,$t,bn,vn){var Ln,mn;if(!_t.presented)return!1;ge(!1),_t.presented=!1;try{_t.el.style.setProperty("pointer-events","none"),_t.willDismiss.emit({data:bt,role:tt}),null===(Ln=_t.willDismissShorthand)||void 0===Ln||Ln.emit({data:bt,role:tt});const wn=(0,F.b)(_t),Bn=_t.leaveAnimation?_t.leaveAnimation:F.c.get(Vt,"ios"===wn?$t:bn);tt!==mt&&(yield J(_t,Bn,_t.el,vn)),_t.didDismiss.emit({data:bt,role:tt}),null===(mn=_t.didDismissShorthand)||void 0===mn||mn.emit({data:bt,role:tt}),z.delete(_t),_t.el.classList.add("overlay-hidden"),_t.el.style.removeProperty("pointer-events")}catch(wn){console.error(wn)}return _t.el.remove(),!0});return function(bt,tt,Vt,$t,bn,vn,Ln){return St.apply(this,arguments)}}(),Y=St=>St.querySelector("ion-app")||St.body,J=function(){var St=(0,u.Z)(function*(_t,bt,tt,Vt){tt.classList.remove("overlay-hidden");const bn=bt(_t.el,Vt);(!_t.animated||!F.c.getBoolean("animated",!0))&&bn.duration(0),_t.keyboardClose&&bn.beforeAddWrite(()=>{const Ln=tt.ownerDocument.activeElement;Ln?.matches("input,ion-input, ion-textarea")&&Ln.blur()});const vn=z.get(_t)||[];return z.set(_t,[...vn,bn]),yield bn.play(),!0});return function(bt,tt,Vt,$t){return St.apply(this,arguments)}}(),Ke=(St,_t)=>{let bt;const tt=new Promise(Vt=>bt=Vt);return ot(St,_t,Vt=>{bt(Vt.detail)}),tt},ot=(St,_t,bt)=>{const tt=Vt=>{(0,De.b)(St,_t,tt),bt(Vt)};(0,De.a)(St,_t,tt)},wt=St=>"cancel"===St||St===Ze,rt=St=>St(),Ge=(St,_t)=>{if("function"==typeof St)return F.c.get("_zoneGate",rt)(()=>{try{return St(_t)}catch(tt){throw tt}})},Ze="backdrop",mt="gesture"},849:(Zt,ht,P)=>{"use strict";P.d(ht,{K:()=>z});var u=P(5861),F=P(4424),j=P.n(F);const De={SecureStorage:"ionicSecureStorage",IndexedDB:j().INDEXEDDB,LocalStorage:j().LOCALSTORAGE},Ce={name:"_ionicstorage",storeName:"_ionickv",dbKey:"_ionickey",driverOrder:[De.SecureStorage,De.IndexedDB,De.LocalStorage]};class z{constructor(fe=Ce){this._db=null,this._secureStorageDriver=null;const pe=Object.assign({},Ce,fe||{});this._config=pe}create(){var fe=this;return(0,u.Z)(function*(){const pe=j().createInstance(fe._config);return fe._db=pe,yield pe.setDriver(fe._config.driverOrder||[]),fe})()}defineDriver(fe){var pe=this;return(0,u.Z)(function*(){return fe._driver===De.SecureStorage&&(pe._secureStorageDriver=fe),j().defineDriver(fe)})()}get driver(){var fe;return(null===(fe=this._db)||void 0===fe?void 0:fe.driver())||null}assertDb(){if(!this._db)throw new Error("Database not created. Must call create() first");return this._db}get(fe){return this.assertDb().getItem(fe)}set(fe,pe){return this.assertDb().setItem(fe,pe)}remove(fe){return this.assertDb().removeItem(fe)}clear(){return this.assertDb().clear()}length(){return this.assertDb().length()}keys(){return this.assertDb().keys()}forEach(fe){return this.assertDb().iterate(fe)}setEncryptionKey(fe){var pe;if(!this._secureStorageDriver)throw new Error("@ionic-enterprise/secure-storage not installed. Encryption support not available");null===(pe=this._secureStorageDriver)||void 0===pe||pe.setEncryptionKey(fe)}}},9737:(Zt,ht,P)=>{"use strict";P.d(ht,{n:()=>pe,K:()=>Q});var u=P(5861),j=P(5062),De=P(529),Ce=P(4023),z=P(9022),ue=P(7022),fe=P(9379);class pe extends class F{constructor(){this.data={}}fillAttributes(se){Object.keys(se).forEach(ee=>{!Boolean(Object.keys(this.data).find(ct=>ct===ee))||(this.data[ee]=se[ee])})}}{constructor(){super(...arguments),this.data={name:"",email:"",password:"",password_confirmation:"",relationships:{}}}}let Q=(()=>{class K{constructor(ee,Ie,ct,je,Ee){this.httpClient=ee,this.toastService=Ie,this.sessionService=ct,this.router=je,this.alertService=Ee}create(ee){const Ie=new pe;return Ie.fillAttributes(ee),this.httpClient.post("/register",JSON.stringify(Ie.data)).toPromise().then(ct=>{this.toastService.success({message:"The account was created successfully"})},()=>{})}login(ee){const Ie=new pe;return Ie.fillAttributes(ee),this.httpClient.post("/login",JSON.stringify(Ie.data)).toPromise().then(ct=>(this.toastService.success({message:"You were logged."}),console.log("http client login : ",ct),this.sessionService.createSession(ct,Ie),ct),()=>{})}logout(){var ee=this;const Ie=this.sessionService.user;return console.log("logout service"),this.alertService.create("Are you sure?","Are you sure you want to logout?",[{text:"Yes",role:"confirm",handler:()=>this.httpClient.post("/logout",JSON.stringify(Ie)).toPromise().then(function(){var ct=(0,u.Z)(function*(je){return ee.router.navigate(["/home"]),yield ee.sessionService.clearSession(),ee.toastService.success({message:"You have successfully logged out."}),je});return function(je){return ct.apply(this,arguments)}}(),()=>{})},{text:"Cancel",role:"cancel"}])}}return K.\u0275fac=function(ee){return new(ee||K)(j.LFG(De.eN),j.LFG(Ce.k),j.LFG(z.m),j.LFG(ue.F0),j.LFG(fe.c))},K.\u0275prov=j.Yz7({token:K,factory:K.\u0275fac}),K})()},9379:(Zt,ht,P)=>{"use strict";P.d(ht,{c:()=>De});var u=P(5861),F=P(5062),j=P(4153);let De=(()=>{class Ce{constructor(ue){this.alertController=ue}create(ue,fe,pe){var Q=this;return(0,u.Z)(function*(){let K=yield Q.alertController.create({header:ue,subHeader:fe,buttons:pe});return yield K.present(),K.onDidDismiss()})()}}return Ce.\u0275fac=function(ue){return new(ue||Ce)(F.LFG(j.Br))},Ce.\u0275prov=F.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})()},9022:(Zt,ht,P)=>{"use strict";P.d(ht,{m:()=>ue});var u=P(5861),F=P(9737);const De=(0,P(7423).fo)("Preferences",{web:()=>P.e(8359).then(P.bind(P,8359)).then(fe=>new fe.PreferencesWeb)});var Ce=P(5062),z=P(529);let ue=(()=>{class fe{constructor(Q){this.httpClient=Q}get user(){return this._user}set user(Q){this._user=Q}get token(){return this._token}set token(Q){this._token=Q}createSession(Q,K){var se=this;return(0,u.Z)(function*(){return se.user=K,yield De.set({key:"credentials",value:JSON.stringify(Q)}),!0})()}clearSession(){var Q=this;return(0,u.Z)(function*(){yield De.remove({key:"credentials"}),Q.token="",Q.user=void 0})()}loadSession(){var Q=this;return(0,u.Z)(function*(){return yield Q.getToken(),Q.token?(yield Q.loadUser(),Promise.resolve(!0)):Promise.reject(!1)})()}loadUser(){return this.httpClient.get("/user").toPromise().then(Q=>{this.user=new F.n,this.user.data=Q,console.log("debug session load : ",this.user)},()=>{})}getToken(){var Q=this;return(0,u.Z)(function*(){if(Q.token)return Promise.resolve(Q.token);const K=yield De.get({key:"credentials"});return K.value?(Q.token=JSON.parse(K.value)?.token_type+" "+JSON.parse(K.value)?.access_token,Q.token):null})()}}return fe.\u0275fac=function(Q){return new(Q||fe)(Ce.LFG(z.eN))},fe.\u0275prov=Ce.Yz7({token:fe,factory:fe.\u0275fac}),fe})()},4023:(Zt,ht,P)=>{"use strict";P.d(ht,{k:()=>De});var u=P(5861),F=P(5062),j=P(4153);let De=(()=>{class Ce{constructor(ue){this.toastController=ue,this.toastDuration=2e3}error(ue){return this.initToast({...ue,duration:this.toastDuration,color:"danger"})}success(ue){return this.initToast({...ue,duration:this.toastDuration,color:"success"})}initToast(ue){var fe=this;return(0,u.Z)(function*(){const pe=yield fe.toastController.create(ue);return yield pe.present(),pe.onDidDismiss()})()}}return Ce.\u0275fac=function(ue){return new(ue||Ce)(F.LFG(j.yF))},Ce.\u0275prov=F.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})()},5610:(Zt,ht,P)=>{"use strict";var u=P(1481),F=P(5062),j=P(7022),De=P(4153);let Ce=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=F.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,s){1&t&&(F.TgZ(0,"ion-app"),F._UZ(1,"ion-router-outlet"),F.qZA())},dependencies:[De.dr,De.jP]}),n})();var z=P(5861),ue=P(9022);const K=[{path:"",resolve:[(()=>{class n{constructor(t,s){this.sessionService=t,this.loadingCtrl=s}resolve(t,s){var a=this;return(0,z.Z)(function*(){return a.sessionService.user||(console.log("session resolver"),yield a.sessionService.loadSession().then(()=>{},()=>{})),Promise.resolve(!0)})()}}return n.\u0275fac=function(t){return new(t||n)(F.LFG(ue.m),F.LFG(De.HT))},n.\u0275prov=F.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()],children:[{path:"",pathMatch:"full",loadChildren:()=>Promise.all([P.e(2229),P.e(8592),P.e(2145)]).then(P.bind(P,3666)).then(n=>n.HomePageModule)},{path:"home",loadChildren:()=>Promise.all([P.e(2229),P.e(8592),P.e(2145)]).then(P.bind(P,3666)).then(n=>n.HomePageModule)},{path:"auth",loadChildren:()=>Promise.all([P.e(2229),P.e(8592),P.e(9091)]).then(P.bind(P,9091)).then(n=>n.AuthPageModule),canActivate:[(()=>{class n{constructor(t,s){this.sessionService=t,this.router=s}canActivate(t,s){var a=this;return(0,z.Z)(function*(){return!(yield a.sessionService.getToken())||(a.sessionService.user||(yield a.sessionService.loadSession()),a.router.navigate(["/dashboard"],{replaceUrl:!0}),!1)})()}}return n.\u0275fac=function(t){return new(t||n)(F.LFG(ue.m),F.LFG(j.F0))},n.\u0275prov=F.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()]},{path:"panel",canActivate:[(()=>{class n{constructor(t,s,a){this.sessionService=t,this.router=s,this.loadingCtrl=a,this.disabledRoutesForAuthUsers=["/auth/login","/auth/register"]}canActivate(t,s){var a=this;return(0,z.Z)(function*(){return(yield a.sessionService.getToken())?(a.sessionService.user||((yield a.loadingCtrl.create({message:"Loading...",spinner:"circles"})).present(),yield a.sessionService.loadSession().then(()=>{a.loadingCtrl.dismiss()},()=>{a.loadingCtrl.dismiss()})),!0):(a.router.navigate(["/auth/login"],{queryParams:{returnUrl:s.url}}),!1)})()}}return n.\u0275fac=function(t){return new(t||n)(F.LFG(ue.m),F.LFG(j.F0),F.LFG(De.HT))},n.\u0275prov=F.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()],loadChildren:()=>Promise.all([P.e(2229),P.e(8662)]).then(P.bind(P,8662)).then(n=>n.PanelPageModule)}]}];let se=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=F.oAB({type:n}),n.\u0275inj=F.cJS({imports:[j.Bz.forRoot(K,{preloadingStrategy:j.wm}),j.Bz]}),n})();const ee_firebase={apiKey:"AIzaSyCgtrp-EGSjzDEXizGoWUNtMtbG_d9ljgw",authDomain:"cinema-480cf.firebaseapp.com",projectId:"cinema-480cf",storageBucket:"cinema-480cf.appspot.com",messagingSenderId:"338570792714",appId:"1:338570792714:web:1efee5b9efbae0fa5f34f3",measurementId:"G-LC7LRHJHSF"},ee_api_url="http://localhost:8000/api";var Ie=P(655),ct=P(1086),je=P(8896),Ee=P(6895),ye=P(2102),st=P(7545),Se=P(4850),Ve=P(8929),Ue=P(341),dt=P(2654),qe=P(5279),nt=P(5283);class ge extends Ve.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,s){super(),this.scheduler=s,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new Re(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,s=t?this._events:this._trimBufferThenGetEvents(),a=this.scheduler,l=s.length;let m;if(this.closed)throw new qe.N;if(this.isStopped||this.hasError?m=dt.w.EMPTY:(this.observers.push(e),m=new nt.W(this,e)),a&&e.add(e=new ye.ht(e,a)),t)for(let b=0;b<l&&!e.closed;b++)e.next(s[b]);else for(let b=0;b<l&&!e.closed;b++)e.next(s[b].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),m}_getNow(){return(this.scheduler||Ue.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,s=this._windowTime,a=this._events,l=a.length;let m=0;for(;m<l&&!(e-a[m].time<s);)m++;return l>t&&(m=Math.max(m,l-t)),m>0&&a.splice(0,m),a}}class Re{constructor(e,t){this.time=e,this.value=t}}function he(n,e,t){let s;return s=n&&"object"==typeof n?n:{bufferSize:n,windowTime:e,refCount:!1,scheduler:t},a=>a.lift(function re({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:t,scheduler:s}){let a,m,l=0,b=!1,O=!1;return function(oe){let Oe;l++,!a||b?(b=!1,a=new ge(n,e,s),Oe=a.subscribe(this),m=oe.subscribe({next(it){a.next(it)},error(it){b=!0,a.error(it)},complete(){O=!0,m=void 0,a.complete()}}),O&&(m=void 0)):Oe=a.subscribe(this),this.add(()=>{l--,Oe.unsubscribe(),Oe=void 0,m&&!O&&t&&0===l&&(m.unsubscribe(),m=void 0,a=void 0)})}}(s))}var Y=P(3639),J=P(2011),Ke=P(5132),ot=P(6498),wt=P(5254),rt=P(6787),Ge=P(7224);function Ze(n,e){return e?(0,st.w)(()=>n,e):(0,st.w)(()=>n)}var mt=P(8915),St=P(2198);P(259);var Wn=P(9681),Lt=P(4859),gn=P(2090),Ot=P(1877);const we=new Map,xe={activated:!1,tokenObservers:[]},ze={initialized:!1,enabled:!1};function Et(n){return we.get(n)||Object.assign({},xe)}function on(){return ze}class fn{constructor(e,t,s,a,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=s,this.lowerBound=a,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=a,a>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,z.Z)(function*(){t.stop();try{t.pending=new gn.BH,yield function Fn(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new gn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(s){t.retryPolicy(s)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Mt=new gn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function an(n){if(!Et(n).activated)throw Mt.create("use-before-activation",{appName:n.name})}function Le(n,e){return Me.apply(this,arguments)}function Me(){return(Me=(0,z.Z)(function*({url:n,body:e},t){const s={"Content-Type":"application/json"},a=t.getImmediate({optional:!0});if(a){const Oe=yield a.getHeartbeatsHeader();Oe&&(s["X-Firebase-Client"]=Oe)}const l={method:"POST",body:JSON.stringify(e),headers:s};let m,b;try{m=yield fetch(n,l)}catch(Oe){throw Mt.create("fetch-network-error",{originalErrorMessage:Oe?.message})}if(200!==m.status)throw Mt.create("fetch-status-error",{httpStatus:m.status});try{b=yield m.json()}catch(Oe){throw Mt.create("fetch-parse-error",{originalErrorMessage:Oe?.message})}const O=b.ttl.match(/^([\d.]+)(s)$/);if(!O||!O[2]||isNaN(Number(O[1])))throw Mt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${b.ttl}`});const U=1e3*Number(O[1]),oe=Date.now();return{token:b.token,expireTimeMillis:oe+U,issuedAtTimeMillis:oe}})).apply(this,arguments)}function ke(n,e){const{projectId:t,appId:s,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${s}:exchangeDebugToken?key=${a}`,body:{debug_token:e}}}const Be="firebase-app-check-store";let Ct=null;function Ae(){return Ct||(Ct=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=s=>{n(s.target.result)},t.onerror=s=>{var a;e(Mt.create("storage-open",{originalErrorMessage:null===(a=s.target.error)||void 0===a?void 0:a.message}))},t.onupgradeneeded=s=>{0===s.oldVersion&&s.target.result.createObjectStore(Be,{keyPath:"compositeKey"})}}catch(t){e(Mt.create("storage-open",{originalErrorMessage:t?.message}))}}),Ct)}function be(){return(be=(0,z.Z)(function*(n,e){const s=(yield Ae()).transaction(Be,"readwrite"),l=s.objectStore(Be).put({compositeKey:n,value:e});return new Promise((m,b)=>{l.onsuccess=O=>{m()},s.onerror=O=>{var U;b(Mt.create("storage-set",{originalErrorMessage:null===(U=O.target.error)||void 0===U?void 0:U.message}))}})})).apply(this,arguments)}const sn=new Ot.Yd("@firebase/app-check");function Bt(n,e){return(0,gn.hl)()?function ve(n,e){return function It(n,e){return be.apply(this,arguments)}(function qt(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{sn.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function $n(){return on().enabled}function xn(){return cr.apply(this,arguments)}function cr(){return(cr=(0,z.Z)(function*(){const n=on();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const tr={error:"UNKNOWN_ERROR"};function kr(n){return gn.US.encodeString(JSON.stringify(n),!1)}function Fr(n){return br.apply(this,arguments)}function br(){return(br=(0,z.Z)(function*(n,e=!1){const t=n.app;an(t);const s=Et(t);let l,a=s.token;if(a&&!G(a)&&(s.token=void 0,a=void 0),!a){const O=yield s.cachedTokenPromise;O&&(G(O)?a=O:yield Bt(t,void 0))}if(!e&&a&&G(a))return{token:a.token};let b,m=!1;if($n()){s.exchangeTokenPromise||(s.exchangeTokenPromise=Le(ke(t,yield xn()),n.heartbeatServiceProvider).finally(()=>{s.exchangeTokenPromise=void 0}),m=!0);const O=yield s.exchangeTokenPromise;return yield Bt(t,O),s.token=O,{token:O.token}}try{s.exchangeTokenPromise||(s.exchangeTokenPromise=s.provider.getToken().finally(()=>{s.exchangeTokenPromise=void 0}),m=!0),a=yield Et(t).exchangeTokenPromise}catch(O){"appCheck/throttled"===O.code?sn.warn(O.message):sn.error(O),l=O}return a?l?b=G(a)?{token:a.token,internalError:l}:te(l):(b={token:a.token},s.token=a,yield Bt(t,a)):b=te(l),m&&T(t,b),b})).apply(this,arguments)}function Gi(n,e){const t=Et(n),s=t.tokenObservers.filter(a=>a.next!==e);0===s.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=s}function ce(n){const{app:e}=n,t=Et(e);let s=t.tokenRefresher;s||(s=function Xe(n){const{app:e}=n;return new fn((0,z.Z)(function*(){let s;if(s=Et(e).token?yield Fr(n,!0):yield Fr(n),s.error)throw s.error;if(s.internalError)throw s.internalError}),()=>!0,()=>{const t=Et(e);if(t.token){let s=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return s=Math.min(s,t.token.expireTimeMillis-3e5),Math.max(0,s-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=s),!s.isRunning()&&t.isTokenAutoRefreshEnabled&&s.start()}function T(n,e){const t=Et(n).tokenObservers;for(const s of t)try{"EXTERNAL"===s.type&&null!=e.error?s.error(e.error):s.next(e)}catch{}}function G(n){return n.expireTimeMillis-Date.now()>0}function te(n){return{token:kr(tr),error:n}}class ne{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Et(this.app);for(const t of e)Gi(this.app,t.next);return Promise.resolve()}}const ua="app-check-internal";!function Xi(){(0,Wn._registerComponent)(new Lt.wA("app-check",n=>function Ne(n,e){return new ne(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(ua).initialize()})),(0,Wn._registerComponent)(new Lt.wA(ua,n=>function q(n){return{getToken:e=>Fr(n,e),addTokenListener:e=>function Lr(n,e,t,s){const{app:a}=n,l=Et(a);if(l.tokenObservers=[...l.tokenObservers,{next:t,error:s,type:e}],l.token&&G(l.token)){const b=l.token;Promise.resolve().then(()=>{t({token:b.token}),ce(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>ce(n))}(n,"INTERNAL",e),removeTokenListener:e=>Gi(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Wn.registerVersion)("@firebase/app-check","0.6.0")}();class Bi{constructor(){return(0,Y.vb)("app-check")}}typeof window<"u"&&window;var Ur=P(9260);const Os=new F.OlP("angularfire2.auth.use-emulator"),Pr=new F.OlP("angularfire2.auth.settings"),Ps=new F.OlP("angularfire2.auth.tenant-id"),io=new F.OlP("angularfire2.auth.langugage-code"),Sr=new F.OlP("angularfire2.auth.use-device-language"),jr=new F.OlP("angularfire.auth.persistence"),es=(n,e,t,s,a,l,m,b)=>(0,J.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const O=e.runOutsideAngular(()=>n.auth());if(t&&O.useEmulator(...t),s&&(O.tenantId=s),O.languageCode=a,l&&O.useDeviceLanguage(),m)for(const[U,oe]of Object.entries(m))O.settings[U]=oe;return b&&O.setPersistence(b),O},[t,s,a,l,m,b]);let Wi=(()=>{class n{constructor(t,s,a,l,m,b,O,U,oe,Oe,it,Tt){const zt=new Ve.xQ,ln=(0,ct.of)(void 0).pipe((0,ye.QV)(m.outsideAngular),(0,st.w)(()=>l.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,9169)))),(0,Se.U)(()=>(0,J.on)(t,l,s)),(0,Se.U)(Mn=>es(Mn,l,b,U,oe,Oe,O,it)),he({bufferSize:1,refCount:!1}));if((0,Ee.PM)(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ct.of)(null);else{ln.pipe((0,Ge.P)()).subscribe();const Or=ln.pipe((0,st.w)(mr=>mr.getRedirectResult().then(fr=>fr,()=>null)),Y.iC,he({bufferSize:1,refCount:!1})),Hr=ln.pipe((0,st.w)(mr=>new ot.y(fr=>({unsubscribe:l.runOutsideAngular(()=>mr.onAuthStateChanged(vr=>fr.next(vr),vr=>fr.error(vr),()=>fr.complete()))})))),Er=ln.pipe((0,st.w)(mr=>new ot.y(fr=>({unsubscribe:l.runOutsideAngular(()=>mr.onIdTokenChanged(vr=>fr.next(vr),vr=>fr.error(vr),()=>fr.complete()))}))));this.authState=Or.pipe(Ze(Hr),(0,mt.R)(m.outsideAngular),(0,ye.QV)(m.insideAngular)),this.user=Or.pipe(Ze(Er),(0,mt.R)(m.outsideAngular),(0,ye.QV)(m.insideAngular)),this.idToken=this.user.pipe((0,st.w)(mr=>mr?(0,wt.D)(mr.getIdToken()):(0,ct.of)(null))),this.idTokenResult=this.user.pipe((0,st.w)(mr=>mr?(0,wt.D)(mr.getIdTokenResult()):(0,ct.of)(null))),this.credential=(0,rt.T)(Or,zt,this.authState.pipe((0,St.h)(mr=>!mr))).pipe((0,Se.U)(mr=>mr?.user?mr:null),(0,mt.R)(m.outsideAngular),(0,ye.QV)(m.insideAngular))}return(0,J.pX)(this,ln,l,{spy:{apply:(Mn,Or,Hr)=>{(Mn.startsWith("signIn")||Mn.startsWith("createUser"))&&Hr.then(Er=>zt.next(Er))}}})}}return n.\u0275fac=function(t){return new(t||n)(F.LFG(J.Dh),F.LFG(J.xv,8),F.LFG(F.Lbi),F.LFG(F.R0b),F.LFG(Y.HU),F.LFG(Os,8),F.LFG(Pr,8),F.LFG(Ps,8),F.LFG(io,8),F.LFG(Sr,8),F.LFG(jr,8),F.LFG(Bi,8))},n.\u0275prov=F.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Ki=(()=>{class n{constructor(){Ur.Z.registerVersion("angularfire",Y.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=F.oAB({type:n}),n.\u0275inj=F.cJS({providers:[Wi]}),n})();var Rr=P(3489);class hs{constructor(e,t,s,a){this.keySelector=e,this.elementSelector=t,this.durationSelector=s,this.subjectSelector=a}call(e,t){return t.subscribe(new Ho(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class Ho extends Rr.L{constructor(e,t,s,a,l){super(e),this.keySelector=t,this.elementSelector=s,this.durationSelector=a,this.subjectSelector=l,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(e){let t;try{t=this.keySelector(e)}catch(s){return void this.error(s)}this._group(e,t)}_group(e,t){let s=this.groups;s||(s=this.groups=new Map);let l,a=s.get(t);if(this.elementSelector)try{l=this.elementSelector(e)}catch(m){this.error(m)}else l=e;if(!a){a=this.subjectSelector?this.subjectSelector():new Ve.xQ,s.set(t,a);const m=new fs(t,a,this);if(this.destination.next(m),this.durationSelector){let b;try{b=this.durationSelector(new fs(t,a))}catch(O){return void this.error(O)}this.add(b.subscribe(new hi(t,a,this)))}}a.closed||a.next(l)}_error(e){const t=this.groups;t&&(t.forEach((s,a)=>{s.error(e)}),t.clear()),this.destination.error(e)}_complete(){const e=this.groups;e&&(e.forEach((t,s)=>{t.complete()}),e.clear()),this.destination.complete()}removeGroup(e){this.groups.delete(e)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class hi extends Rr.L{constructor(e,t,s){super(t),this.key=e,this.group=t,this.parent=s}_next(e){this.complete()}_unsubscribe(){const{parent:e,key:t}=this;this.key=this.parent=null,e&&e.removeGroup(t)}}class fs extends ot.y{constructor(e,t,s){super(),this.key=e,this.groupSubject=t,this.refCountSubscription=s}_subscribe(e){const t=new dt.w,{refCountSubscription:s,groupSubject:a}=this;return s&&!s.closed&&t.add(new Ks(s)),t.add(a.subscribe(e)),t}}class Ks extends dt.w{constructor(e){super(),this.parent=e,e.count++}unsubscribe(){const e=this.parent;!e.closed&&!this.closed&&(super.unsubscribe(),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())}}var Xn=P(1709),Ns=P(5778),Go=P(1059);function ks(){return n=>n.lift(new Fs)}class Fs{call(e,t){return t.subscribe(new so(e))}}class so extends Rr.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}const yr="firebase_screen_id",gr="outlet",pi="screen_class",Io="screen_name";let Qu=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const Ba={},M=n=>{const e=[n[pi],n[gr]].join("#");if(Ba.hasOwnProperty(e))return Ba[e];{const t=Qu++;return Ba[e]=t,t}},Un=new F.OlP("angularfire2.analytics.analyticsCollectionEnabled"),qr=new F.OlP("angularfire2.analytics.appVersion"),Nr=new F.OlP("angularfire2.analytics.appName"),gi=new F.OlP("angularfire2.analytics.debugMode"),zo=new F.OlP("angularfire2.analytics.config"),wi="dataLayer";let Co=(()=>{class n{constructor(t,s,a,l,m,b,O,U,oe){if(this.analyticsInitialized=new Promise(()=>{}),(0,Ee.NF)(O)){window[wi]=window[wi]||[];const it=(...ln)=>"config"===ln[0]&&"firebase"===ln[2].origin&&(this.measurementId=ln[1],!0),Tt=ln=>{window.gtag=(...Mn)=>{ln&&ln(...Mn),"event"===Mn[0]&&Mn[2].send_to===this.measurementId&&(l&&(Mn[2].app_name=l),a&&(Mn[2].app_version=a)),m&&typeof console<"u"&&console.info(...Mn),function(...Or){window[wi].push(arguments)}(...Mn)}};window[wi].some(it)?(this.analyticsInitialized=Promise.resolve(),Tt()):this.analyticsInitialized=new Promise(ln=>{Tt((...Mn)=>{it(...Mn)&&ln()})}),b&&this.updateConfig(b),m&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const Oe=(0,ct.of)(void 0).pipe((0,ye.QV)(oe.outsideAngular),(0,st.w)(Ke.Gb),(0,st.w)(it=>it?U.runOutsideAngular(()=>P.e(3814).then(P.bind(P,3814))):je.E),(0,Se.U)(()=>(0,J.cc)("analytics","AngularFireAnalytics",t.name,()=>{const it=t.analytics();return!1===s&&it.setAnalyticsCollectionEnabled(!1),it},[t,s,b,m])),he({bufferSize:1,refCount:!1}));return(0,J.pX)(this,Oe,U)}updateConfig(t){return(0,Ie.mG)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},t),{update:!0}))})}}return n.\u0275fac=function(t){return new(t||n)(F.LFG(J.Ot),F.LFG(Un,8),F.LFG(qr,8),F.LFG(Nr,8),F.LFG(gi,8),F.LFG(zo,8),F.LFG(F.Lbi),F.LFG(F.R0b),F.LFG(Y.HU))},n.\u0275prov=F.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),co=(()=>{class n{constructor(t,s,a,l){if(this.disposables=[],Ur.Z.registerVersion("angularfire",Y.q4.full,"compat-user-tracking"),(0,Ee.PM)(s))this.initialized=Promise.resolve();else{let m;this.initialized=l.runOutsideAngular(()=>new Promise(b=>m=b)),this.disposables=[a.authState.subscribe(b=>{t.setUserId(b?.uid),m()}),a.credential.subscribe(b=>{if(b){const O=b.user.isAnonymous?"anonymous":b.additionalUserInfo.providerId;b.additionalUserInfo.isNewUser&&t.logEvent("sign_up",{method:O}),t.logEvent("login",{method:O})}})]}}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return n.\u0275fac=function(t){return new(t||n)(F.LFG(Co),F.LFG(F.Lbi),F.LFG(Wi),F.LFG(F.R0b))},n.\u0275prov=F.Yz7({token:n,factory:n.\u0275fac}),n})(),wh=(()=>{class n{constructor(t,s,a,l,m,b){if(Ur.Z.registerVersion("angularfire",Y.q4.full,"compat-screen-tracking"),!s||!t)return this;m.runOutsideAngular(()=>{this.disposable=((n,e,t)=>n.events.pipe((0,St.h)(a=>a instanceof j.jw)).pipe((0,st.w)(a=>{var l;const b=(null===(l=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,Tt=>Tt.replace("://",":///"))).root.children[a.snapshot.outlet])||void 0===l?void 0:l.toString())||"",O=n.routerState.root.children.map(Tt=>Tt).find(Tt=>Tt.outlet===a.snapshot.outlet);if(!O)return(0,ct.of)(null);let U=O;for(;U.firstChild;)U=U.firstChild;const oe=U.pathFromRoot.map(Tt=>{var zt;return null===(zt=Tt.routeConfig)||void 0===zt?void 0:zt.path}).filter(Tt=>Tt).join("/")||"/",Oe={[Io]:oe,page_path:`/${b}`,firebase_event_origin:"auto",firebase_screen:oe,[gr]:a.snapshot.outlet};e&&(Oe.page_title=e.getTitle());let it=O.component;if(it){if(it===j.fw){let Tt=a.snapshot;for(;Tt.firstChild;)Tt=Tt.firstChild;it=Tt.component}}else it=a.snapshot.component;if("string"==typeof it)return(0,ct.of)(Object.assign(Object.assign({},Oe),{[pi]:it}));if(it){const Tt=t.resolveComponentFactory(it);return(0,ct.of)(Object.assign(Object.assign({},Oe),{[pi]:Tt.selector}))}return(0,ct.of)(null)}),(0,St.h)(a=>!!a),(0,Se.U)(a=>Object.assign({firebase_screen_class:a[pi],[yr]:M(a)},a)),function ts(n,e,t,s){return a=>a.lift(new hs(n,e,t,s))}(a=>a[gr]),(0,Xn.zg)(a=>a.pipe((0,Ns.x)((l,m)=>JSON.stringify(l)===JSON.stringify(m)),(0,Go.O)(void 0),ks(),(0,Se.U)(([l,m])=>l?Object.assign({firebase_previous_class:l[pi],firebase_previous_screen:l[Io],firebase_previous_id:l[yr]},m):m)))))(s,a,l).pipe((0,st.w)(O=>(0,Ie.mG)(this,void 0,void 0,function*(){return b&&(yield b.initialized),yield t.logEvent("screen_view",O)}))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(F.LFG(Co),F.LFG(j.F0,8),F.LFG(u.Dx,8),F.LFG(F._Vd),F.LFG(F.R0b),F.LFG(co,8))},n.\u0275prov=F.Yz7({token:n,factory:n.\u0275fac}),n})(),Hc=(()=>{class n{constructor(t,s,a){Ur.Z.registerVersion("angularfire",Y.q4.full,"analytics-compat"),t.app.then(()=>{})}}return n.\u0275fac=function(t){return new(t||n)(F.LFG(Co),F.LFG(wh,8),F.LFG(co,8))},n.\u0275mod=F.oAB({type:n}),n.\u0275inj=F.cJS({providers:[Co]}),n})();var Vn,da=P(353),vu=P(2014),Jl=(P(9169),P(3942)),rp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Wo={},Gc=Gc||{},er=rp||self;function $a(){}function gs(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Ua(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Ko="closure_uid_"+(1e9*Math.random()>>>0),fa=0;function ei(n,e,t){return n.call.apply(n.bind,arguments)}function _u(n,e,t){if(!n)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),n.apply(e,a)}}return function(){return n.apply(e,arguments)}}function Pi(n,e,t){return(Pi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ei:_u).apply(null,arguments)}function Eu(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),n.apply(this,s)}}function ci(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(s,a,l){for(var m=Array(arguments.length-2),b=2;b<arguments.length;b++)m[b-2]=arguments[b];return e.prototype[a].apply(s,m)}}function Yo(){this.s=this.s,this.o=this.o}Yo.prototype.s=!1,Yo.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function ha(n){Object.prototype.hasOwnProperty.call(n,Ko)&&n[Ko]||(n[Ko]=++fa)}(this)},Yo.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const zc=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function qo(n){const e=n.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=n[s];return t}return[]}function So(n,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(gs(s)){const a=n.length||0,l=s.length||0;n.length=a+l;for(let m=0;m<l;m++)n[a+m]=s[m]}else n.push(s)}}function li(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}li.prototype.h=function(){this.defaultPrevented=!0};var To=function(){if(!er.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{er.addEventListener("test",$a,e),er.removeEventListener("test",$a,e)}catch{}return n}();function Ao(n){return/^[\s\xa0]*$/.test(n)}var Wc=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ja(n,e){return n<e?-1:n>e?1:0}function Ha(){var n=er.navigator;return n&&(n=n.userAgent)?n:""}function ms(n){return-1!=Ha().indexOf(n)}function pa(n){return pa[" "](n),n}pa[" "]=$a;var bu,n,ga=ms("Opera"),Ls=ms("Trident")||ms("MSIE"),ed=ms("Edge"),Kc=ed||Ls,Xs=ms("Gecko")&&!(-1!=Ha().toLowerCase().indexOf("webkit")&&!ms("Edge"))&&!(ms("Trident")||ms("MSIE"))&&!ms("Edge"),Ga=-1!=Ha().toLowerCase().indexOf("webkit")&&!ms("Edge");function td(){var n=er.document;return n?n.documentMode:void 0}e:{var ma="",Yc=(n=Ha(),Xs?/rv:([^\);]+)(\)|;)/.exec(n):ed?/Edge\/([\d\.]+)/.exec(n):Ls?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Ga?/WebKit\/(\S+)/.exec(n):ga?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Yc&&(ma=Yc?Yc[1]:""),Ls){var za=td();if(null!=za&&za>parseFloat(ma)){bu=String(za);break e}}bu=ma}var ri={};var wu=er.document&&Ls&&(td()||parseInt(bu,10))||void 0;function Zo(n,e){if(li.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,s=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Xs){e:{try{pa(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Ka[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Zo.X.h.call(this)}}ci(Zo,li);var Ka={2:"touch",3:"pen",4:"mouse"};Zo.prototype.h=function(){Zo.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ya="closure_listenable_"+(1e6*Math.random()|0),Ih=0;function Vr(n,e,t,s,a){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.ha=a,this.key=++Ih,this.ba=this.ea=!1}function qc(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function ec(n,e,t){for(const s in n)e.call(t,n[s],s,n)}function nd(n){const e={};for(const t in n)e[t]=n[t];return e}const Iu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ip(n,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)n[t]=s[t];for(let l=0;l<Iu.length;l++)t=Iu[l],Object.prototype.hasOwnProperty.call(s,t)&&(n[t]=s[t])}}function tc(n){this.src=n,this.g={},this.h=0}function va(n,e){var t=e.type;if(t in n.g){var l,s=n.g[t],a=zc(s,e);(l=0<=a)&&Array.prototype.splice.call(s,a,1),l&&(qc(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Qs(n,e,t,s){for(var a=0;a<n.length;++a){var l=n[a];if(!l.ba&&l.listener==e&&l.capture==!!t&&l.ha==s)return a}return-1}tc.prototype.add=function(n,e,t,s,a){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var m=Qs(n,e,s,a);return-1<m?(e=n[m],t||(e.ea=!1)):((e=new Vr(e,this.src,l,!!s,a)).ea=t,n.push(e)),e};var Dh="closure_lm_"+(1e6*Math.random()|0),Du={};function ii(n,e,t,s,a){if(s&&s.once)return Zc(n,e,t,s,a);if(Array.isArray(e)){for(var l=0;l<e.length;l++)ii(n,e[l],t,s,a);return null}return t=_a(t),n&&n[ya]?n.N(e,t,Ua(s)?!!s.capture:!!s,a):Xo(n,e,t,!1,s,a)}function Xo(n,e,t,s,a,l){if(!e)throw Error("Invalid event type");var m=Ua(a)?!!a.capture:!!a,b=vs(n);if(b||(n[Dh]=b=new tc(n)),(t=b.add(e,t,s,m,l)).proxy)return t;if(s=function Cu(){const e=Xc;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=s,s.src=n,s.listener=t,n.addEventListener)To||(a=m),void 0===a&&(a=!1),n.addEventListener(e.toString(),s,a);else if(n.attachEvent)n.attachEvent(ho(e.toString()),s);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(s)}return t}function Zc(n,e,t,s,a){if(Array.isArray(e)){for(var l=0;l<e.length;l++)Zc(n,e[l],t,s,a);return null}return t=_a(t),n&&n[ya]?n.O(e,t,Ua(s)?!!s.capture:!!s,a):Xo(n,e,t,!0,s,a)}function Su(n,e,t,s,a){if(Array.isArray(e))for(var l=0;l<e.length;l++)Su(n,e[l],t,s,a);else s=Ua(s)?!!s.capture:!!s,t=_a(t),n&&n[ya]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Qs(l=n.g[e],t,s,a))&&(qc(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=vs(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Qs(e,t,s,a)),(t=-1<n?e[n]:null)&&Ii(t))}function Ii(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[ya])va(e.i,n);else{var t=n.type,s=n.proxy;e.removeEventListener?e.removeEventListener(t,s,n.capture):e.detachEvent?e.detachEvent(ho(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=vs(e))?(va(t,n),0==t.h&&(t.src=null,e[Dh]=null)):qc(n)}}}function ho(n){return n in Du?Du[n]:Du[n]="on"+n}function Xc(n,e){if(n.ba)n=!0;else{e=new Zo(e,this);var t=n.listener,s=n.ha||n.src;n.ea&&Ii(n),n=t.call(s,e)}return n}function vs(n){return(n=n[Dh])instanceof tc?n:null}var Bs="__closure_events_fn_"+(1e9*Math.random()>>>0);function _a(n){return"function"==typeof n?n:(n[Bs]||(n[Bs]=function(e){return n.handleEvent(e)}),n[Bs])}function Di(){Yo.call(this),this.i=new tc(this),this.P=this,this.I=null}function Ni(n,e){var t,s=n.I;if(s)for(t=[];s;s=s.I)t.push(s);if(n=n.P,s=e.type||e,"string"==typeof e)e=new li(e,n);else if(e instanceof li)e.target=e.target||n;else{var a=e;ip(e=new li(s,n),a)}if(a=!0,t)for(var l=t.length-1;0<=l;l--){var m=e.g=t[l];a=Qc(m,s,!0,e)&&a}if(a=Qc(m=e.g=n,s,!0,e)&&a,a=Qc(m,s,!1,e)&&a,t)for(l=0;l<t.length;l++)a=Qc(m=e.g=t[l],s,!1,e)&&a}function Qc(n,e,t,s){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,l=0;l<e.length;++l){var m=e[l];if(m&&!m.ba&&m.capture==t){var b=m.listener,O=m.ha||m.src;m.ea&&va(n.i,m),a=!1!==b.call(O,s)&&a}}return a&&!s.defaultPrevented}ci(Di,Yo),Di.prototype[ya]=!0,Di.prototype.removeEventListener=function(n,e,t,s){Su(this,n,e,t,s)},Di.prototype.M=function(){if(Di.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],s=0;s<t.length;s++)qc(t[s]);delete n.g[e],n.h--}}this.I=null},Di.prototype.N=function(n,e,t,s){return this.i.add(String(n),e,!1,t,s)},Di.prototype.O=function(n,e,t,s){return this.i.add(String(n),e,!0,t,s)};var nc=er.JSON.stringify;function Jc(){var n=_;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var rd,rc=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Qo,n=>n.reset());class Qo{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Ch(n){er.setTimeout(()=>{throw n},0)}function Tu(n,e){rd||function I(){var n=er.Promise.resolve(void 0);rd=function(){n.then(A)}}(),w||(rd(),w=!0),_.add(n,e)}var w=!1,_=new class _s{constructor(){this.h=this.g=null}add(e,t){const s=rc.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function A(){for(var n;n=Jc();){try{n.h.call(n.g)}catch(t){Ch(t)}var e=rc;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}w=!1}function V(n,e){Di.call(this),this.h=n||1,this.g=e||er,this.j=Pi(this.lb,this),this.l=Date.now()}function ie(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function Pe(n,e,t){if("function"==typeof n)t&&(n=Pi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Pi(n.handleEvent,n)}return 2147483647<Number(e)?-1:er.setTimeout(n,e||0)}function Ye(n){n.g=Pe(()=>{n.g=null,n.i&&(n.i=!1,Ye(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ci(V,Di),(Vn=V.prototype).ca=!1,Vn.R=null,Vn.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ni(this,"tick"),this.ca&&(ie(this),this.start()))}},Vn.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Vn.M=function(){V.X.M.call(this),ie(this),delete this.g};class Ft extends Yo{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ye(this)}M(){super.M(),this.g&&(er.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pn(n){Yo.call(this),this.h=n,this.g={}}ci(pn,Yo);var ir=[];function Pn(n,e,t,s){Array.isArray(t)||(t&&(ir[0]=t.toString()),t=ir);for(var a=0;a<t.length;a++){var l=ii(e,t[a],s||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function Tr(n){ec(n.g,function(e,t){this.g.hasOwnProperty(t)&&Ii(e)},n),n.g={}}function ki(){this.g=!0}function si(n,e,t,s){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function $r(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var s=t[n];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var l=a[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var m=1;m<a.length;m++)a[m]=""}}}return nc(t)}catch{return e}}(n,t)+(s?" "+s:"")})}pn.prototype.M=function(){pn.X.M.call(this),Tr(this)},pn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ki.prototype.Aa=function(){this.g=!1},ki.prototype.info=function(){};var Jo={},Sh=null;function Ya(){return Sh=Sh||new Di}function ic(n){li.call(this,Jo.Pa,n)}function Au(n){const e=Ya();Ni(e,new ic(e))}function el(n,e){li.call(this,Jo.STAT_EVENT,n),this.stat=e}function Yi(n){const e=Ya();Ni(e,new el(e,n))}function tl(n,e){li.call(this,Jo.Qa,n),this.size=e}function Mo(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return er.setTimeout(function(){n()},e)}Jo.Pa="serverreachability",ci(ic,li),Jo.STAT_EVENT="statevent",ci(el,li),Jo.Qa="timingevent",ci(tl,li);var nl={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},xu={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function sd(){}function sc(){}sd.prototype.h=null;var Ah,Ea={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function oc(){li.call(this,"d")}function Th(){li.call(this,"c")}function ba(){}function Ro(n,e,t,s){this.l=n,this.j=e,this.m=t,this.U=s||1,this.S=new pn(this),this.O=Jv,this.T=new V(n=Kc?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new sp}function sp(){this.i=null,this.g="",this.h=!1}ci(oc,li),ci(Th,li),ci(ba,sd),ba.prototype.g=function(){return new XMLHttpRequest},ba.prototype.i=function(){return{}},Ah=new ba;var Jv=45e3,rl={},ad={};function il(n,e,t){n.K=1,n.v=uc(qa(e)),n.s=t,n.P=!0,op(n,null)}function op(n,e){n.F=Date.now(),ac(n),n.A=qa(n.v);var t=n.A,s=n.U;Array.isArray(s)||(s=[String(s)]),Oh(t.i,"t",s),n.C=0,t=n.l.H,n.h=new sp,n.g=Gh(n.l,t?e:null,!n.s),0<n.N&&(n.L=new Ft(Pi(n.La,n,n.g),n.N)),Pn(n.S,n.g,"readystatechange",n.ib),e=n.H?nd(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Au(),function fo(n,e,t,s,a,l){n.info(function(){if(n.g)if(l)for(var m="",b=l.split("&"),O=0;O<b.length;O++){var U=b[O].split("=");if(1<U.length){var oe=U[0];U=U[1];var Oe=oe.split("_");m=2<=Oe.length&&"type"==Oe[1]?m+(oe+"=")+U+"&":m+(oe+"=redacted&")}}else m=null;else m=l;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+m})}(n.j,n.u,n.A,n.m,n.U,n.s)}function ap(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function up(n,e,t){let a,s=!0;for(;!n.I&&n.C<t.length;){if(a=ud(n,t),a==ad){4==e&&(n.o=4,Yi(14),s=!1),si(n.j,n.m,null,"[Incomplete Response]");break}if(a==rl){n.o=4,Yi(15),si(n.j,n.m,t,"[Invalid Chunk]"),s=!1;break}si(n.j,n.m,a,null),lp(n,a)}ap(n)&&a!=ad&&a!=rl&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Yi(16),s=!1),n.i=n.i&&s,s?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ed(e),e.K=!0,Yi(11))):(si(n.j,n.m,t,"[Invalid Chunked Response]"),ea(n),cd(n))}function ud(n,e){var t=n.C,s=e.indexOf("\n",t);return-1==s?ad:(t=Number(e.substring(t,s)),isNaN(t)?rl:(s+=1)+t>e.length?ad:(e=e.substr(s,t),n.C=s+t,e))}function ac(n){n.V=Date.now()+n.O,cp(n,n.O)}function cp(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Mo(Pi(n.gb,n),e)}function sl(n){n.B&&(er.clearTimeout(n.B),n.B=null)}function cd(n){0==n.l.G||n.I||bd(n.l,n)}function ea(n){sl(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,ie(n.T),Tr(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function lp(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Ru(t.h,n)))if(!n.J&&Ru(t.h,n)&&3==t.G){try{var s=t.Fa.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Vs(t),vd(t)}gl(t),Yi(18)}}else t.Ba=a[1],0<t.Ba-t.T&&37500>a[2]&&t.L&&0==t.A&&!t.v&&(t.v=Mo(Pi(t.cb,t),6e3));if(1>=Ph(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Sa(t,11)}else if((n.J||t.g==n)&&Vs(t),!Ao(e))for(a=t.Fa.g.parse(e),e=0;e<a.length;e++){let U=a[e];if(t.T=U[0],U=U[1],2==t.G)if("c"==U[0]){t.I=U[1],t.ka=U[2];const oe=U[3];null!=oe&&(t.ma=oe,t.j.info("VER="+t.ma));const Oe=U[4];null!=Oe&&(t.Ca=Oe,t.j.info("SVER="+t.Ca));const it=U[5];null!=it&&"number"==typeof it&&0<it&&(t.J=s=1.5*it,t.j.info("backChannelRequestTimeoutMs_="+s)),s=t;const Tt=n.g;if(Tt){const zt=Tt.g?Tt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zt){var l=s.h;l.g||-1==zt.indexOf("spdy")&&-1==zt.indexOf("quic")&&-1==zt.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(Ui(l,l.h),l.h=null))}if(s.D){const ln=Tt.g?Tt.g.getResponseHeader("X-HTTP-Session-Id"):null;ln&&(s.za=ln,oi(s.F,s.D,ln))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var m=n;if((s=t).sa=ml(s,s.H?s.ka:null,s.V),m.J){hc(s.h,m);var b=m,O=s.J;O&&b.setTimeout(O),b.B&&(sl(b),ac(b)),s.g=m}else vp(s);0<t.i.length&&_d(t)}else"stop"!=U[0]&&"close"!=U[0]||Sa(t,7);else 3==t.G&&("stop"==U[0]||"close"==U[0]?"stop"==U[0]?Sa(t,7):$h(t):"noop"!=U[0]&&t.l&&t.l.wa(U),t.A=0)}Au()}catch{}}function ld(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(gs(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function dm(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(gs(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const s in n)e[t++]=s;return e}}}(n),s=function lm(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(gs(n)){for(var e=[],t=n.length,s=0;s<t;s++)e.push(n[s]);return e}for(s in e=[],t=0,n)e[t++]=n[s];return e}(n),a=s.length,l=0;l<a;l++)e.call(void 0,s[l],t&&t[l],n)}(Vn=Ro.prototype).setTimeout=function(n){this.O=n},Vn.ib=function(n){n=n.target;const e=this.L;e&&3==Po(n)?e.l():this.La(n)},Vn.La=function(n){try{if(n==this.g)e:{const oe=Po(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>oe)&&(3!=oe||Kc||this.g&&(this.h.h||this.g.fa()||Bh(this.g)))){this.I||4!=oe||7==e||Au(),sl(this);var t=this.g.aa();this.Y=t;t:if(ap(this)){var s=Bh(this.g);n="";var a=s.length,l=4==Po(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ea(this),cd(this);var m="";break t}this.h.i=new er.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,n+=this.h.i.decode(s[e],{stream:l&&e==a-1});s.splice(0,a),this.h.g+=n,this.C=0,m=this.h.g}else m=this.g.fa();if(this.i=200==t,function Es(n,e,t,s,a,l,m){n.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+l+" "+m})}(this.j,this.u,this.A,this.m,this.U,oe,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var b,O=this.g;if((b=O.g?O.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ao(b)){var U=b;break t}}U=null}if(!(t=U)){this.i=!1,this.o=3,Yi(12),ea(this),cd(this);break e}si(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,lp(this,t)}this.P?(up(this,oe,m),Kc&&this.i&&3==oe&&(Pn(this.S,this.T,"tick",this.hb),this.T.start())):(si(this.j,this.m,m,null),lp(this,m)),4==oe&&ea(this),this.i&&!this.I&&(4==oe?bd(this.l,this):(this.i=!1,ac(this)))}else 400==t&&0<m.indexOf("Unknown SID")?(this.o=3,Yi(12)):(this.o=0,Yi(13)),ea(this),cd(this)}}}catch{}},Vn.hb=function(){if(this.g){var n=Po(this.g),e=this.g.fa();this.C<e.length&&(sl(this),up(this,n,e),this.i&&4!=n&&ac(this))}},Vn.cancel=function(){this.I=!0,ea(this)},Vn.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function id(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Au(),Yi(17)),ea(this),this.o=2,cd(this)):cp(this,this.V-n)};var hm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wa(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof wa){this.h=void 0!==e?e:n.h,xh(this,n.j),this.s=n.s,this.g=n.g,Mh(this,n.m),this.l=n.l,e=n.i;var t=new al;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Rh(this,t),this.o=n.o}else n&&(t=String(n).match(hm))?(this.h=!!e,xh(this,t[1]||"",!0),this.s=cc(t[2]||""),this.g=cc(t[3]||"",!0),Mh(this,t[4]),this.l=cc(t[5]||"",!0),Rh(this,t[6]||"",!0),this.o=cc(t[7]||"")):(this.h=!!e,this.i=new al(null,this.h))}function qa(n){return new wa(n)}function xh(n,e,t){n.j=t?cc(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Mh(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Rh(n,e,t){e instanceof al?(n.i=e,function gm(n,e){e&&!n.j&&(Ia(n),n.i=null,n.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(dd(this,s),Oh(this,a,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Za(e,fp)),n.i=new al(e,n.h))}function oi(n,e,t){n.i.set(e,t)}function uc(n){return oi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function cc(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Za(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,dp),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function dp(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}wa.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Za(e,ol,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Za(e,ol,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Za(t,"/"==t.charAt(0)?Oo:hp,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Za(t,pm)),n.join("")};var ol=/[#\/\?@]/g,hp=/[#\?:]/g,Oo=/[#\?]/g,fp=/[#\?@]/g,pm=/#/g;function al(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ia(n){n.g||(n.g=new Map,n.h=0,n.i&&function fm(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var s=n[t].indexOf("="),a=null;if(0<=s){var l=n[t].substring(0,s);a=n[t].substring(s+1)}else l=n[t];e(l,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function dd(n,e){Ia(n),e=lc(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function pp(n,e){return Ia(n),e=lc(n,e),n.g.has(e)}function Oh(n,e,t){dd(n,e),0<t.length&&(n.i=null,n.g.set(lc(n,e),qo(t)),n.h+=t.length)}function lc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function gp(n){this.l=n||bs,n=er.PerformanceNavigationTiming?0<(n=er.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(er.g&&er.g.Ga&&er.g.Ga()&&er.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Vn=al.prototype).add=function(n,e){Ia(this),this.i=null,n=lc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Vn.forEach=function(n,e){Ia(this),this.g.forEach(function(t,s){t.forEach(function(a){n.call(e,a,s,this)},this)},this)},Vn.oa=function(){Ia(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const a=n[s];for(let l=0;l<a.length;l++)t.push(e[s])}return t},Vn.W=function(n){Ia(this);let e=[];if("string"==typeof n)pp(this,n)&&(e=e.concat(this.g.get(lc(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Vn.set=function(n,e){return Ia(this),this.i=null,pp(this,n=lc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Vn.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},Vn.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const l=encodeURIComponent(String(s)),m=this.W(s);for(s=0;s<m.length;s++){var a=l;""!==m[s]&&(a+="="+encodeURIComponent(String(m[s]))),n.push(a)}}return this.i=n.join("&")};var bs=10;function dc(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Ph(n){return n.h?1:n.g?n.g.size:0}function Ru(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Ui(n,e){n.g?n.g.add(e):n.h=e}function hc(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function ul(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return qo(n.i)}function Nh(){}function mm(){this.g=new Nh}function hd(n,e,t){const s=t||"";try{ld(n,function(a,l){let m=a;Ua(a)&&(m=nc(a)),e.push(s+l+"="+encodeURIComponent(m))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function cl(n,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch{}}function ll(n){this.l=n.ac||null,this.j=n.jb||!1}function dl(n,e){Di.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=kh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}gp.prototype.cancel=function(){if(this.i=ul(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Nh.prototype.stringify=function(n){return er.JSON.stringify(n,void 0)},Nh.prototype.parse=function(n){return er.JSON.parse(n,void 0)},ci(ll,sd),ll.prototype.g=function(){return new dl(this.l,this.j)},ll.prototype.i=function(n){return function(){return n}}({}),ci(dl,Di);var kh=0;function Fh(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Da(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ou(n)}function Ou(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Vn=dl.prototype).open=function(n,e){if(this.readyState!=kh)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Ou(this)},Vn.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||er).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},Vn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Da(this)),this.readyState=kh},Vn.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ou(this)),this.g&&(this.readyState=3,Ou(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof er.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Fh(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},Vn.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Da(this):Ou(this),3==this.readyState&&Fh(this)}},Vn.Va=function(n){this.g&&(this.response=this.responseText=n,Da(this))},Vn.Ua=function(n){this.g&&(this.response=n,Da(this))},Vn.ga=function(){this.g&&Da(this)},Vn.setRequestHeader=function(n,e){this.v.append(n,e)},Vn.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Vn.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(dl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var vm=er.JSON.parse;function Zr(n){Di.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=fd,this.K=this.L=!1}ci(Zr,Di);var fd="",hl=/^https?$/i,_m=["POST","PUT"];function gd(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,md(n),yd(n)}function md(n){n.D||(n.D=!0,Ni(n,"complete"),Ni(n,"error"))}function Lh(n){if(n.h&&typeof Gc<"u"&&(!n.C[1]||4!=Po(n)||2!=n.aa()))if(n.v&&4==Po(n))Pe(n.Ha,0,n);else if(Ni(n,"readystatechange"),4==Po(n)){n.h=!1;try{const b=n.aa();e:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===b){var a=String(n.H).match(hm)[1]||null;if(!a&&er.self&&er.self.location){var l=er.self.location.protocol;a=l.substr(0,l.length-1)}s=!hl.test(a?a.toLowerCase():"")}t=s}if(t)Ni(n,"complete"),Ni(n,"success");else{n.m=6;try{var m=2<Po(n)?n.g.statusText:""}catch{m=""}n.j=m+" ["+n.aa()+"]",md(n)}}finally{yd(n)}}}function yd(n,e){if(n.g){Pu(n);const t=n.g,s=n.C[0]?$a:null;n.g=null,n.C=null,e||Ni(n,"ready");try{t.onreadystatechange=s}catch{}}}function Pu(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(er.clearTimeout(n.A),n.A=null)}function Po(n){return n.g?n.g.readyState:0}function Bh(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case fd:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function mp(n){let e="";return ec(n,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function Ca(n,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=mp(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):oi(n,e,t))}function fl(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Vh(n){this.Ca=0,this.i=[],this.j=new ki,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=fl("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=fl("baseRetryDelayMs",5e3,n),this.bb=fl("retryDelaySeedMs",1e4,n),this.$a=fl("forwardChannelMaxRetries",2,n),this.ta=fl("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new gp(n&&n.concurrentRequestLimit),this.Fa=new mm,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function $h(n){if(yp(n),3==n.G){var e=n.U++,t=qa(n.F);oi(t,"SID",n.I),oi(t,"RID",e),oi(t,"TYPE","terminate"),Xa(n,t),(e=new Ro(n,n.j,e,void 0)).K=2,e.v=uc(qa(t)),t=!1,er.navigator&&er.navigator.sendBeacon&&(t=er.navigator.sendBeacon(e.v.toString(),"")),!t&&er.Image&&((new Image).src=e.v,t=!0),t||(e.g=Gh(e.l,null),e.g.da(e.v)),e.F=Date.now(),ac(e)}Hh(n)}function vd(n){n.g&&(Ed(n),n.g.cancel(),n.g=null)}function yp(n){vd(n),n.u&&(er.clearTimeout(n.u),n.u=null),Vs(n),n.h.cancel(),n.m&&("number"==typeof n.m&&er.clearTimeout(n.m),n.m=null)}function _d(n){dc(n.h)||n.m||(n.m=!0,Tu(n.Ja,n),n.C=0)}function fc(n,e){var t;t=e?e.m:n.U++;const s=qa(n.F);oi(s,"SID",n.I),oi(s,"RID",t),oi(s,"AID",n.T),Xa(n,s),n.o&&n.s&&Ca(s,n.o,n.s),t=new Ro(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=pl(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),Ui(n.h,t),il(t,s,e)}function Xa(n,e){n.ia&&ec(n.ia,function(t,s){oi(e,s,t)}),n.l&&ld({},function(t,s){oi(e,s,t)})}function pl(n,e,t){t=Math.min(n.i.length,t);var s=n.l?Pi(n.l.Ra,n.l,n):null;e:{var a=n.i;let l=-1;for(;;){const m=["count="+t];-1==l?0<t?(l=a[0].h,m.push("ofs="+l)):l=0:m.push("ofs="+l);let b=!0;for(let O=0;O<t;O++){let U=a[O].h;const oe=a[O].g;if(U-=l,0>U)l=Math.max(0,a[O].h-100),b=!1;else try{hd(oe,m,"req"+U+"_")}catch{s&&s(oe)}}if(b){s=m.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,s}function vp(n){n.g||n.u||(n.Z=1,Tu(n.Ia,n),n.A=0)}function gl(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Mo(Pi(n.Ia,n),jh(n,n.A)),n.A++,0))}function Ed(n){null!=n.B&&(er.clearTimeout(n.B),n.B=null)}function ws(n){n.g=new Ro(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=qa(n.sa);oi(e,"RID","rpc"),oi(e,"SID",n.I),oi(e,"CI",n.L?"0":"1"),oi(e,"AID",n.T),oi(e,"TYPE","xmlhttp"),Xa(n,e),n.o&&n.s&&Ca(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=uc(qa(e)),t.s=null,t.P=!0,op(t,n)}function Vs(n){null!=n.v&&(er.clearTimeout(n.v),n.v=null)}function bd(n,e){var t=null;if(n.g==e){Vs(n),Ed(n),n.g=null;var s=2}else{if(!Ru(n.h,e))return;t=e.D,hc(n.h,e),s=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.F;var a=n.C;Ni(s=Ya(),new tl(s,t)),_d(n)}else vp(n);else if(3==(a=e.o)||0==a&&0<n.pa||!(1==s&&function Uh(n,e){return!(Ph(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Mo(Pi(n.Ja,n,e),jh(n,n.C)),n.C++,0)))}(n,e)||2==s&&gl(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),a){case 1:Sa(n,5);break;case 4:Sa(n,10);break;case 3:Sa(n,6);break;default:Sa(n,2)}}function jh(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Sa(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var s=Pi(n.kb,n);t||(t=new wa("//www.google.com/images/cleardot.gif"),er.location&&"http"==er.location.protocol||xh(t,"https"),uc(t)),function ym(n,e){const t=new ki;if(er.Image){const s=new Image;s.onload=Eu(cl,t,s,"TestLoadImage: loaded",!0,e),s.onerror=Eu(cl,t,s,"TestLoadImage: error",!1,e),s.onabort=Eu(cl,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=Eu(cl,t,s,"TestLoadImage: timeout",!1,e),er.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=n}else e(!1)}(t.toString(),s)}else Yi(2);n.G=0,n.l&&n.l.va(e),Hh(n),yp(n)}function Hh(n){if(n.G=0,n.la=[],n.l){const e=ul(n.h);(0!=e.length||0!=n.i.length)&&(So(n.la,e),So(n.la,n.i),n.h.i.length=0,qo(n.i),n.i.length=0),n.l.ua()}}function ml(n,e,t){var s=t instanceof wa?qa(t):new wa(t,void 0);if(""!=s.g)e&&(s.g=e+"."+s.g),Mh(s,s.m);else{var a=er.location;s=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var l=new wa(null,void 0);s&&xh(l,s),e&&(l.g=e),a&&Mh(l,a),t&&(l.l=t),s=l}return e=n.za,(t=n.D)&&e&&oi(s,t,e),oi(s,"VER",n.ma),Xa(n,s),s}function Gh(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Zr(t&&n.Da&&!n.ra?new ll({jb:!0}):n.ra)).Ka(n.H),e}function zh(){}function po(){if(Ls&&!(10<=Number(wu)))throw Error("Environmental error: no available transport.")}function Is(n,e){Di.call(this),this.g=new Vh(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!Ao(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ao(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ta(this)}function wd(n){oc.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Wh(){Th.call(this),this.status=1}function Ta(n){this.g=n}(Vn=Zr.prototype).Ka=function(n){this.L=n},Vn.da=function(n,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ah.g(),this.C=function od(n){return n.h||(n.h=n.i())}(this.u?this.u:Ah),this.g.onreadystatechange=Pi(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void gd(this,l)}if(n=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var a in s)t.set(a,s[a]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const l of s.keys())t.set(l,s.get(l))}s=Array.from(t.keys()).find(l=>"content-type"==l.toLowerCase()),a=er.FormData&&n instanceof er.FormData,!(0<=zc(_m,e))||s||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,m]of t)this.g.setRequestHeader(l,m);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Pu(this),0<this.B&&((this.K=function pd(n){return Ls&&function Wa(){return function Ju(n){var e=ri;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Wc(String(bu)).split("."),t=Wc("9").split("."),s=Math.max(e.length,t.length);for(let m=0;0==n&&m<s;m++){var a=e[m]||"",l=t[m]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==a[0].length&&0==l[0].length)break;n=ja(0==a[1].length?0:parseInt(a[1],10),0==l[1].length?0:parseInt(l[1],10))||ja(0==a[2].length,0==l[2].length)||ja(a[2],l[2]),a=a[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Pi(this.qa,this)):this.A=Pe(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){gd(this,l)}},Vn.qa=function(){typeof Gc<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ni(this,"timeout"),this.abort(8))},Vn.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ni(this,"complete"),Ni(this,"abort"),yd(this))},Vn.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yd(this,!0)),Zr.X.M.call(this)},Vn.Ha=function(){this.s||(this.F||this.v||this.l?Lh(this):this.fb())},Vn.fb=function(){Lh(this)},Vn.aa=function(){try{return 2<Po(this)?this.g.status:-1}catch{return-1}},Vn.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Vn.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),vm(e)}},Vn.Ea=function(){return this.m},Vn.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Vn=Vh.prototype).ma=8,Vn.G=1,Vn.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const a=new Ro(this,this.j,n,void 0);let l=this.s;if(this.S&&(l?(l=nd(l),ip(l,this.S)):l=this.S),null!==this.o||this.N||(a.H=l,l=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var s=this.i[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=pl(this,a,e),oi(t=qa(this.F),"RID",n),oi(t,"CVER",22),this.D&&oi(t,"X-HTTP-Session-Id",this.D),Xa(this,t),l&&(this.N?e="headers="+encodeURIComponent(String(mp(l)))+"&"+e:this.o&&Ca(t,this.o,l)),Ui(this.h,a),this.Ya&&oi(t,"TYPE","init"),this.O?(oi(t,"$req",e),oi(t,"SID","null"),a.Z=!0,il(a,t,null)):il(a,t,e),this.G=2}}else 3==this.G&&(n?fc(this,n):0==this.i.length||dc(this.h)||fc(this))},Vn.Ia=function(){if(this.u=null,ws(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Mo(Pi(this.eb,this),n)}},Vn.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Yi(10),vd(this),ws(this))},Vn.cb=function(){null!=this.v&&(this.v=null,vd(this),gl(this),Yi(19))},Vn.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Yi(2)):(this.j.info("Failed to ping google.com"),Yi(1))},(Vn=zh.prototype).xa=function(){},Vn.wa=function(){},Vn.va=function(){},Vn.ua=function(){},Vn.Ra=function(){},po.prototype.g=function(n,e){return new Is(n,e)},ci(Is,Di),Is.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Yi(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=ml(n,null,n.V),_d(n)},Is.prototype.close=function(){$h(this.g)},Is.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=nc(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&_d(e)},Is.prototype.M=function(){this.g.l=null,delete this.j,$h(this.g),delete this.g,Is.X.M.call(this)},ci(wd,oc),ci(Wh,Th),ci(Ta,zh),Ta.prototype.xa=function(){Ni(this.g,"a")},Ta.prototype.wa=function(n){Ni(this.g,new wd(n))},Ta.prototype.va=function(n){Ni(this.g,new Wh)},Ta.prototype.ua=function(){Ni(this.g,"b")},po.prototype.createWebChannel=po.prototype.g,Is.prototype.send=Is.prototype.u,Is.prototype.open=Is.prototype.m,Is.prototype.close=Is.prototype.close,nl.NO_ERROR=0,nl.TIMEOUT=8,nl.HTTP_ERROR=6,xu.COMPLETE="complete",sc.EventType=Ea,Ea.OPEN="a",Ea.CLOSE="b",Ea.ERROR="c",Ea.MESSAGE="d",Di.prototype.listen=Di.prototype.N,Zr.prototype.listenOnce=Zr.prototype.O,Zr.prototype.getLastError=Zr.prototype.Oa,Zr.prototype.getLastErrorCode=Zr.prototype.Ea,Zr.prototype.getStatus=Zr.prototype.aa,Zr.prototype.getResponseJson=Zr.prototype.Sa,Zr.prototype.getResponseText=Zr.prototype.fa,Zr.prototype.send=Zr.prototype.da,Zr.prototype.setWithCredentials=Zr.prototype.Ka;var yl=Wo.createWebChannelTransport=function(){return new po},Ds=Wo.getStatEventTarget=function(){return Ya()},Nu=Wo.ErrorCode=nl,vl=Wo.EventType=xu,Kh=Wo.Event=Jo,$s=Wo.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},_l=Wo.FetchXmlHttpFactory=ll,pc=Wo.WebChannel=sc,_p=Wo.XhrIo=Zr;const Ep="@firebase/firestore";class mi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mi.UNAUTHENTICATED=new mi(null),mi.GOOGLE_CREDENTIALS=new mi("google-credentials-uid"),mi.FIRST_PARTY=new mi("first-party-uid"),mi.MOCK_USER=new mi("mock-user");let Qa="9.15.0";const No=new Ot.Yd("@firebase/firestore");function El(){return No.logLevel}function v(n,...e){if(No.logLevel<=Ot.in.DEBUG){const t=e.map(D);No.debug(`Firestore (${Qa}): ${n}`,...t)}}function h(n,...e){if(No.logLevel<=Ot.in.ERROR){const t=e.map(D);No.error(`Firestore (${Qa}): ${n}`,...t)}}function g(n,...e){if(No.logLevel<=Ot.in.WARN){const t=e.map(D);No.warn(`Firestore (${Qa}): ${n}`,...t)}}function D(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function $(n="Unexpected state"){const e=`FIRESTORE (${Qa}) INTERNAL ASSERTION FAILED: `+n;throw h(e),new Error(e)}function Z(n,e){n||$()}function ut(n,e){return n}const Je={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Dt extends gn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Nn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class qn{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ci{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(mi.UNAUTHENTICATED))}shutdown(){}}class ko{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Id{constructor(e){this.t=e,this.currentUser=mi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const l=U=>this.i!==a?(a=this.i,t(U)):Promise.resolve();let m=new Nn;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new Nn,e.enqueueRetryable(()=>l(this.currentUser))};const b=()=>{const U=m;e.enqueueRetryable((0,z.Z)(function*(){yield U.promise,yield l(s.currentUser)}))},O=U=>{v("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=U,this.auth.addAuthTokenListener(this.o),b()};this.t.onInit(U=>O(U)),setTimeout(()=>{if(!this.auth){const U=this.t.getImmediate({optional:!0});U?O(U):(v("FirebaseAuthCredentialsProvider","Auth not yet detected"),m.resolve(),m=new Nn)}},0),b()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(v("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Z("string"==typeof s.accessToken),new qn(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Z(null===e||"string"==typeof e),new mi(e)}}class bp{constructor(e,t,s,a){this.h=e,this.l=t,this.m=s,this.g=a,this.type="FirstParty",this.user=mi.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Z(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Yh{constructor(e,t,s,a){this.h=e,this.l=t,this.m=s,this.g=a}getToken(){return Promise.resolve(new bp(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(mi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qh{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Aa{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const s=l=>{null!=l.error&&v("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const m=l.token!==this.A;return this.A=l.token,v("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const a=l=>{v("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.T.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.T.getImmediate({optional:!0});l?a(l):v("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Z("string"==typeof t.token),this.A=t.token,new qh(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function wp(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}class Ip{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=wp(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<t&&(s+=e.charAt(a[l]%e.length))}return s}}function or(n,e){return n<e?-1:n>e?1:0}function mc(n,e,t){return n.length===e.length&&n.every((s,a)=>t(s,e[a]))}function Em(n){return n+"\0"}class Xr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Dt(Je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Dt(Je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Dt(Je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Dt(Je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Xr.fromMillis(Date.now())}static fromDate(e){return Xr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Xr(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?or(this.nanoseconds,e.nanoseconds):or(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Yn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Yn(e)}static min(){return new Yn(new Xr(0,0))}static max(){return new Yn(new Xr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Zh{constructor(e,t,s){void 0===t?t=0:t>e.length&&$(),void 0===s?s=e.length-t:s>e.length-t&&$(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Zh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Zh?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const l=e.get(a),m=t.get(a);if(l<m)return-1;if(l>m)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class xr extends Zh{construct(e,t,s){return new xr(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Dt(Je.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new xr(t)}static emptyPath(){return new xr([])}}const XE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Si extends Zh{construct(e,t,s){return new Si(e,t,s)}static isValidIdentifier(e){return XE.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Si.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Si(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const l=()=>{if(0===s.length)throw new Dt(Je.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let m=!1;for(;a<e.length;){const b=e[a];if("\\"===b){if(a+1===e.length)throw new Dt(Je.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const O=e[a+1];if("\\"!==O&&"."!==O&&"`"!==O)throw new Dt(Je.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=O,a+=2}else"`"===b?(m=!m,a++):"."!==b||m?(s+=b,a++):(l(),a++)}if(l(),m)throw new Dt(Je.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Si(t)}static emptyPath(){return new Si([])}}class En{constructor(e){this.path=e}static fromPath(e){return new En(xr.fromString(e))}static fromName(e){return new En(xr.fromString(e).popFirst(5))}static empty(){return new En(xr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===xr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return xr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new En(new xr(e.slice()))}}class ta{constructor(e,t,s,a){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=a}}function bl(n){return n.fields.find(e=>2===e.kind)}function yc(n){return n.fields.filter(e=>2!==e.kind)}ta.UNKNOWN_ID=-1;class Xh{constructor(e,t){this.fieldPath=e,this.kind=t}}class Dp{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Dp(0,Js.min())}}function QE(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,a=Yn.fromTimestamp(1e9===s?new Xr(t+1,0):new Xr(t,s));return new Js(a,En.empty(),e)}function Cp(n){return new Js(n.readTime,n.key,-1)}class Js{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Js(Yn.min(),En.empty(),-1)}static max(){return new Js(Yn.max(),En.empty(),-1)}}function t_(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=En.comparator(n.documentKey,e.documentKey),0!==t?t:or(n.largestBatchId,e.largestBatchId))}const JE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bm{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function vc(n){return wm.apply(this,arguments)}function wm(){return wm=(0,z.Z)(function*(n){if(n.code!==Je.FAILED_PRECONDITION||n.message!==JE)throw n;v("LocalStore","Unexpectedly lost primary lease")}),wm.apply(this,arguments)}class kt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&$(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new kt((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof kt?t:kt.resolve(t)}catch(t){return kt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):kt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):kt.reject(t)}static resolve(e){return new kt((t,s)=>{t(e)})}static reject(e){return new kt((t,s)=>{s(e)})}static waitFor(e){return new kt((t,s)=>{let a=0,l=0,m=!1;e.forEach(b=>{++a,b.next(()=>{++l,m&&l===a&&t()},O=>s(O))}),m=!0,l===a&&t()})}static or(e){let t=kt.resolve(!1);for(const s of e)t=t.next(a=>a?kt.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,l)=>{s.push(t.call(this,a,l))}),this.waitFor(s)}static mapArray(e,t){return new kt((s,a)=>{const l=e.length,m=new Array(l);let b=0;for(let O=0;O<l;O++){const U=O;t(e[U]).next(oe=>{m[U]=oe,++b,b===l&&s(m)},oe=>a(oe))}})}static doWhile(e,t){return new kt((s,a)=>{const l=()=>{!0===e()?t().next(()=>{l()},a):s()};l()})}}class Sp{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Nn,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Qh(e,t.error)):this.P.resolve()},this.transaction.onerror=s=>{const a=Im(s.target.error);this.P.reject(new Qh(e,a))}}static open(e,t,s,a){try{return new Sp(t,e.transaction(a,s))}catch(l){throw new Qh(t,l)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(v("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new eb(t)}}class na{constructor(e,t,s){this.name=e,this.version=t,this.S=s,12.2===na.D((0,gn.z$)())&&h("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return v("SimpleDb","Removing database:",e),ti(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,gn.hl)())return!1;if(na.N())return!0;const e=(0,gn.z$)(),t=na.D(e),s=0<t&&t<10,a=na.k(e),l=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||l)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static k(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}F(e){var t=this;return(0,z.Z)(function*(){return t.db||(v("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,a)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=m=>{s(m.target.result)},l.onblocked=()=>{a(new Qh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=m=>{const b=m.target.error;a("VersionError"===b.name?new Dt(Je.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===b.name?new Dt(Je.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+b):new Qh(e,b))},l.onupgradeneeded=m=>{v("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',m.oldVersion),t.S.$(m.target.result,l.transaction,m.oldVersion,t.version).next(()=>{v("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=s=>t.B(s)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,a){var l=this;return(0,z.Z)(function*(){const m="readonly"===t;let b=0;for(;;){++b;try{l.db=yield l.F(e);const O=Sp.open(l.db,e,m?"readonly":"readwrite",s),U=a(O).next(oe=>(O.V(),oe)).catch(oe=>(O.abort(oe),kt.reject(oe))).toPromise();return U.catch(()=>{}),yield O.v,U}catch(O){const U=O,oe="FirebaseError"!==U.name&&b<3;if(v("SimpleDb","Transaction failed with error:",U.message,"Retrying:",oe),l.close(),!oe)return Promise.reject(U)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Tp{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return ti(this.q.delete())}}class Qh extends Dt{constructor(e,t){super(Je.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ja(n){return"IndexedDbTransactionError"===n.name}class eb{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(v("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(v("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),ti(s)}add(e){return v("SimpleDb","ADD",this.store.name,e,e),ti(this.store.add(e))}get(e){return ti(this.store.get(e)).next(t=>(void 0===t&&(t=null),v("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return v("SimpleDb","DELETE",this.store.name,e),ti(this.store.delete(e))}count(){return v("SimpleDb","COUNT",this.store.name),ti(this.store.count())}W(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const a=this.cursor(s),l=[];return this.H(a,(m,b)=>{l.push(b)}).next(()=>l)}{const a=this.store.getAll(s.range);return new kt((l,m)=>{a.onerror=b=>{m(b.target.error)},a.onsuccess=b=>{l(b.target.result)}})}}J(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new kt((a,l)=>{s.onerror=m=>{l(m.target.error)},s.onsuccess=m=>{a(m.target.result)}})}Y(e,t){v("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.X=!1;const a=this.cursor(s);return this.H(a,(l,m,b)=>b.delete())}Z(e,t){let s;t?s=e:(s={},t=e);const a=this.cursor(s);return this.H(a,t)}tt(e){const t=this.cursor({});return new kt((s,a)=>{t.onerror=l=>{const m=Im(l.target.error);a(m)},t.onsuccess=l=>{const m=l.target.result;m?e(m.primaryKey,m.value).next(b=>{b?m.continue():s()}):s()}})}H(e,t){const s=[];return new kt((a,l)=>{e.onerror=m=>{l(m.target.error)},e.onsuccess=m=>{const b=m.target.result;if(!b)return void a();const O=new Tp(b),U=t(b.primaryKey,b.value,O);if(U instanceof kt){const oe=U.catch(Oe=>(O.done(),kt.reject(Oe)));s.push(oe)}O.isDone?a():null===O.G?b.continue():b.continue(O.G)}}).next(()=>kt.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.X?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ti(n){return new kt((e,t)=>{n.onsuccess=s=>{e(s.target.result)},n.onerror=s=>{const a=Im(s.target.error);t(a)}})}let n_=!1;function Im(n){const e=na.D((0,gn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const s=new Dt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return n_||(n_=!0,setTimeout(()=>{throw s},0)),s}}return n}class Dm{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;v("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,z.Z)(function*(){t.task=null;try{v("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(s){Ja(s)?v("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield vc(s)}yield t.nt(6e4)}))}}class r_{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,z.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>t.it(s,e))})()}it(e,t){const s=new Set;let a=t,l=!0;return kt.doWhile(()=>!0===l&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(m=>{if(null!==m&&!s.has(m))return v("IndexBackiller",`Processing collection: ${m}`),this.rt(e,m,a).next(b=>{a-=b,s.add(m)});l=!1})).next(()=>t-a)}rt(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(a=>this.localStore.localDocuments.getNextDocuments(e,t,a,s).next(l=>{const m=l.changes;return this.localStore.indexManager.updateIndexEntries(e,m).next(()=>this.ot(a,l)).next(b=>(v("IndexBackiller",`Updating offset: ${b}`),this.localStore.indexManager.updateCollectionGroup(e,t,b))).next(()=>m.size)}))}ot(e,t){let s=e;return t.changes.forEach((a,l)=>{const m=Cp(l);t_(m,s)>0&&(s=m)}),new Js(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Fo=(()=>{class n{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=a=>this.ut(a),this.ct=a=>s.writeSequenceNumber(a))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class tb{constructor(e,t,s,a,l,m,b,O){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=m,this.autoDetectLongPolling=b,this.useFetchStreams=O}}class _c{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new _c("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof _c&&e.projectId===this.projectId&&e.database===this.database}}function i_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function wl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function nb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ap(n){return null==n}function Fu(n){return 0===n&&1/n==-1/0}function xp(n){return"number"==typeof n&&Number.isInteger(n)&&!Fu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class ji{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new ji(t)}static fromUint8Array(e){const t=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new ji(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return or(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ji.EMPTY_BYTE_STRING=new ji("");const o_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ec(n){if(Z(!!n),"string"==typeof n){let e=0;const t=o_.exec(n);if(Z(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:yi(n.seconds),nanos:yi(n.nanos)}}function yi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function bc(n){return"string"==typeof n?ji.fromBase64String(n):ji.fromUint8Array(n)}function Jh(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function rb(n){const e=n.mapValue.fields.__previous_value__;return Jh(e)?rb(e):e}function ef(n){const e=Ec(n.mapValue.fields.__local_write_time__.timestampValue);return new Xr(e.seconds,e.nanos)}const eu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},tf={nullValue:"NULL_VALUE"};function wc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Jh(n)?4:Il(n)?9007199254740991:10:$()}function Us(n,e){if(n===e)return!0;const t=wc(n);if(t!==wc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ef(n).isEqual(ef(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=Ec(s.timestampValue),m=Ec(a.timestampValue);return l.seconds===m.seconds&&l.nanos===m.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return a=e,bc(n.bytesValue).isEqual(bc(a.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return yi(s.geoPointValue.latitude)===yi(a.geoPointValue.latitude)&&yi(s.geoPointValue.longitude)===yi(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return yi(s.integerValue)===yi(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=yi(s.doubleValue),m=yi(a.doubleValue);return l===m?Fu(l)===Fu(m):isNaN(l)&&isNaN(m)}return!1}(n,e);case 9:return mc(n.arrayValue.values||[],e.arrayValue.values||[],Us);case 10:return function(s,a){const l=s.mapValue.fields||{},m=a.mapValue.fields||{};if(i_(l)!==i_(m))return!1;for(const b in l)if(l.hasOwnProperty(b)&&(void 0===m[b]||!Us(l[b],m[b])))return!1;return!0}(n,e);default:return $()}var a}function nf(n,e){return void 0!==(n.values||[]).find(t=>Us(t,e))}function tu(n,e){if(n===e)return 0;const t=wc(n),s=wc(e);if(t!==s)return or(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return or(n.booleanValue,e.booleanValue);case 2:return function(a,l){const m=yi(a.integerValue||a.doubleValue),b=yi(l.integerValue||l.doubleValue);return m<b?-1:m>b?1:m===b?0:isNaN(m)?isNaN(b)?0:-1:1}(n,e);case 3:return rf(n.timestampValue,e.timestampValue);case 4:return rf(ef(n),ef(e));case 5:return or(n.stringValue,e.stringValue);case 6:return function(a,l){const m=bc(a),b=bc(l);return m.compareTo(b)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const m=a.split("/"),b=l.split("/");for(let O=0;O<m.length&&O<b.length;O++){const U=or(m[O],b[O]);if(0!==U)return U}return or(m.length,b.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const m=or(yi(a.latitude),yi(l.latitude));return 0!==m?m:or(yi(a.longitude),yi(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(a,l){const m=a.values||[],b=l.values||[];for(let O=0;O<m.length&&O<b.length;++O){const U=tu(m[O],b[O]);if(U)return U}return or(m.length,b.length)}(n.arrayValue,e.arrayValue);case 10:return function(a,l){if(a===eu.mapValue&&l===eu.mapValue)return 0;if(a===eu.mapValue)return 1;if(l===eu.mapValue)return-1;const m=a.fields||{},b=Object.keys(m),O=l.fields||{},U=Object.keys(O);b.sort(),U.sort();for(let oe=0;oe<b.length&&oe<U.length;++oe){const Oe=or(b[oe],U[oe]);if(0!==Oe)return Oe;const it=tu(m[b[oe]],O[U[oe]]);if(0!==it)return it}return or(b.length,U.length)}(n.mapValue,e.mapValue);default:throw $()}}function rf(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return or(n,e);const t=Ec(n),s=Ec(e),a=or(t.seconds,s.seconds);return 0!==a?a:or(t.nanos,s.nanos)}function Dd(n){return sf(n)}function sf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(s){const a=Ec(s);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?bc(n.bytesValue).toBase64():"referenceValue"in n?En.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(s){let a="[",l=!0;for(const m of s.values||[])l?l=!1:a+=",",a+=sf(m);return a+"]"}(n.arrayValue):"mapValue"in n?function(s){const a=Object.keys(s.fields||{}).sort();let l="{",m=!0;for(const b of a)m?m=!1:l+=",",l+=`${b}:${sf(s.fields[b])}`;return l+"}"}(n.mapValue):$();var e}function nu(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Lu(n){return!!n&&"integerValue"in n}function Cd(n){return!!n&&"arrayValue"in n}function Mp(n){return!!n&&"nullValue"in n}function a_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Rp(n){return!!n&&"mapValue"in n}function Sd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return wl(n.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Sd(s)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Sd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Il(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function ib(n){return"nullValue"in n?tf:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?nu(_c.empty(),En.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:$()}function sb(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?nu(_c.empty(),En.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?eu:$()}function u_(n,e){const t=tu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function c_(n,e){const t=tu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class ru{constructor(e,t){this.position=e,this.inclusive=t}}function l_(n,e,t){let s=0;for(let a=0;a<n.position.length;a++){const l=e[a],m=n.position[a];if(s=l.field.isKeyField()?En.comparator(En.fromName(m.referenceValue),t.key):tu(m,t.data.field(l.field)),"desc"===l.dir&&(s*=-1),0!==s)break}return s}function Cm(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Us(n.position[t],e.position[t]))return!1;return!0}class d_{}class Ir extends d_{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new ab(e,t,s):"array-contains"===t?new p_(e,s):"in"===t?new Op(e,s):"not-in"===t?new Am(e,s):"array-contains-any"===t?new lb(e,s):new Ir(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new ub(e,s):new cb(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(tu(t,this.value)):null!==t&&wc(this.value)===wc(t)&&this.matchesComparison(tu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return $()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Wr extends d_{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Wr(e,t)}matches(e){return Td(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Td(n){return"and"===n.op}function Dl(n){return"or"===n.op}function h_(n){return Cl(n)&&Td(n)}function Cl(n){for(const e of n.filters)if(e instanceof Wr)return!1;return!0}function Ad(n){if(n instanceof Ir)return n.field.canonicalString()+n.op.toString()+Dd(n.value);{const e=n.filters.map(t=>Ad(t)).join(",");return`${n.op}(${e})`}}function f_(n,e){return n instanceof Ir?(t=n,(s=e)instanceof Ir&&t.op===s.op&&t.field.isEqual(s.field)&&Us(t.value,s.value)):n instanceof Wr?function(t,s){return s instanceof Wr&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((a,l,m)=>a&&f_(l,s.filters[m]),!0)}(n,e):void $();var t,s}function ob(n,e){const t=n.filters.concat(e);return Wr.create(t,n.op)}function Sm(n){return n instanceof Ir?`${(e=n).field.canonicalString()} ${e.op} ${Dd(e.value)}`:n instanceof Wr?function(e){return e.op.toString()+" {"+e.getFilters().map(Sm).join(" ,")+"}"}(n):"Filter";var e}class ab extends Ir{constructor(e,t,s){super(e,t,s),this.key=En.fromName(s.referenceValue)}matches(e){const t=En.comparator(e.key,this.key);return this.matchesComparison(t)}}class ub extends Ir{constructor(e,t){super(e,"in",t),this.keys=Tm(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class cb extends Ir{constructor(e,t){super(e,"not-in",t),this.keys=Tm(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Tm(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>En.fromName(s.referenceValue))}class p_ extends Ir{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Cd(t)&&nf(t.arrayValue,this.value)}}class Op extends Ir{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&nf(this.value.arrayValue,t)}}class Am extends Ir{constructor(e,t){super(e,"not-in",t)}matches(e){if(nf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!nf(this.value.arrayValue,t)}}class lb extends Ir{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Cd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>nf(this.value.arrayValue,s))}}class Ic{constructor(e,t="asc"){this.field=e,this.dir=t}}function af(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Ti{constructor(e,t){this.comparator=e,this.root=t||Cs.EMPTY}insert(e,t){return new Ti(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Cs.BLACK,null,null))}remove(e){return new Ti(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pp(this.root,e,this.comparator,!0)}}class Pp{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Cs{constructor(e,t,s,a,l){this.key=e,this.value=t,this.color=s??Cs.RED,this.left=a??Cs.EMPTY,this.right=l??Cs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,l){return new Cs(e??this.key,t??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===l?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Cs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return Cs.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Cs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Cs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $();const e=this.left.check();if(e!==this.right.check())throw $();return e+(this.isRed()?0:1)}}Cs.EMPTY=null,Cs.RED=!0,Cs.BLACK=!1,Cs.EMPTY=new class{constructor(){this.size=0}get key(){throw $()}get value(){throw $()}get color(){throw $()}get left(){throw $()}get right(){throw $()}copy(n,e,t,s,a){return this}insert(n,e,t){return new Cs(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Kr{constructor(e){this.comparator=e,this.data=new Ti(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new g_(this.data.getIterator())}getIteratorFrom(e){return new g_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Kr)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(0!==this.comparator(a,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Kr(this.comparator);return t.data=e,t}}class g_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function xd(n){return n.hasNext()?n.getNext():void 0}class Lo{constructor(e){this.fields=e,e.sort(Si.comparator)}static empty(){return new Lo([])}unionWith(e){let t=new Kr(Si.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Lo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return mc(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class Ai{constructor(e){this.value=e}static empty(){return new Ai({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Rp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sd(t)}setAll(e){let t=Si.emptyPath(),s={},a=[];e.forEach((m,b)=>{if(!t.isImmediateParentOf(b)){const O=this.getFieldsMap(t);this.applyChanges(O,s,a),s={},a=[],t=b.popLast()}m?s[b.lastSegment()]=Sd(m):a.push(b.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,a)}delete(e){const t=this.field(e.popLast());Rp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Us(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];Rp(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){wl(t,(a,l)=>e[a]=l);for(const a of s)delete e[a]}clone(){return new Ai(Sd(this.value))}}function iu(n){const e=[];return wl(n.fields,(t,s)=>{const a=new Si([t]);if(Rp(s)){const l=iu(s.mapValue).fields;if(0===l.length)e.push(a);else for(const m of l)e.push(a.child(m))}else e.push(a)}),new Lo(e)}class ai{constructor(e,t,s,a,l,m,b){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=l,this.data=m,this.documentState=b}static newInvalidDocument(e){return new ai(e,0,Yn.min(),Yn.min(),Yn.min(),Ai.empty(),0)}static newFoundDocument(e,t,s,a){return new ai(e,1,t,Yn.min(),s,a,0)}static newNoDocument(e,t){return new ai(e,2,t,Yn.min(),Yn.min(),Ai.empty(),0)}static newUnknownDocument(e,t){return new ai(e,3,t,Yn.min(),Yn.min(),Ai.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Yn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ai.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ai.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Yn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ai&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ai(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class db{constructor(e,t=null,s=[],a=[],l=null,m=null,b=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=m,this.endAt=b,this.ft=null}}function m_(n,e=null,t=[],s=[],a=null,l=null,m=null){return new db(n,e,t,s,a,l,m)}function Md(n){const e=ut(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Ad(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),Ap(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Dd(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Dd(s)).join(",")),e.ft=t}return e.ft}function Rd(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!af(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!f_(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Cm(n.startAt,e.startAt)&&Cm(n.endAt,e.endAt)}function xm(n){return En.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function uf(n,e){return n.filters.filter(t=>t instanceof Ir&&t.field.isEqual(e))}function hb(n,e,t){let s=tf,a=!0;for(const l of uf(n,e)){let m=tf,b=!0;switch(l.op){case"<":case"<=":m=ib(l.value);break;case"==":case"in":case">=":m=l.value;break;case">":m=l.value,b=!1;break;case"!=":case"not-in":m=tf}u_({value:s,inclusive:a},{value:m,inclusive:b})<0&&(s=m,a=b)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const m=t.position[l];u_({value:s,inclusive:a},{value:m,inclusive:t.inclusive})<0&&(s=m,a=t.inclusive);break}return{value:s,inclusive:a}}function Mm(n,e,t){let s=eu,a=!0;for(const l of uf(n,e)){let m=eu,b=!0;switch(l.op){case">=":case">":m=sb(l.value),b=!1;break;case"==":case"in":case"<=":m=l.value;break;case"<":m=l.value,b=!1;break;case"!=":case"not-in":m=eu}c_({value:s,inclusive:a},{value:m,inclusive:b})>0&&(s=m,a=b)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const m=t.position[l];c_({value:s,inclusive:a},{value:m,inclusive:t.inclusive})>0&&(s=m,a=t.inclusive);break}return{value:s,inclusive:a}}class Bu{constructor(e,t=null,s=[],a=[],l=null,m="F",b=null,O=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=m,this.startAt=b,this.endAt=O,this.dt=null,this._t=null}}function Rm(n,e,t,s,a,l,m,b){return new Bu(n,e,t,s,a,l,m,b)}function Od(n){return new Bu(n)}function y_(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Bo(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Np(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function kp(n){return null!==n.collectionGroup}function Sl(n){const e=ut(n);if(null===e.dt){e.dt=[];const t=Np(e),s=Bo(e);if(null!==t&&null===s)t.isKeyField()||e.dt.push(new Ic(t)),e.dt.push(new Ic(Si.keyField(),"asc"));else{let a=!1;for(const l of e.explicitOrderBy)e.dt.push(l),l.field.isKeyField()&&(a=!0);if(!a){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Ic(Si.keyField(),l))}}}return e.dt}function eo(n){const e=ut(n);if(!e._t)if("F"===e.limitType)e._t=m_(e.path,e.collectionGroup,Sl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of Sl(e))t.push(new Ic(l.field,"desc"===l.dir?"asc":"desc"));const s=e.endAt?new ru(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new ru(e.startAt.position,e.startAt.inclusive):null;e._t=m_(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e._t}function Om(n,e){e.getFirstInequalityField(),Np(n);const t=n.filters.concat([e]);return new Bu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Fp(n,e,t){return new Bu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Pd(n,e){return Rd(eo(n),eo(e))&&n.limitType===e.limitType}function v_(n){return`${Md(eo(n))}|lt:${n.limitType}`}function Pm(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>Sm(s)).join(", ")}]`),Ap(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(a=s).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Dd(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Dd(s)).join(",")),`Target(${t})`}(eo(n))}; limitType=${n.limitType})`}function Nm(n,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):En.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(n,e)&&function(t,s){for(const a of Sl(t))if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(n,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(n,e)&&(s=e,!((t=n).startAt&&!function(a,l,m){const b=l_(a,l,m);return a.inclusive?b<=0:b<0}(t.startAt,Sl(t),s)||t.endAt&&!function(a,l,m){const b=l_(a,l,m);return a.inclusive?b>=0:b>0}(t.endAt,Sl(t),s)));var t,s}function ur(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function km(n){return(e,t)=>{let s=!1;for(const a of Sl(n)){const l=__(a,e,t);if(0!==l)return l;s=s||a.field.isKeyField()}return 0}}function __(n,e,t){const s=n.field.isKeyField()?En.comparator(e.key,t.key):function(a,l,m){const b=l.data.field(a),O=m.data.field(a);return null!==b&&null!==O?tu(b,O):$()}(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return $()}}function Fm(n,e){if(n.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fu(e)?"-0":e}}function E_(n){return{integerValue:""+n}}function b_(n,e){return xp(e)?E_(e):Fm(n,e)}class cf{constructor(){this._=void 0}}function fb(n,e,t){return n instanceof Nd?function(s,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&(l.fields.__previous_value__=a),{mapValue:l}}(t,e):n instanceof kd?Lm(n,e):n instanceof Dc?Cc(n,e):function(s,a){const l=I_(s,a),m=Lp(l)+Lp(s.gt);return Lu(l)&&Lu(s.gt)?E_(m):Fm(s.yt,m)}(n,e)}function w_(n,e,t){return n instanceof kd?Lm(n,e):n instanceof Dc?Cc(n,e):t}function I_(n,e){return n instanceof Fd?Lu(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Nd extends cf{}class kd extends cf{constructor(e){super(),this.elements=e}}function Lm(n,e){const t=Bp(e);for(const s of n.elements)t.some(a=>Us(a,s))||t.push(s);return{arrayValue:{values:t}}}class Dc extends cf{constructor(e){super(),this.elements=e}}function Cc(n,e){let t=Bp(e);for(const s of n.elements)t=t.filter(a=>!Us(a,s));return{arrayValue:{values:t}}}class Fd extends cf{constructor(e,t){super(),this.yt=e,this.gt=t}}function Lp(n){return yi(n.integerValue||n.doubleValue)}function Bp(n){return Cd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class lf{constructor(e,t){this.field=e,this.transform=t}}class AI{constructor(e,t){this.version=e,this.transformResults=t}}class vi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new vi}static exists(e){return new vi(void 0,e)}static updateTime(e){return new vi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vp(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class df{}function pb(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Ld(n.key,vi.none()):new Vu(n.key,n.data,vi.none());{const t=n.data,s=Ai.empty();let a=new Kr(Si.comparator);for(let l of e.fields)if(!a.has(l)){let m=t.field(l);null===m&&l.length>1&&(l=l.popLast(),m=t.field(l)),null===m?s.delete(l):s.set(l,m),a=a.add(l)}return new $u(n.key,s,new Lo(a.toArray()),vi.none())}}function gb(n,e,t){n instanceof Vu?function(s,a,l){const m=s.value.clone(),b=D_(s.fieldTransforms,a,l.transformResults);m.setAll(b),a.convertToFoundDocument(l.version,m).setHasCommittedMutations()}(n,e,t):n instanceof $u?function(s,a,l){if(!Vp(s.precondition,a))return void a.convertToUnknownDocument(l.version);const m=D_(s.fieldTransforms,a,l.transformResults),b=a.data;b.setAll(Vm(s)),b.setAll(m),a.convertToFoundDocument(l.version,b).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function su(n,e,t,s){return n instanceof Vu?function(a,l,m,b){if(!Vp(a.precondition,l))return m;const O=a.value.clone(),U=C_(a.fieldTransforms,b,l);return O.setAll(U),l.convertToFoundDocument(l.version,O).setHasLocalMutations(),null}(n,e,t,s):n instanceof $u?function(a,l,m,b){if(!Vp(a.precondition,l))return m;const O=C_(a.fieldTransforms,b,l),U=l.data;return U.setAll(Vm(a)),U.setAll(O),l.convertToFoundDocument(l.version,U).setHasLocalMutations(),null===m?null:m.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(oe=>oe.field))}(n,e,t,s):(m=t,Vp(n.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):m);var l,m}function mb(n,e){let t=null;for(const s of n.fieldTransforms){const a=e.data.field(s.field),l=I_(s.transform,a||null);null!=l&&(null===t&&(t=Ai.empty()),t.set(s.field,l))}return t||null}function Bm(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===s||t&&s&&mc(t,s,(a,l)=>function TI(n,e){return n.field.isEqual(e.field)&&(s=e.transform,(t=n.transform)instanceof kd&&s instanceof kd||t instanceof Dc&&s instanceof Dc?mc(t.elements,s.elements,Us):t instanceof Fd&&s instanceof Fd?Us(t.gt,s.gt):t instanceof Nd&&s instanceof Nd);var t,s}(a,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,s}class Vu extends df{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class $u extends df{constructor(e,t,s,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Vm(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}}),e}function D_(n,e,t){const s=new Map;Z(n.length===t.length);for(let a=0;a<t.length;a++){const l=n[a],m=l.transform,b=e.data.field(l.field);s.set(l.field,w_(m,b,t[a]))}return s}function C_(n,e,t){const s=new Map;for(const a of n){const l=a.transform,m=t.data.field(a.field);s.set(a.field,fb(l,m,e))}return s}class Ld extends df{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $m extends df{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class yb{constructor(e){this.count=e}}var Fi,Mr;function Um(n){switch(n){default:return $();case Je.CANCELLED:case Je.UNKNOWN:case Je.DEADLINE_EXCEEDED:case Je.RESOURCE_EXHAUSTED:case Je.INTERNAL:case Je.UNAVAILABLE:case Je.UNAUTHENTICATED:return!1;case Je.INVALID_ARGUMENT:case Je.NOT_FOUND:case Je.ALREADY_EXISTS:case Je.PERMISSION_DENIED:case Je.FAILED_PRECONDITION:case Je.ABORTED:case Je.OUT_OF_RANGE:case Je.UNIMPLEMENTED:case Je.DATA_LOSS:return!0}}function jm(n){if(void 0===n)return h("GRPC error has no .code"),Je.UNKNOWN;switch(n){case Fi.OK:return Je.OK;case Fi.CANCELLED:return Je.CANCELLED;case Fi.UNKNOWN:return Je.UNKNOWN;case Fi.DEADLINE_EXCEEDED:return Je.DEADLINE_EXCEEDED;case Fi.RESOURCE_EXHAUSTED:return Je.RESOURCE_EXHAUSTED;case Fi.INTERNAL:return Je.INTERNAL;case Fi.UNAVAILABLE:return Je.UNAVAILABLE;case Fi.UNAUTHENTICATED:return Je.UNAUTHENTICATED;case Fi.INVALID_ARGUMENT:return Je.INVALID_ARGUMENT;case Fi.NOT_FOUND:return Je.NOT_FOUND;case Fi.ALREADY_EXISTS:return Je.ALREADY_EXISTS;case Fi.PERMISSION_DENIED:return Je.PERMISSION_DENIED;case Fi.FAILED_PRECONDITION:return Je.FAILED_PRECONDITION;case Fi.ABORTED:return Je.ABORTED;case Fi.OUT_OF_RANGE:return Je.OUT_OF_RANGE;case Fi.UNIMPLEMENTED:return Je.UNIMPLEMENTED;case Fi.DATA_LOSS:return Je.DATA_LOSS;default:return $()}}(Mr=Fi||(Fi={}))[Mr.OK=0]="OK",Mr[Mr.CANCELLED=1]="CANCELLED",Mr[Mr.UNKNOWN=2]="UNKNOWN",Mr[Mr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mr[Mr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mr[Mr.NOT_FOUND=5]="NOT_FOUND",Mr[Mr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mr[Mr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mr[Mr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mr[Mr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mr[Mr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mr[Mr.ABORTED=10]="ABORTED",Mr[Mr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mr[Mr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mr[Mr.INTERNAL=13]="INTERNAL",Mr[Mr.UNAVAILABLE=14]="UNAVAILABLE",Mr[Mr.DATA_LOSS=15]="DATA_LOSS";class ou{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,l]of s)if(this.equalsFn(a,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0===a)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){wl(this.inner,(t,s)=>{for(const[a,l]of s)e(a,l)})}isEmpty(){return nb(this.inner)}size(){return this.innerSize}}const xI=new Ti(En.comparator);function js(){return xI}const S_=new Ti(En.comparator);function $p(...n){let e=S_;for(const t of n)e=e.insert(t.key,t);return e}function Tl(n){let e=S_;return n.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function xa(){return Sc()}function Hm(){return Sc()}function Sc(){return new ou(n=>n.toString(),(n,e)=>n.isEqual(e))}const Ma=new Ti(En.comparator),T_=new Kr(En.comparator);function pr(...n){let e=T_;for(const t of n)e=e.add(t);return e}const Gm=new Kr(or);function ra(){return Gm}class Al{constructor(e,t,s,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,Bd.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Al(Yn.min(),a,ra(),js(),pr())}}class Bd{constructor(e,t,s,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Bd(s,t,pr(),pr(),pr())}}class Vd{constructor(e,t,s,a){this.It=e,this.removedTargetIds=t,this.key=s,this.Tt=a}}class vb{constructor(e,t){this.targetId=e,this.Et=t}}class zm{constructor(e,t,s=ji.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class _b{constructor(){this.At=0,this.Rt=jp(),this.bt=ji.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=pr(),t=pr(),s=pr();return this.Rt.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:$()}}),new Bd(this.bt,this.Pt,e,t,s)}xt(){this.vt=!1,this.Rt=jp()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class Up{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=js(),this.qt=hf(),this.Ut=new Kr(or)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const s=this.Wt(t);switch(e.state){case 0:this.zt(t)&&s.Dt(e.resumeToken);break;case 1:s.Mt(),s.Vt||s.xt(),s.Dt(e.resumeToken);break;case 2:s.Mt(),s.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(s.Ft(),s.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),s.Dt(e.resumeToken));break;default:$()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((s,a)=>{this.zt(a)&&t(a)})}Jt(e){const t=e.targetId,s=e.Et.count,a=this.Yt(t);if(a){const l=a.target;if(xm(l))if(0===s){const m=new En(l.path);this.Qt(t,m,ai.newNoDocument(m,Yn.min()))}else Z(1===s);else this.Xt(t)!==s&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((l,m)=>{const b=this.Yt(m);if(b){if(l.current&&xm(b.target)){const O=new En(b.target.path);null!==this.Lt.get(O)||this.te(m,O)||this.Qt(m,O,ai.newNoDocument(O,e))}l.St&&(t.set(m,l.Ct()),l.xt())}});let s=pr();this.qt.forEach((l,m)=>{let b=!0;m.forEachWhile(O=>{const U=this.Yt(O);return!U||2===U.purpose||(b=!1,!1)}),b&&(s=s.add(l))}),this.Lt.forEach((l,m)=>m.setReadTime(e));const a=new Al(e,t,this.Ut,this.Lt,s);return this.Lt=js(),this.qt=hf(),this.Ut=new Kr(or),a}Gt(e,t){if(!this.zt(e))return;const s=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,s),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,s){if(!this.zt(e))return;const a=this.Wt(e);this.te(e,t)?a.Nt(t,1):a.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),s&&(this.Lt=this.Lt.insert(t,s))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new _b,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new Kr(or),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||v("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new _b),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function hf(){return new Ti(En.comparator)}function jp(){return new Ti(En.comparator)}const Wm={asc:"ASCENDING",desc:"DESCENDING"},Km={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MI={and:"AND",or:"OR"};class Eb{constructor(e,t){this.databaseId=e,this.wt=t}}function $d(n,e){return n.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function A_(n,e){return n.wt?e.toBase64():e.toUint8Array()}function bb(n,e){return $d(n,e.toTimestamp())}function xi(n){return Z(!!n),Yn.fromTimestamp(function(e){const t=Ec(e);return new Xr(t.seconds,t.nanos)}(n))}function x_(n,e){return(t=n,new xr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function M_(n){const e=xr.fromString(n);return Z(B_(e)),e}function Hp(n,e){return x_(n.databaseId,e.path)}function Ra(n,e){const t=M_(e);if(t.get(1)!==n.databaseId.projectId)throw new Dt(Je.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Dt(Je.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new En(wb(t))}function Gp(n,e){return x_(n.databaseId,e)}function R_(n){const e=M_(n);return 4===e.length?xr.emptyPath():wb(e)}function xl(n){return new xr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function wb(n){return Z(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Ib(n,e,t){return{name:Hp(n,e),fields:t.value.mapValue.fields}}function Db(n,e,t){const s=Ra(n,e.name),a=xi(e.updateTime),l=e.createTime?xi(e.createTime):Yn.min(),m=new Ai({mapValue:{fields:e.fields}}),b=ai.newFoundDocument(s,a,l,m);return t&&b.setHasCommittedMutations(),t?b.setHasCommittedMutations():b}function zp(n,e){let t;if(e instanceof Vu)t={update:Ib(n,e.key,e.value)};else if(e instanceof Ld)t={delete:Hp(n,e.key)};else if(e instanceof $u)t={update:Ib(n,e.key,e.data),updateMask:L_(e.fieldMask)};else{if(!(e instanceof $m))return $();t={verify:Hp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,l){const m=l.transform;if(m instanceof Nd)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof kd)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Dc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Fd)return{fieldPath:l.field.canonicalString(),increment:m.gt};throw $()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:bb(n,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:$()),t;var a}function O_(n,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?vi.updateTime(xi(a.updateTime)):void 0!==a.exists?vi.exists(a.exists):vi.none():vi.none(),s=e.updateTransforms?e.updateTransforms.map(a=>function(l,m){let b=null;"setToServerValue"in m?(Z("REQUEST_TIME"===m.setToServerValue),b=new Nd):"appendMissingElements"in m?b=new kd(m.appendMissingElements.values||[]):"removeAllFromArray"in m?b=new Dc(m.removeAllFromArray.values||[]):"increment"in m?b=new Fd(l,m.increment):$();const O=Si.fromServerFormat(m.fieldPath);return new lf(O,b)}(n,a)):[];var a;if(e.update){const a=Ra(n,e.update.name),l=new Ai({mapValue:{fields:e.update.fields}});if(e.updateMask){const m=new Lo((e.updateMask.fieldPaths||[]).map(U=>Si.fromServerFormat(U)));return new $u(a,l,m,t,s)}return new Vu(a,l,t,s)}if(e.delete){const a=Ra(n,e.delete);return new Ld(a,t)}if(e.verify){const a=Ra(n,e.verify);return new $m(a,t)}return $()}function Cb(n,e){return{documents:[Gp(n,e.path)]}}function P_(n,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=Gp(n,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Gp(n,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(O){if(0!==O.length)return ju(Wr.create(O,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(O){if(0!==O.length)return O.map(U=>{return{field:Tc((oe=U).field),direction:k_(oe.dir)};var oe})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const m=(U=e.limit,n.wt||Ap(U)?U:{value:U});var U,b,O;return null!==m&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt={before:(b=e.startAt).inclusive,values:b.position}),e.endAt&&(t.structuredQuery.endAt={before:!(O=e.endAt).inclusive,values:O.position}),t}function Uu(n){let e=R_(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){Z(1===s);const oe=t.from[0];oe.allDescendants?a=oe.collectionId:e=e.child(oe.collectionId)}let l=[];t.where&&(l=function(oe){const Oe=N_(oe);return Oe instanceof Wr&&h_(Oe)?Oe.getFilters():[Oe]}(t.where));let m=[];t.orderBy&&(m=t.orderBy.map(oe=>{return new Ic(Ud((Oe=oe).field),function(it){switch(it){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Oe.direction));var Oe}));let b=null;t.limit&&(b=function(oe){let Oe;return Oe="object"==typeof oe?oe.value:oe,Ap(Oe)?null:Oe}(t.limit));let O=null;var oe;t.startAt&&(O=new ru((oe=t.startAt).values||[],!!oe.before));let U=null;return t.endAt&&(U=function(oe){return new ru(oe.values||[],!oe.before)}(t.endAt)),Rm(e,a,m,l,b,"F",O,U)}function N_(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ud(e.unaryFilter.field);return Ir.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=Ud(e.unaryFilter.field);return Ir.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ud(e.unaryFilter.field);return Ir.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ud(e.unaryFilter.field);return Ir.create(l,"!=",{nullValue:"NULL_VALUE"});default:return $()}}(n):void 0!==n.fieldFilter?Ir.create(Ud((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Wr.create(e.compositeFilter.filters.map(t=>N_(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return $()}}(e.compositeFilter.op))}(n):$();var e}function k_(n){return Wm[n]}function qm(n){return Km[n]}function F_(n){return MI[n]}function Tc(n){return{fieldPath:n.canonicalString()}}function Ud(n){return Si.fromServerFormat(n.fieldPath)}function ju(n){return n instanceof Ir?function(e){if("=="===e.op){if(a_(e.value))return{unaryFilter:{field:Tc(e.field),op:"IS_NAN"}};if(Mp(e.value))return{unaryFilter:{field:Tc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(a_(e.value))return{unaryFilter:{field:Tc(e.field),op:"IS_NOT_NAN"}};if(Mp(e.value))return{unaryFilter:{field:Tc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tc(e.field),op:qm(e.op),value:e.value}}}(n):n instanceof Wr?function(e){const t=e.getFilters().map(s=>ju(s));return 1===t.length?t[0]:{compositeFilter:{op:F_(e.op),filters:t}}}(n):$()}function L_(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function B_(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function to(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=$_(e)),e=V_(n.get(t),e);return $_(e)}function V_(n,e){let t=e;const s=n.length;for(let a=0;a<s;a++){const l=n.charAt(a);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function $_(n){return n+"\x01\x01"}function au(n){const e=n.length;if(Z(e>=2),2===e)return Z("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),xr.emptyPath();const t=e-2,s=[];let a="";for(let l=0;l<e;){const m=n.indexOf("\x01",l);switch((m<0||m>t)&&$(),n.charAt(m+1)){case"\x01":const b=n.substring(l,m);let O;0===a.length?O=b:(a+=b,O=a,a=""),s.push(O);break;case"\x10":a+=n.substring(l,m),a+="\0";break;case"\x11":a+=n.substring(l,m+1);break;default:$()}l=m+2}return new xr(s)}const ff=["userId","batchId"];function Hu(n,e){return[n,to(e)]}function Wp(n,e,t){return[n,to(e),t]}const jd={},Zm=["prefixPath","collectionGroup","readTime","documentId"],Kp=["prefixPath","collectionGroup","documentId"],U_=["collectionGroup","readTime","prefixPath","documentId"],j_=["canonicalId","targetId"],Xm=["targetId","path"],Qm=["path","targetId"],H_=["collectionId","parent"],Jm=["indexId","uid"],Sb=["uid","sequenceNumber"],NI=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Tb=["indexId","uid","orderedDocumentKey"],G_=["userId","collectionPath","documentId"],Ab=["userId","collectionPath","largestBatchId"],z_=["userId","collectionGroup","largestBatchId"],ey=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],xb=[...ey,"documentOverlays"],go=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ty=go,Mb=[...ty,"indexConfiguration","indexState","indexEntries"];class W_ extends bm{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function ss(n,e){const t=ut(n);return na.M(t.se,e)}class pf{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&gb(l,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=su(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=su(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Hm();return this.mutations.forEach(a=>{const l=e.get(a.key),m=l.overlayedDocument;let b=this.applyToLocalView(m,l.mutatedFields);b=t.has(a.key)?null:b;const O=pb(m,b);null!==O&&s.set(a.key,O),m.isValidDocument()||m.convertToNoDocument(Yn.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),pr())}isEqual(e){return this.batchId===e.batchId&&mc(this.mutations,e.mutations,(t,s)=>Bm(t,s))&&mc(this.baseMutations,e.baseMutations,(t,s)=>Bm(t,s))}}class Yp{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){Z(e.mutations.length===s.length);let a=Ma;const l=e.mutations;for(let m=0;m<l.length;m++)a=a.insert(l[m].key,s[m].version);return new Yp(e,t,s,a)}}class ny{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ac{constructor(e,t,s,a,l=Yn.min(),m=Yn.min(),b=ji.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=b}withSequenceNumber(e){return new Ac(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Ac(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ac(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class K_{constructor(e){this.ie=e}}function q_(n,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:gf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Hp(a=n.ie,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:$d(a,l.version.toTimestamp()),createTime:$d(a,l.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:Ml(e.version)};else{if(!e.isUnknownDocument())return $();s.unknownDocument={path:t.path.toArray(),version:Ml(e.version)}}var a,l;return s}function gf(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Ml(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Rl(n){const e=new Xr(n.seconds,n.nanoseconds);return Yn.fromTimestamp(e)}function xc(n,e){const t=(e.baseMutations||[]).map(l=>O_(n.ie,l));for(let l=0;l<e.mutations.length-1;++l){const m=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(m.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const s=e.mutations.map(l=>O_(n.ie,l)),a=Xr.fromMillis(e.localWriteTimeMs);return new pf(e.batchId,a,t,s)}function Hd(n){const e=Rl(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Rl(n.lastLimboFreeSnapshotVersion):Yn.min();let s;var a;return void 0!==n.query.documents?(Z(1===(a=n.query).documents.length),s=eo(Od(R_(a.documents[0])))):s=eo(Uu(n.query)),new Ac(s,n.targetId,0,n.lastListenSequenceNumber,e,t,ji.fromBase64String(n.resumeToken))}function Z_(n,e){const t=Ml(e.snapshotVersion),s=Ml(e.lastLimboFreeSnapshotVersion);let a;a=xm(e.target)?Cb(n.ie,e.target):P_(n.ie,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Md(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:a}}function ia(n){const e=Uu({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Fp(e,e.limit,"L"):e}function mf(n,e){return new ny(e.largestBatchId,O_(n.ie,e.overlayMutation))}function X_(n,e){const t=e.path.lastSegment();return[n,to(e.path.popLast()),t]}function Q_(n,e,t,s){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Ml(s.readTime),documentKey:to(s.documentKey.path),largestBatchId:s.largestBatchId}}class kI{getBundleMetadata(e,t){return ry(e).get(t).next(s=>{if(s)return{id:(a=s).bundleId,createTime:Rl(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return ry(e).put({bundleId:(s=t).id,createTime:Ml(xi(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return J_(e).get(t).next(s=>{if(s)return{name:(a=s).name,query:ia(a.bundledQuery),readTime:Rl(a.readTime)};var a})}saveNamedQuery(e,t){return J_(e).put({name:(s=t).name,readTime:Ml(xi(s.readTime)),bundledQuery:s.bundledQuery});var s}}function ry(n){return ss(n,"bundles")}function J_(n){return ss(n,"namedQueries")}class qp{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new qp(e,t.uid||"")}getOverlay(e,t){return yf(e).get(X_(this.userId,t)).next(s=>s?mf(this.yt,s):null)}getOverlays(e,t){const s=xa();return kt.forEach(t,a=>this.getOverlay(e,a).next(l=>{null!==l&&s.set(a,l)})).next(()=>s)}saveOverlays(e,t,s){const a=[];return s.forEach((l,m)=>{const b=new ny(t,m);a.push(this.oe(e,b))}),kt.waitFor(a)}removeOverlaysForBatchId(e,t,s){const a=new Set;t.forEach(m=>a.add(to(m.getCollectionPath())));const l=[];return a.forEach(m=>{const b=IDBKeyRange.bound([this.userId,m,s],[this.userId,m,s+1],!1,!0);l.push(yf(e).Y("collectionPathOverlayIndex",b))}),kt.waitFor(l)}getOverlaysForCollection(e,t,s){const a=xa(),l=to(t),m=IDBKeyRange.bound([this.userId,l,s],[this.userId,l,Number.POSITIVE_INFINITY],!0);return yf(e).W("collectionPathOverlayIndex",m).next(b=>{for(const O of b){const U=mf(this.yt,O);a.set(U.getKey(),U)}return a})}getOverlaysForCollectionGroup(e,t,s,a){const l=xa();let m;const b=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return yf(e).Z({index:"collectionGroupOverlayIndex",range:b},(O,U,oe)=>{const Oe=mf(this.yt,U);l.size()<a||Oe.largestBatchId===m?(l.set(Oe.getKey(),Oe),m=Oe.largestBatchId):oe.done()}).next(()=>l)}oe(e,t){return yf(e).put(function(s,a,l){const[m,b,O]=X_(a,l.mutation.key);return{userId:a,collectionPath:b,documentId:O,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:zp(s.ie,l.mutation)}}(this.yt,this.userId,t))}}function yf(n){return ss(n,"documentOverlays")}class Gu{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(yi(e.integerValue));else if("doubleValue"in e){const s=yi(e.doubleValue);isNaN(s)?this.he(t,13):(this.he(t,15),Fu(s)?t.le(0):t.le(s))}else if("timestampValue"in e){const s=e.timestampValue;this.he(t,20),"string"==typeof s?t.fe(s):(t.fe(`${s.seconds||""}`),t.le(s.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(bc(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.he(t,45),t.le(s.latitude||0),t.le(s.longitude||0)}else"mapValue"in e?Il(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):$()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const s=e.fields||{};this.he(t,55);for(const a of Object.keys(s))this.de(a,t),this.ce(s[a],t)}ye(e,t){const s=e.values||[];this.he(t,50);for(const a of s)this.ce(a,t)}me(e,t){this.he(t,37),En.fromName(e).path.forEach(s=>{this.he(t,60),this.pe(s,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function Rb(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function e0(n){const e=64-function(t){let s=0;for(let a=0;a<8;++a){const l=Rb(255&t[a]);if(s+=l,8!==l)break}return s}(n);return Math.ceil(e/8)}Gu.Ie=new Gu;class Zp{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Ee(s.value),s=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.be(s.value),s=t.next();this.Pe()}ve(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Ee(s);else if(s<2048)this.Ee(960|s>>>6),this.Ee(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|s>>>12),this.Ee(128|63&s>>>6),this.Ee(128|63&s);else{const a=t.codePointAt(0);this.Ee(240|a>>>18),this.Ee(128|63&a>>>12),this.Ee(128|63&a>>>6),this.Ee(128|63&a)}}this.Ae()}Ve(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.be(s);else if(s<2048)this.be(960|s>>>6),this.be(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.be(480|s>>>12),this.be(128|63&s>>>6),this.be(128|63&s);else{const a=t.codePointAt(0);this.be(240|a>>>18),this.be(128|63&a>>>12),this.be(128|63&a>>>6),this.be(128|63&a)}}this.Pe()}Se(e){const t=this.De(e),s=e0(t);this.Ce(1+s),this.buffer[this.position++]=255&s;for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=255&t[a]}xe(e){const t=this.De(e),s=e0(t);this.Ce(1+s),this.buffer[this.position++]=~(255&s);for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(a){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,a,!1),new Uint8Array(l.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let a=1;a<t.length;++a)t[a]^=s?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const a=new Uint8Array(s);a.set(this.buffer),this.buffer=a}}class iy{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class Xp{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class Qp{constructor(){this.$e=new Zp,this.Be=new iy(this.$e),this.Le=new Xp(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class zu{constructor(e,t,s,a){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=a}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new zu(this.indexId,this.documentKey,this.arrayValue,s)}}function Ol(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=sy(n.arrayValue,e.arrayValue),0!==t?t:(t=sy(n.directionalValue,e.directionalValue),0!==t?t:En.comparator(n.documentKey,e.documentKey)))}function sy(n,e){for(let t=0;t<n.length&&t<e.length;++t){const s=n[t]-e[t];if(0!==s)return s}return n.length-e.length}class t0{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const s=t;s.isInequality()?this.Qe=s:this.Ge.push(s)}}je(e){Z(e.collectionGroup===this.collectionId);const t=bl(e);if(void 0!==t&&!this.We(t))return!1;const s=yc(e);let a=0,l=0;for(;a<s.length&&this.We(s[a]);++a);if(a===s.length)return!0;if(void 0!==this.Qe){const m=s[a];if(!this.ze(this.Qe,m)||!this.He(this.Ke[l++],m))return!1;++a}for(;a<s.length;++a){const m=s[a];if(l>=this.Ke.length||!this.He(this.Ke[l++],m))return!1}return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function oy(n){var e,t;if(Z(n instanceof Ir||n instanceof Wr),n instanceof Ir){if(n instanceof Op){const a=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(l=>Ir.create(n.field,"==",l)))||[];return Wr.create(a,"or")}return n}const s=n.filters.map(a=>oy(a));return Wr.create(s,n.op)}function n0(n){if(0===n.getFilters().length)return[];const e=Gd(oy(n));return Z(_f(e)),vf(e)||Oa(e)?[e]:e.getFilters()}function vf(n){return n instanceof Ir}function Oa(n){return n instanceof Wr&&h_(n)}function _f(n){return vf(n)||Oa(n)||function(e){if(e instanceof Wr&&Dl(e)){for(const t of e.getFilters())if(!vf(t)&&!Oa(t))return!1;return!0}return!1}(n)}function Gd(n){if(Z(n instanceof Ir||n instanceof Wr),n instanceof Ir)return n;if(1===n.filters.length)return Gd(n.filters[0]);const e=n.filters.map(s=>Gd(s));let t=Wr.create(e,n.op);return t=zd(t),_f(t)?t:(Z(t instanceof Wr),Z(Td(t)),Z(t.filters.length>1),t.filters.reduce((s,a)=>Pl(s,a)))}function Pl(n,e){let t;return Z(n instanceof Ir||n instanceof Wr),Z(e instanceof Ir||e instanceof Wr),t=n instanceof Ir?e instanceof Ir?Wr.create([n,e],"and"):r0(n,e):e instanceof Ir?r0(e,n):function(s,a){if(Z(s.filters.length>0&&a.filters.length>0),Td(s)&&Td(a))return ob(s,a.getFilters());const l=Dl(s)?s:a,m=Dl(s)?a:s,b=l.filters.map(O=>Pl(O,m));return Wr.create(b,"or")}(n,e),zd(t)}function r0(n,e){if(Td(e))return ob(e,n.getFilters());{const t=e.filters.map(s=>Pl(n,s));return Wr.create(t,"or")}}function zd(n){if(Z(n instanceof Ir||n instanceof Wr),n instanceof Ir)return n;const e=n.getFilters();if(1===e.length)return zd(e[0]);if(Cl(n))return n;const t=e.map(a=>zd(a)),s=[];return t.forEach(a=>{a instanceof Ir?s.push(a):a instanceof Wr&&(a.op===n.op?s.push(...a.filters):s.push(a))}),1===s.length?s[0]:Wr.create(s,n.op)}class s0{constructor(){this.Je=new ay}addToCollectionParentIndex(e,t){return this.Je.add(t),kt.resolve()}getCollectionParents(e,t){return kt.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return kt.resolve()}deleteFieldIndex(e,t){return kt.resolve()}getDocumentsMatchingTarget(e,t){return kt.resolve(null)}getIndexType(e,t){return kt.resolve(0)}getFieldIndexes(e,t){return kt.resolve([])}getNextCollectionGroupToUpdate(e){return kt.resolve(null)}getMinOffset(e,t){return kt.resolve(Js.min())}getMinOffsetFromCollectionGroup(e,t){return kt.resolve(Js.min())}updateCollectionGroup(e,t,s){return kt.resolve()}updateIndexEntries(e,t){return kt.resolve()}}class ay{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Kr(xr.comparator),l=!a.has(s);return this.index[t]=a.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Kr(xr.comparator)).toArray()}}const Jp=new Uint8Array(0);class Ef{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new ay,this.Xe=new ou(s=>Md(s),(s,a)=>Rd(s,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const s=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const l={collectionId:s,parent:to(a)};return o0(e).put(l)}return kt.resolve()}getCollectionParents(e,t){const s=[],a=IDBKeyRange.bound([t,""],[Em(t),""],!1,!0);return o0(e).W(a).next(l=>{for(const m of l){if(m.collectionId!==t)break;s.push(au(m.parent))}return s})}addFieldIndex(e,t){const s=tg(e),a={indexId:(m=t).indexId,collectionGroup:m.collectionGroup,fields:m.fields.map(b=>[b.fieldPath.canonicalString(),b.kind])};var m;delete a.indexId;const l=s.add(a);if(t.indexState){const m=ng(e);return l.next(b=>{m.put(Q_(b,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return l.next()}deleteFieldIndex(e,t){const s=tg(e),a=ng(e),l=eg(e);return s.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=eg(e);let a=!0;const l=new Map;return kt.forEach(this.Ze(t),m=>this.tn(e,m).next(b=>{a&&(a=!!b),l.set(m,b)})).next(()=>{if(a){let m=pr();const b=[];return kt.forEach(l,(O,U)=>{var oe;v("IndexedDbIndexManager",`Using index ${oe=O,`id=${oe.indexId}|cg=${oe.collectionGroup}|f=${oe.fields.map(Er=>`${Er.fieldPath}:${Er.kind}`).join(",")}`} to execute ${Md(t)}`);const Oe=function(Er,mr){const fr=bl(mr);if(void 0===fr)return null;for(const vr of uf(Er,fr.fieldPath))switch(vr.op){case"array-contains-any":return vr.value.arrayValue.values||[];case"array-contains":return[vr.value]}return null}(U,O),it=function(Er,mr){const fr=new Map;for(const vr of yc(mr))for(const Hi of uf(Er,vr.fieldPath))switch(Hi.op){case"==":case"in":fr.set(vr.fieldPath.canonicalString(),Hi.value);break;case"not-in":case"!=":return fr.set(vr.fieldPath.canonicalString(),Hi.value),Array.from(fr.values())}return null}(U,O),Tt=function(Er,mr){const fr=[];let vr=!0;for(const Hi of yc(mr)){const bh=0===Hi.kind?hb(Er,Hi.fieldPath,Er.startAt):Mm(Er,Hi.fieldPath,Er.startAt);fr.push(bh.value),vr&&(vr=bh.inclusive)}return new ru(fr,vr)}(U,O),zt=function(Er,mr){const fr=[];let vr=!0;for(const Hi of yc(mr)){const bh=0===Hi.kind?Mm(Er,Hi.fieldPath,Er.endAt):hb(Er,Hi.fieldPath,Er.endAt);fr.push(bh.value),vr&&(vr=bh.inclusive)}return new ru(fr,vr)}(U,O),ln=this.en(O,U,Tt),Mn=this.en(O,U,zt),Or=this.nn(O,U,it),Hr=this.sn(O.indexId,Oe,ln,Tt.inclusive,Mn,zt.inclusive,Or);return kt.forEach(Hr,Er=>s.J(Er,t.limit).next(mr=>{mr.forEach(fr=>{const vr=En.fromSegments(fr.documentKey);m.has(vr)||(m=m.add(vr),b.push(vr))})}))}).next(()=>b)}return kt.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:n0(Wr.create(e.filters,"and")).map(s=>m_(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,s,a,l,m,b){const O=(null!=t?t.length:1)*Math.max(s.length,l.length),U=O/(null!=t?t.length:1),oe=[];for(let Oe=0;Oe<O;++Oe){const it=t?this.rn(t[Oe/U]):Jp,Tt=this.on(e,it,s[Oe%U],a),zt=this.un(e,it,l[Oe%U],m),ln=b.map(Mn=>this.on(e,it,Mn,!0));oe.push(...this.createRange(Tt,zt,ln))}return oe}on(e,t,s,a){const l=new zu(e,En.empty(),t,s);return a?l:l.Ue()}un(e,t,s,a){const l=new zu(e,En.empty(),t,s);return a?l.Ue():l}tn(e,t){const s=new t0(t),a=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(l=>{let m=null;for(const b of l)s.je(b)&&(!m||b.fields.length>m.fields.length)&&(m=b);return m})}getIndexType(e,t){let s=2;const a=this.Ze(t);return kt.forEach(a,l=>this.tn(e,l).next(m=>{m?0!==s&&m.fields.length<function(b){let O=new Kr(Si.comparator),U=!1;for(const oe of b.filters)for(const Oe of oe.getFlattenedFilters())Oe.field.isKeyField()||("array-contains"===Oe.op||"array-contains-any"===Oe.op?U=!0:O=O.add(Oe.field));for(const oe of b.orderBy)oe.field.isKeyField()||(O=O.add(oe.field));return O.size+(U?1:0)}(l)&&(s=1):s=0})).next(()=>null!==t.limit&&a.length>1&&2===s?1:s)}cn(e,t){const s=new Qp;for(const a of yc(e)){const l=t.data.field(a.fieldPath);if(null==l)return null;const m=s.qe(a.kind);Gu.Ie.ue(l,m)}return s.Fe()}rn(e){const t=new Qp;return Gu.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const s=new Qp;return Gu.Ie.ue(nu(this.databaseId,t),s.qe(function(a){const l=yc(a);return 0===l.length?0:l[l.length-1].kind}(e))),s.Fe()}nn(e,t,s){if(null===s)return[];let a=[];a.push(new Qp);let l=0;for(const m of yc(e)){const b=s[l++];for(const O of a)if(this.hn(t,m.fieldPath)&&Cd(b))a=this.ln(a,m,b);else{const U=O.qe(m.kind);Gu.Ie.ue(b,U)}}return this.fn(a)}en(e,t,s){return this.nn(e,t,s.position)}fn(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].Fe();return t}ln(e,t,s){const a=[...e],l=[];for(const m of s.arrayValue.values||[])for(const b of a){const O=new Qp;O.seed(b.Fe()),Gu.Ie.ue(m,O.qe(t.kind)),l.push(O)}return l}hn(e,t){return!!e.filters.find(s=>s instanceof Ir&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=tg(e),a=ng(e);return(t?s.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.W()).next(l=>{const m=[];return kt.forEach(l,b=>a.get([b.indexId,this.uid]).next(O=>{m.push(function(U,oe){const Oe=oe?new Dp(oe.sequenceNumber,new Js(Rl(oe.readTime),new En(au(oe.documentKey)),oe.largestBatchId)):Dp.empty(),it=U.fields.map(([Tt,zt])=>new Xh(Si.fromServerFormat(Tt),zt));return new ta(U.indexId,U.collectionGroup,it,Oe)}(b,O))})).next(()=>m)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,a)=>{const l=s.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==l?l:or(s.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const a=tg(e),l=ng(e);return this.dn(e).next(m=>a.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(b=>kt.forEach(b,O=>l.put(Q_(O.indexId,this.user,m,s)))))}updateIndexEntries(e,t){const s=new Map;return kt.forEach(t,(a,l)=>{const m=s.get(a.collectionGroup);return(m?kt.resolve(m):this.getFieldIndexes(e,a.collectionGroup)).next(b=>(s.set(a.collectionGroup,b),kt.forEach(b,O=>this._n(e,a,O).next(U=>{const oe=this.wn(l,O);return U.isEqual(oe)?kt.resolve():this.mn(e,l,O,U,oe)}))))})}gn(e,t,s,a){return eg(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.an(s,t.key),documentKey:t.key.path.toArray()})}yn(e,t,s,a){return eg(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.an(s,t.key),t.key.path.toArray()])}_n(e,t,s){const a=eg(e);let l=new Kr(Ol);return a.Z({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.an(s,t)])},(m,b)=>{l=l.add(new zu(s.indexId,t,b.arrayValue,b.directionalValue))}).next(()=>l)}wn(e,t){let s=new Kr(Ol);const a=this.cn(t,e);if(null==a)return s;const l=bl(t);if(null!=l){const m=e.data.field(l.fieldPath);if(Cd(m))for(const b of m.arrayValue.values||[])s=s.add(new zu(t.indexId,e.key,this.rn(b),a))}else s=s.add(new zu(t.indexId,e.key,Jp,a));return s}mn(e,t,s,a,l){v("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const m=[];return function(b,O,U,oe,Oe){const it=b.getIterator(),Tt=O.getIterator();let zt=xd(it),ln=xd(Tt);for(;zt||ln;){let Mn=!1,Or=!1;if(zt&&ln){const Hr=U(zt,ln);Hr<0?Or=!0:Hr>0&&(Mn=!0)}else null!=zt?Or=!0:Mn=!0;Mn?(oe(ln),ln=xd(Tt)):Or?(Oe(zt),zt=xd(it)):(zt=xd(it),ln=xd(Tt))}}(a,l,Ol,b=>{m.push(this.gn(e,t,s,b))},b=>{m.push(this.yn(e,t,s,b))}),kt.waitFor(m)}dn(e){let t=1;return ng(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,a,l)=>{l.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((m,b)=>Ol(m,b)).filter((m,b,O)=>!b||0!==Ol(m,O[b-1]));const a=[];a.push(e);for(const m of s){const b=Ol(m,e),O=Ol(m,t);if(0===b)a[0]=e.Ue();else if(b>0&&O<0)a.push(m),a.push(m.Ue());else if(O>0)break}a.push(t);const l=[];for(let m=0;m<a.length;m+=2){if(this.pn(a[m],a[m+1]))return[];l.push(IDBKeyRange.bound([a[m].indexId,this.uid,a[m].arrayValue,a[m].directionalValue,Jp,[]],[a[m+1].indexId,this.uid,a[m+1].arrayValue,a[m+1].directionalValue,Jp,[]]))}return l}pn(e,t){return Ol(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(a0)}getMinOffset(e,t){return kt.mapArray(this.Ze(t),s=>this.tn(e,s).next(a=>a||$())).next(a0)}}function o0(n){return ss(n,"collectionParents")}function eg(n){return ss(n,"indexEntries")}function tg(n){return ss(n,"indexConfiguration")}function ng(n){return ss(n,"indexState")}function a0(n){Z(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<n.length;s++){const a=n[s].indexState.offset;t_(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new Js(e.readTime,e.documentKey,t)}const u0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class mo{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new mo(e,mo.DEFAULT_COLLECTION_PERCENTILE,mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function uy(n,e,t){const s=n.store("mutations"),a=n.store("documentMutations"),l=[],m=IDBKeyRange.only(t.batchId);let b=0;const O=s.Z({range:m},(oe,Oe,it)=>(b++,it.delete()));l.push(O.next(()=>{Z(1===b)}));const U=[];for(const oe of t.mutations){const Oe=Wp(e,oe.key.path,t.batchId);l.push(a.delete(Oe)),U.push(oe.key)}return kt.waitFor(l).next(()=>U)}function Wd(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw $();e=n.noDocument}return JSON.stringify(e).length}mo.DEFAULT_COLLECTION_PERCENTILE=10,mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mo.DEFAULT=new mo(41943040,mo.DEFAULT_COLLECTION_PERCENTILE,mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mo.DISABLED=new mo(-1,0,0);class rg{constructor(e,t,s,a){this.userId=e,this.yt=t,this.indexManager=s,this.referenceDelegate=a,this.In={}}static re(e,t,s,a){Z(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new rg(l,t,s,a)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Mc(e).Z({index:"userMutationsIndex",range:s},(a,l,m)=>{t=!1,m.done()}).next(()=>t)}addMutationBatch(e,t,s,a){const l=Kd(e),m=Mc(e);return m.add({}).next(b=>{Z("number"==typeof b);const O=new pf(b,t,s,a),U=function(it,Tt,zt){const ln=zt.baseMutations.map(Or=>zp(it.ie,Or)),Mn=zt.mutations.map(Or=>zp(it.ie,Or));return{userId:Tt,batchId:zt.batchId,localWriteTimeMs:zt.localWriteTime.toMillis(),baseMutations:ln,mutations:Mn}}(this.yt,this.userId,O),oe=[];let Oe=new Kr((it,Tt)=>or(it.canonicalString(),Tt.canonicalString()));for(const it of a){const Tt=Wp(this.userId,it.key.path,b);Oe=Oe.add(it.key.path.popLast()),oe.push(m.put(U)),oe.push(l.put(Tt,jd))}return Oe.forEach(it=>{oe.push(this.indexManager.addToCollectionParentIndex(e,it))}),e.addOnCommittedListener(()=>{this.In[b]=O.keys()}),kt.waitFor(oe).next(()=>O)})}lookupMutationBatch(e,t){return Mc(e).get(t).next(s=>s?(Z(s.userId===this.userId),xc(this.yt,s)):null)}Tn(e,t){return this.In[t]?kt.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const a=s.keys();return this.In[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=IDBKeyRange.lowerBound([this.userId,s]);let l=null;return Mc(e).Z({index:"userMutationsIndex",range:a},(m,b,O)=>{b.userId===this.userId&&(Z(b.batchId>=s),l=xc(this.yt,b)),O.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Mc(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(a,l,m)=>{s=l.batchId,m.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Mc(e).W("userMutationsIndex",t).next(s=>s.map(a=>xc(this.yt,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=Hu(this.userId,t.path),a=IDBKeyRange.lowerBound(s),l=[];return Kd(e).Z({range:a},(m,b,O)=>{const[U,oe,Oe]=m,it=au(oe);if(U===this.userId&&t.path.isEqual(it))return Mc(e).get(Oe).next(Tt=>{if(!Tt)throw $();Z(Tt.userId===this.userId),l.push(xc(this.yt,Tt))});O.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Kr(or);const a=[];return t.forEach(l=>{const m=Hu(this.userId,l.path),b=IDBKeyRange.lowerBound(m),O=Kd(e).Z({range:b},(U,oe,Oe)=>{const[it,Tt,zt]=U,ln=au(Tt);it===this.userId&&l.path.isEqual(ln)?s=s.add(zt):Oe.done()});a.push(O)}),kt.waitFor(a).next(()=>this.En(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1,l=Hu(this.userId,s),m=IDBKeyRange.lowerBound(l);let b=new Kr(or);return Kd(e).Z({range:m},(O,U,oe)=>{const[Oe,it,Tt]=O,zt=au(it);Oe===this.userId&&s.isPrefixOf(zt)?zt.length===a&&(b=b.add(Tt)):oe.done()}).next(()=>this.En(e,b))}En(e,t){const s=[],a=[];return t.forEach(l=>{a.push(Mc(e).get(l).next(m=>{if(null===m)throw $();Z(m.userId===this.userId),s.push(xc(this.yt,m))}))}),kt.waitFor(a).next(()=>s)}removeMutationBatch(e,t){return uy(e.se,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),kt.forEach(s,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return kt.resolve();const s=IDBKeyRange.lowerBound([this.userId]),a=[];return Kd(e).Z({range:s},(l,m,b)=>{if(l[0]===this.userId){const O=au(l[1]);a.push(O)}else b.done()}).next(()=>{Z(0===a.length)})})}containsKey(e,t){return ig(e,this.userId,t)}Rn(e){return c0(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function ig(n,e,t){const s=Hu(e,t.path),a=s[1],l=IDBKeyRange.lowerBound(s);let m=!1;return Kd(n).Z({range:l,X:!0},(b,O,U)=>{const[oe,Oe,it]=b;oe===e&&Oe===a&&(m=!0),U.done()}).next(()=>m)}function Mc(n){return ss(n,"mutations")}function Kd(n){return ss(n,"documentMutations")}function c0(n){return ss(n,"mutationQueues")}class Nl{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Nl(0)}static vn(){return new Nl(-1)}}class Ob{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const s=new Nl(t.highestTargetId);return t.highestTargetId=s.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Yn.fromTimestamp(new Xr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.Vn(e).next(a=>(a.highestListenSequenceNumber=t,s&&(a.lastRemoteSnapshotVersion=s.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.Sn(e,a)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(s=>(s.targetCount+=1,this.Cn(t,s),this.Sn(e,s))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Yd(e).delete(t.targetId)).next(()=>this.Vn(e)).next(s=>(Z(s.targetCount>0),s.targetCount-=1,this.Sn(e,s)))}removeTargets(e,t,s){let a=0;const l=[];return Yd(e).Z((m,b)=>{const O=Hd(b);O.sequenceNumber<=t&&null===s.get(O.targetId)&&(a++,l.push(this.removeTargetData(e,O)))}).next(()=>kt.waitFor(l)).next(()=>a)}forEachTarget(e,t){return Yd(e).Z((s,a)=>{const l=Hd(a);t(l)})}Vn(e){return bf(e).get("targetGlobalKey").next(t=>(Z(null!==t),t))}Sn(e,t){return bf(e).put("targetGlobalKey",t)}Dn(e,t){return Yd(e).put(Z_(this.yt,t))}Cn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const s=Md(t),a=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let l=null;return Yd(e).Z({range:a,index:"queryTargetsIndex"},(m,b,O)=>{const U=Hd(b);Rd(t,U.target)&&(l=U,O.done())}).next(()=>l)}addMatchingKeys(e,t,s){const a=[],l=yo(e);return t.forEach(m=>{const b=to(m.path);a.push(l.put({targetId:s,path:b})),a.push(this.referenceDelegate.addReference(e,s,m))}),kt.waitFor(a)}removeMatchingKeys(e,t,s){const a=yo(e);return kt.forEach(t,l=>{const m=to(l.path);return kt.waitFor([a.delete([s,m]),this.referenceDelegate.removeReference(e,s,l)])})}removeMatchingKeysForTargetId(e,t){const s=yo(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(a)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),a=yo(e);let l=pr();return a.Z({range:s,X:!0},(m,b,O)=>{const U=au(m[1]),oe=new En(U);l=l.add(oe)}).next(()=>l)}containsKey(e,t){const s=to(t.path),a=IDBKeyRange.bound([s],[Em(s)],!1,!0);let l=0;return yo(e).Z({index:"documentTargetsIndex",X:!0,range:a},([m,b],O,U)=>{0!==m&&(l++,U.done())}).next(()=>l>0)}ne(e,t){return Yd(e).get(t).next(s=>s?Hd(s):null)}}function Yd(n){return ss(n,"targets")}function bf(n){return ss(n,"targetGlobal")}function yo(n){return ss(n,"targetDocuments")}function Pb([n,e],[t,s]){const a=or(n,t);return 0===a?or(e,s):a}class wf{constructor(e){this.xn=e,this.buffer=new Kr(Pb),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Pb(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Nb{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;v("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,z.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(s){Ja(s)?v("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield vc(s)}yield t.Fn(3e5)}))}}class kb{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return kt.resolve(Fo.at);const s=new wf(t);return this.$n.forEachTarget(e,a=>s.On(a.sequenceNumber)).next(()=>this.$n.Ln(e,a=>s.On(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.$n.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(v("LruGarbageCollector","Garbage collection skipped; disabled"),kt.resolve(u0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(v("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),u0):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let s,a,l,m,b,O,U;const oe=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Oe=>(Oe>this.params.maximumSequenceNumbersToCollect?(v("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Oe}`),a=this.params.maximumSequenceNumbersToCollect):a=Oe,m=Date.now(),this.nthSequenceNumber(e,a))).next(Oe=>(s=Oe,b=Date.now(),this.removeTargets(e,s,t))).next(Oe=>(l=Oe,O=Date.now(),this.removeOrphanedDocuments(e,s))).next(Oe=>(U=Date.now(),El()<=Ot.in.DEBUG&&v("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${m-oe}ms\n\tDetermined least recently used ${a} in `+(b-m)+`ms\n\tRemoved ${l} targets in `+(O-b)+`ms\n\tRemoved ${Oe} documents in `+(U-O)+`ms\nTotal Duration: ${U-oe}ms`),kt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:Oe})))}}class cy{constructor(e,t){this.db=e,this.garbageCollector=new kb(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}Un(e){let t=0;return this.Ln(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(s,a)=>t(a))}addReference(e,t,s){return sg(e,s)}removeReference(e,t,s){return sg(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return sg(e,t)}Gn(e,t){return function(s,a){let l=!1;return c0(s).tt(m=>ig(s,m,a).next(b=>(b&&(l=!0),kt.resolve(!b)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.Kn(e,(m,b)=>{if(b<=t){const O=this.Gn(e,m).next(U=>{if(!U)return l++,s.getEntry(e,m).next(()=>(s.removeEntry(m,Yn.min()),yo(e).delete([0,to(m.path)])))});a.push(O)}}).next(()=>kt.waitFor(a)).next(()=>s.apply(e)).next(()=>l)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return sg(e,t)}Kn(e,t){const s=yo(e);let a,l=Fo.at;return s.Z({index:"documentTargetsIndex"},([m,b],{path:O,sequenceNumber:U})=>{0===m?(l!==Fo.at&&t(new En(au(a)),l),l=U,a=O):l=Fo.at}).next(()=>{l!==Fo.at&&t(new En(au(a)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function sg(n,e){return yo(n).put((s=n.currentSequenceNumber,{targetId:0,path:to(e.path),sequenceNumber:s}));var s}class Pa{constructor(){this.changes=new ou(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ai.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?kt.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class If{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return os(e).put(s)}removeEntry(e,t,s){return os(e).delete(function(a,l){const m=a.path.toArray();return[m.slice(0,m.length-2),m[m.length-2],gf(l),m[m.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Qn(e,s)))}getEntry(e,t){let s=ai.newInvalidDocument(t);return os(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Fl(t))},(a,l)=>{s=this.jn(t,l)}).next(()=>s)}Wn(e,t){let s={size:0,document:ai.newInvalidDocument(t)};return os(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Fl(t))},(a,l)=>{s={document:this.jn(t,l),size:Wd(l)}}).next(()=>s)}getEntries(e,t){let s=js();return this.zn(e,t,(a,l)=>{const m=this.jn(a,l);s=s.insert(a,m)}).next(()=>s)}Hn(e,t){let s=js(),a=new Ti(En.comparator);return this.zn(e,t,(l,m)=>{const b=this.jn(l,m);s=s.insert(l,b),a=a.insert(l,Wd(m))}).next(()=>({documents:s,Jn:a}))}zn(e,t,s){if(t.isEmpty())return kt.resolve();let a=new Kr(Bl);t.forEach(O=>a=a.add(O));const l=IDBKeyRange.bound(Fl(a.first()),Fl(a.last())),m=a.getIterator();let b=m.getNext();return os(e).Z({index:"documentKeyIndex",range:l},(O,U,oe)=>{const Oe=En.fromSegments([...U.prefixPath,U.collectionGroup,U.documentId]);for(;b&&Bl(b,Oe)<0;)s(b,null),b=m.getNext();b&&b.isEqual(Oe)&&(s(b,U),b=m.hasNext()?m.getNext():null),b?oe.j(Fl(b)):oe.done()}).next(()=>{for(;b;)s(b,null),b=m.hasNext()?m.getNext():null})}getAllFromCollection(e,t,s){const a=[t.popLast().toArray(),t.lastSegment(),gf(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],l=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return os(e).W(IDBKeyRange.bound(a,l,!0)).next(m=>{let b=js();for(const O of m){const U=this.jn(En.fromSegments(O.prefixPath.concat(O.collectionGroup,O.documentId)),O);b=b.insert(U.key,U)}return b})}getAllFromCollectionGroup(e,t,s,a){let l=js();const m=Ll(t,s),b=Ll(t,Js.max());return os(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(m,b,!0)},(O,U,oe)=>{const Oe=this.jn(En.fromSegments(U.prefixPath.concat(U.collectionGroup,U.documentId)),U);l=l.insert(Oe.key,Oe),l.size===a&&oe.done()}).next(()=>l)}newChangeBuffer(e){return new kl(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Df(e).get("remoteDocumentGlobalKey").next(t=>(Z(!!t),t))}Qn(e,t){return Df(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const s=function Y_(n,e){let t;if(e.document)t=Db(n.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=En.fromSegments(e.noDocument.path),a=Rl(e.noDocument.readTime);t=ai.newNoDocument(s,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return $();{const s=En.fromSegments(e.unknownDocument.path),a=Rl(e.unknownDocument.version);t=ai.newUnknownDocument(s,a)}}return e.readTime&&t.setReadTime(function(s){const a=new Xr(s[0],s[1]);return Yn.fromTimestamp(a)}(e.readTime)),t}(this.yt,t);if(!s.isNoDocument()||!s.version.isEqual(Yn.min()))return s}return ai.newInvalidDocument(e)}}function Ss(n){return new If(n)}class kl extends Pa{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new ou(s=>s.toString(),(s,a)=>s.isEqual(a))}applyChanges(e){const t=[];let s=0,a=new Kr((l,m)=>or(l.canonicalString(),m.canonicalString()));return this.changes.forEach((l,m)=>{const b=this.Xn.get(l);if(t.push(this.Yn.removeEntry(e,l,b.readTime)),m.isValidDocument()){const O=q_(this.Yn.yt,m);a=a.add(l.path.popLast()),s+=Wd(O)-b.size,t.push(this.Yn.addEntry(e,l,O))}else if(s-=b.size,this.trackRemovals){const O=q_(this.Yn.yt,m.convertToNoDocument(Yn.min()));t.push(this.Yn.addEntry(e,l,O))}}),a.forEach(l=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.Yn.updateMetadata(e,s)),kt.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(s=>(this.Xn.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:s,Jn:a})=>(a.forEach((l,m)=>{this.Xn.set(l,{size:m,readTime:s.get(l).readTime})}),s))}}function Df(n){return ss(n,"remoteDocumentGlobal")}function os(n){return ss(n,"remoteDocumentsV14")}function Fl(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Ll(n,e){const t=e.documentKey.path.toArray();return[n,gf(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Bl(n,e){const t=n.path.toArray(),s=e.path.toArray();let a=0;for(let l=0;l<t.length-2&&l<s.length-2;++l)if(a=or(t[l],s[l]),a)return a;return a=or(t.length,s.length),a||(a=or(t[t.length-2],s[s.length-2]),a||or(t[t.length-1],s[s.length-1]))}class qd{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Vl{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==s&&su(s.mutation,a,Lo.empty(),Xr.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,pr()).next(()=>s))}getLocalViewOfDocuments(e,t,s=pr()){const a=xa();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(l=>{let m=$p();return l.forEach((b,O)=>{m=m.insert(b,O.overlayedDocument)}),m}))}getOverlayedDocuments(e,t){const s=xa();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,pr()))}populateOverlays(e,t,s){const a=[];return s.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((m,b)=>{t.set(m,b)})})}computeViews(e,t,s,a){let l=js();const m=Sc(),b=Sc();return t.forEach((O,U)=>{const oe=s.get(U.key);a.has(U.key)&&(void 0===oe||oe.mutation instanceof $u)?l=l.insert(U.key,U):void 0!==oe&&(m.set(U.key,oe.mutation.getFieldMask()),su(oe.mutation,U,oe.mutation.getFieldMask(),Xr.now()))}),this.recalculateAndSaveOverlays(e,l).next(O=>(O.forEach((U,oe)=>m.set(U,oe)),t.forEach((U,oe)=>{var Oe;return b.set(U,new qd(oe,null!==(Oe=m.get(U))&&void 0!==Oe?Oe:null))}),b))}recalculateAndSaveOverlays(e,t){const s=Sc();let a=new Ti((m,b)=>m-b),l=pr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(m=>{for(const b of m)b.keys().forEach(O=>{const U=t.get(O);if(null===U)return;let oe=s.get(O)||Lo.empty();oe=b.applyToLocalView(U,oe),s.set(O,oe);const Oe=(a.get(b.batchId)||pr()).add(O);a=a.insert(b.batchId,Oe)})}).next(()=>{const m=[],b=a.getReverseIterator();for(;b.hasNext();){const O=b.getNext(),U=O.key,oe=O.value,Oe=Hm();oe.forEach(it=>{if(!l.has(it)){const Tt=pb(t.get(it),s.get(it));null!==Tt&&Oe.set(it,Tt),l=l.add(it)}}),m.push(this.documentOverlayCache.saveOverlays(e,U,Oe))}return kt.waitFor(m)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return En.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):kp(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var a}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(l=>{const m=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-l.size):kt.resolve(xa());let b=-1,O=l;return m.next(U=>kt.forEach(U,(oe,Oe)=>(b<Oe.largestBatchId&&(b=Oe.largestBatchId),l.get(oe)?kt.resolve():this.remoteDocumentCache.getEntry(e,oe).next(it=>{O=O.insert(oe,it)}))).next(()=>this.populateOverlays(e,U,l)).next(()=>this.computeViews(e,O,U,pr())).next(oe=>({batchId:b,changes:Tl(oe)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new En(t)).next(s=>{let a=$p();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const a=t.collectionGroup;let l=$p();return this.indexManager.getCollectionParents(e,a).next(m=>kt.forEach(m,b=>{const O=(U=t,oe=b.child(a),new Bu(oe,null,U.explicitOrderBy.slice(),U.filters.slice(),U.limit,U.limitType,U.startAt,U.endAt));var U,oe;return this.getDocumentsMatchingCollectionQuery(e,O,s).next(U=>{U.forEach((oe,Oe)=>{l=l.insert(oe,Oe)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,s){let a;return this.remoteDocumentCache.getAllFromCollection(e,t.path,s).next(l=>(a=l,this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId))).next(l=>{l.forEach((b,O)=>{const U=O.getKey();null===a.get(U)&&(a=a.insert(U,ai.newInvalidDocument(U)))});let m=$p();return a.forEach((b,O)=>{const U=l.get(b);void 0!==U&&su(U.mutation,O,Lo.empty(),Xr.now()),Nm(t,O)&&(m=m.insert(b,O))}),m})}}class Zd{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return kt.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var s;return this.Zn.set(t.id,{id:(s=t).id,version:s.version,createTime:xi(s.createTime)}),kt.resolve()}getNamedQuery(e,t){return kt.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(s=t).name,query:ia(s.bundledQuery),readTime:xi(s.readTime)}),kt.resolve();var s}}class Xd{constructor(){this.overlays=new Ti(En.comparator),this.es=new Map}getOverlay(e,t){return kt.resolve(this.overlays.get(t))}getOverlays(e,t){const s=xa();return kt.forEach(t,a=>this.getOverlay(e,a).next(l=>{null!==l&&s.set(a,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,l)=>{this.oe(e,t,l)}),kt.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.es.get(s);return void 0!==a&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.es.delete(s)),kt.resolve()}getOverlaysForCollection(e,t,s){const a=xa(),l=t.length+1,m=new En(t.child("")),b=this.overlays.getIteratorFrom(m);for(;b.hasNext();){const O=b.getNext().value,U=O.getKey();if(!t.isPrefixOf(U.path))break;U.path.length===l&&O.largestBatchId>s&&a.set(O.getKey(),O)}return kt.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let l=new Ti((U,oe)=>U-oe);const m=this.overlays.getIterator();for(;m.hasNext();){const U=m.getNext().value;if(U.getKey().getCollectionGroup()===t&&U.largestBatchId>s){let oe=l.get(U.largestBatchId);null===oe&&(oe=xa(),l=l.insert(U.largestBatchId,oe)),oe.set(U.getKey(),U)}}const b=xa(),O=l.getIterator();for(;O.hasNext()&&(O.getNext().value.forEach((U,oe)=>b.set(U,oe)),!(b.size()>=a)););return kt.resolve(b)}oe(e,t,s){const a=this.overlays.get(s.key);if(null!==a){const m=this.es.get(a.largestBatchId).delete(s.key);this.es.set(a.largestBatchId,m)}this.overlays=this.overlays.insert(s.key,new ny(t,s));let l=this.es.get(t);void 0===l&&(l=pr(),this.es.set(t,l)),this.es.set(t,l.add(s.key))}}class Rc{constructor(){this.ns=new Kr(_i.ss),this.rs=new Kr(_i.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const s=new _i(e,t);this.ns=this.ns.add(s),this.rs=this.rs.add(s)}us(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.cs(new _i(e,t))}hs(e,t){e.forEach(s=>this.removeReference(s,t))}ls(e){const t=new En(new xr([])),s=new _i(t,e),a=new _i(t,e+1),l=[];return this.rs.forEachInRange([s,a],m=>{this.cs(m),l.push(m.key)}),l}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new En(new xr([])),s=new _i(t,e),a=new _i(t,e+1);let l=pr();return this.rs.forEachInRange([s,a],m=>{l=l.add(m.key)}),l}containsKey(e){const t=new _i(e,0),s=this.ns.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class _i{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return En.comparator(e.key,t.key)||or(e._s,t._s)}static os(e,t){return or(e._s,t._s)||En.comparator(e.key,t.key)}}class Qd{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Kr(_i.ss)}checkEmpty(e){return kt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,a){const l=this.ws;this.ws++;const m=new pf(l,t,s,a);this.mutationQueue.push(m);for(const b of a)this.gs=this.gs.add(new _i(b.key,l)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return kt.resolve(m)}lookupMutationBatch(e,t){return kt.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.ps(t+1),l=a<0?0:a;return kt.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return kt.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return kt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new _i(t,0),a=new _i(t,Number.POSITIVE_INFINITY),l=[];return this.gs.forEachInRange([s,a],m=>{const b=this.ys(m._s);l.push(b)}),kt.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Kr(or);return t.forEach(a=>{const l=new _i(a,0),m=new _i(a,Number.POSITIVE_INFINITY);this.gs.forEachInRange([l,m],b=>{s=s.add(b._s)})}),kt.resolve(this.Is(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let l=s;En.isDocumentKey(l)||(l=l.child(""));const m=new _i(new En(l),0);let b=new Kr(or);return this.gs.forEachWhile(O=>{const U=O.key.path;return!!s.isPrefixOf(U)&&(U.length===a&&(b=b.add(O._s)),!0)},m),kt.resolve(this.Is(b))}Is(e){const t=[];return e.forEach(s=>{const a=this.ys(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){Z(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let s=this.gs;return kt.forEach(t.mutations,a=>{const l=new _i(a.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.gs=s})}An(e){}containsKey(e,t){const s=new _i(t,0),a=this.gs.firstAfterOrEqual(s);return kt.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return kt.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class l0{constructor(e){this.Es=e,this.docs=new Ti(En.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),l=a?a.size:0,m=this.Es(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:m}),this.size+=m-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return kt.resolve(s?s.document.mutableCopy():ai.newInvalidDocument(t))}getEntries(e,t){let s=js();return t.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():ai.newInvalidDocument(a))}),kt.resolve(s)}getAllFromCollection(e,t,s){let a=js();const l=new En(t.child("")),m=this.docs.getIteratorFrom(l);for(;m.hasNext();){const{key:b,value:{document:O}}=m.getNext();if(!t.isPrefixOf(b.path))break;b.path.length>t.length+1||t_(Cp(O),s)<=0||(a=a.insert(O.key,O.mutableCopy()))}return kt.resolve(a)}getAllFromCollectionGroup(e,t,s,a){$()}As(e,t){return kt.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new d0(this)}getSize(e){return kt.resolve(this.size)}}class d0 extends Pa{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.Yn.addEntry(e,a)):this.Yn.removeEntry(s)}),kt.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class h0{constructor(e){this.persistence=e,this.Rs=new ou(t=>Md(t),Rd),this.lastRemoteSnapshotVersion=Yn.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Rc,this.targetCount=0,this.vs=Nl.Pn()}forEachTarget(e,t){return this.Rs.forEach((s,a)=>t(a)),kt.resolve()}getLastRemoteSnapshotVersion(e){return kt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return kt.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),kt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.bs&&(this.bs=t),kt.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Nl(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,kt.resolve()}updateTargetData(e,t){return this.Dn(t),kt.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,kt.resolve()}removeTargets(e,t,s){let a=0;const l=[];return this.Rs.forEach((m,b)=>{b.sequenceNumber<=t&&null===s.get(b.targetId)&&(this.Rs.delete(m),l.push(this.removeMatchingKeysForTargetId(e,b.targetId)),a++)}),kt.waitFor(l).next(()=>a)}getTargetCount(e){return kt.resolve(this.targetCount)}getTargetData(e,t){const s=this.Rs.get(t)||null;return kt.resolve(s)}addMatchingKeys(e,t,s){return this.Ps.us(t,s),kt.resolve()}removeMatchingKeys(e,t,s){this.Ps.hs(t,s);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(m=>{l.push(a.markPotentiallyOrphaned(e,m))}),kt.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),kt.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Ps.ds(t);return kt.resolve(s)}containsKey(e,t){return kt.resolve(this.Ps.containsKey(t))}}class ly{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Fo(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new h0(this),this.indexManager=new s0,this.remoteDocumentCache=new l0(s=>this.referenceDelegate.xs(s)),this.yt=new K_(t),this.Ns=new Zd(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Xd,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Vs[e.toKey()];return s||(s=new Qd(t,this.referenceDelegate),this.Vs[e.toKey()]=s),s}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,s){v("MemoryPersistence","Starting transaction:",e);const a=new f0(this.Ss.next());return this.referenceDelegate.ks(),s(a).next(l=>this.referenceDelegate.Os(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ms(e,t){return kt.or(Object.values(this.Vs).map(s=>()=>s.containsKey(e,t)))}}class f0 extends bm{constructor(e){super(),this.currentSequenceNumber=e}}class Cf{constructor(e){this.persistence=e,this.Fs=new Rc,this.$s=null}static Bs(e){return new Cf(e)}get Ls(){if(this.$s)return this.$s;throw $()}addReference(e,t,s){return this.Fs.addReference(s,t),this.Ls.delete(s.toString()),kt.resolve()}removeReference(e,t,s){return this.Fs.removeReference(s,t),this.Ls.add(s.toString()),kt.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),kt.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(a=>this.Ls.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.Ls.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return kt.forEach(this.Ls,s=>{const a=En.fromPath(s);return this.qs(e,a).next(l=>{l||t.removeEntry(a,Yn.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(s=>{s?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return kt.or([()=>kt.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class p0{constructor(e){this.yt=e}$(e,t,s,a){const l=new Sp("createOrUpgrade",t);var b;s<1&&a>=1&&(e.createObjectStore("owner"),(b=e).createObjectStore("mutationQueues",{keyPath:"userId"}),b.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ff,{unique:!0}),b.createObjectStore("documentMutations"),dy(e),function(b){b.createObjectStore("remoteDocuments")}(e));let m=kt.resolve();return s<3&&a>=3&&(0!==s&&(function(b){b.deleteObjectStore("targetDocuments"),b.deleteObjectStore("targets"),b.deleteObjectStore("targetGlobal")}(e),dy(e)),m=m.next(()=>function(b){const O=b.store("targetGlobal"),U={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Yn.min().toTimestamp(),targetCount:0};return O.put("targetGlobalKey",U)}(l))),s<4&&a>=4&&(0!==s&&(m=m.next(()=>function(b,O){return O.store("mutations").W().next(U=>{b.deleteObjectStore("mutations"),b.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ff,{unique:!0});const oe=O.store("mutations"),Oe=U.map(it=>oe.put(it));return kt.waitFor(Oe)})}(e,l))),m=m.next(()=>{!function(b){b.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&a>=5&&(m=m.next(()=>this.Us(l))),s<6&&a>=6&&(m=m.next(()=>(function(b){b.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(l)))),s<7&&a>=7&&(m=m.next(()=>this.Gs(l))),s<8&&a>=8&&(m=m.next(()=>this.Qs(e,l))),s<9&&a>=9&&(m=m.next(()=>{!function(b){b.objectStoreNames.contains("remoteDocumentChanges")&&b.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&a>=10&&(m=m.next(()=>this.js(l))),s<11&&a>=11&&(m=m.next(()=>{(function(b){b.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(b){b.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&a>=12&&(m=m.next(()=>{!function(b){const O=b.createObjectStore("documentOverlays",{keyPath:G_});O.createIndex("collectionPathOverlayIndex",Ab,{unique:!1}),O.createIndex("collectionGroupOverlayIndex",z_,{unique:!1})}(e)})),s<13&&a>=13&&(m=m.next(()=>function(b){const O=b.createObjectStore("remoteDocumentsV14",{keyPath:Zm});O.createIndex("documentKeyIndex",Kp),O.createIndex("collectionGroupIndex",U_)}(e)).next(()=>this.Ws(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&a>=14&&(m=m.next(()=>this.zs(e,l))),s<15&&a>=15&&(m=m.next(()=>function(b){b.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),b.createObjectStore("indexState",{keyPath:Jm}).createIndex("sequenceNumberIndex",Sb,{unique:!1}),b.createObjectStore("indexEntries",{keyPath:NI}).createIndex("documentKeyIndex",Tb,{unique:!1})}(e))),m}Ks(e){let t=0;return e.store("remoteDocuments").Z((s,a)=>{t+=Wd(a)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Us(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.W().next(a=>kt.forEach(a,l=>{const m=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return s.W("userMutationsIndex",m).next(b=>kt.forEach(b,O=>{Z(O.userId===l.userId);const U=xc(this.yt,O);return uy(e,l.userId,U).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const l=[];return s.Z((m,b)=>{const O=new xr(m),U=[0,to(O)];l.push(t.get(U).next(oe=>oe?kt.resolve():t.put({targetId:0,path:to(O),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>kt.waitFor(l))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:H_});const s=t.store("collectionParents"),a=new ay,l=m=>{if(a.add(m)){const b=m.lastSegment(),O=m.popLast();return s.put({collectionId:b,parent:to(O)})}};return t.store("remoteDocuments").Z({X:!0},(m,b)=>{const O=new xr(m);return l(O.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([m,b,O],U)=>{const oe=au(b);return l(oe.popLast())}))}js(e){const t=e.store("targets");return t.Z((s,a)=>{const l=Hd(a),m=Z_(this.yt,l);return t.put(m)})}Ws(e,t){const s=t.store("remoteDocuments"),a=[];return s.Z((l,m)=>{const b=t.store("remoteDocumentsV14"),O=(U=m,U.document?new En(xr.fromString(U.document.name).popFirst(5)):U.noDocument?En.fromSegments(U.noDocument.path):U.unknownDocument?En.fromSegments(U.unknownDocument.path):$()).path.toArray();var U;const oe={prefixPath:O.slice(0,O.length-2),collectionGroup:O[O.length-2],documentId:O[O.length-1],readTime:m.readTime||[0,0],unknownDocument:m.unknownDocument,noDocument:m.noDocument,document:m.document,hasCommittedMutations:!!m.hasCommittedMutations};a.push(b.put(oe))}).next(()=>kt.waitFor(a))}zs(e,t){const s=t.store("mutations"),a=Ss(this.yt),l=new ly(Cf.Bs,this.yt.ie);return s.W().next(m=>{const b=new Map;return m.forEach(O=>{var U;let oe=null!==(U=b.get(O.userId))&&void 0!==U?U:pr();xc(this.yt,O).keys().forEach(Oe=>oe=oe.add(Oe)),b.set(O.userId,oe)}),kt.forEach(b,(O,U)=>{const oe=new mi(U),Oe=qp.re(this.yt,oe),it=l.getIndexManager(oe),Tt=rg.re(oe,this.yt,it,l.referenceDelegate);return new Vl(a,Tt,Oe,it).recalculateAndSaveOverlaysForDocumentKeys(new W_(t,Fo.at),O).next()})})}}function dy(n){n.createObjectStore("targetDocuments",{keyPath:Xm}).createIndex("documentTargetsIndex",Qm,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",j_,{unique:!0}),n.createObjectStore("targetGlobal")}const og="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class hy{constructor(e,t,s,a,l,m,b,O,U,oe,Oe=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.Hs=l,this.window=m,this.document=b,this.Js=U,this.Ys=oe,this.Xs=Oe,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=it=>Promise.resolve(),!hy.C())throw new Dt(Je.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new cy(this,a),this.ii=t+"main",this.yt=new K_(O),this.ri=new na(this.ii,this.Xs,new p0(this.yt)),this.Cs=new Ob(this.referenceDelegate,this.yt),this.remoteDocumentCache=Ss(this.yt),this.Ns=new kI,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===oe&&h("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Dt(Je.FAILED_PRECONDITION,og);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Fo(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var s=(0,z.Z)(function*(a){if(t.started)return e(a)});return function(a){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,z.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,z.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Tf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Ja(e))return v("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return v("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Sf(e).get("owner").next(t=>kt.resolve(this.mi(t)))}gi(e){return Tf(e).delete(this.clientId)}yi(){var e=this;return(0,z.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const a=ss(s,"clientMetadata");return a.W().next(l=>{const m=e.Ii(l,18e5),b=l.filter(O=>-1===m.indexOf(O));return kt.forEach(b,O=>a.delete(O.clientId)).next(()=>b)})}).catch(()=>[]);if(e.oi)for(const s of t)e.oi.removeItem(e.Ti(s.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?kt.resolve(!0):Sf(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Dt(Je.FAILED_PRECONDITION,og);return!1}}return!(!this.networkEnabled||!this.inForeground)||Tf(e).W().next(s=>void 0===this.Ii(s,5e3).find(a=>{if(this.clientId!==a.clientId){const m=!this.inForeground&&a.inForeground,b=this.networkEnabled===a.networkEnabled;if(!this.networkEnabled&&a.networkEnabled||m&&b)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&v("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,z.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new W_(t,Fo.at);return e._i(s).next(()=>e.gi(s))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(s=>this.pi(s.updateTimeMs,t)&&!this.Ei(s.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Tf(e).W().next(t=>this.Ii(t,18e5).map(s=>s.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return rg.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Ef(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return qp.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,s){v("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===t?"readonly":"readwrite",l=15===(m=this.Xs)?Mb:14===m?ty:13===m?go:12===m?xb:11===m?ey:void $();var m;let b;return this.ri.runTransaction(e,a,l,O=>(b=new W_(O,this.Ss?this.Ss.next():Fo.at),"readwrite-primary"===t?this.fi(b).next(U=>!!U||this.di(b)).next(U=>{if(!U)throw h(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Dt(Je.FAILED_PRECONDITION,JE);return s(b)}).next(U=>this.wi(b).next(()=>U)):this.Vi(b).next(()=>s(b)))).then(O=>(b.raiseOnCommittedEvent(),O))}Vi(e){return Sf(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Dt(Je.FAILED_PRECONDITION,og)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Sf(e).put("owner",t)}static C(){return na.C()}_i(e){const t=Sf(e);return t.get("owner").next(s=>this.mi(s)?(v("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):kt.resolve())}pi(e,t){const s=Date.now();return!(e<s-t||e>s&&(h(`Detected an update time that is in the future: ${e} > ${s}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,gn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const s=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return v("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return h("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){h("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Sf(n){return ss(n,"owner")}function Tf(n){return ss(n,"clientMetadata")}function fy(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class ag{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Si=s,this.Di=a}static Ci(e,t){let s=pr(),a=pr();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new ag(e,t.fromCache,s,a)}}class ug{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,s,a){return this.ki(e,t).next(l=>l||this.Oi(e,t,a,s)).next(l=>l||this.Mi(e,t))}ki(e,t){if(y_(t))return kt.resolve(null);let s=eo(t);return this.indexManager.getIndexType(e,s).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=Fp(t,null,"F"),s=eo(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const m=pr(...l);return this.Ni.getDocuments(e,m).next(b=>this.indexManager.getMinOffset(e,s).next(O=>{const U=this.Fi(t,b);return this.$i(t,U,m,O.readTime)?this.ki(e,Fp(t,null,"F")):this.Bi(e,U,t,O)}))})))}Oi(e,t,s,a){return y_(t)||a.isEqual(Yn.min())?this.Mi(e,t):this.Ni.getDocuments(e,s).next(l=>{const m=this.Fi(t,l);return this.$i(t,m,s,a)?this.Mi(e,t):(El()<=Ot.in.DEBUG&&v("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Pm(t)),this.Bi(e,m,t,QE(a,-1)))})}Fi(e,t){let s=new Kr(km(e));return t.forEach((a,l)=>{Nm(e,l)&&(s=s.add(l))}),s}$i(e,t,s,a){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Mi(e,t){return El()<=Ot.in.DEBUG&&v("QueryEngine","Using full collection scan to execute query:",Pm(t)),this.Ni.getDocumentsMatchingQuery(e,t,Js.min())}Bi(e,t,s,a){return this.Ni.getDocumentsMatchingQuery(e,s,a).next(l=>(t.forEach(m=>{l=l.insert(m.key,m)}),l))}}class py{constructor(e,t,s,a){this.persistence=e,this.Li=t,this.yt=a,this.qi=new Ti(or),this.Ui=new ou(l=>Md(l),Rd),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(s)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Vl(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function g0(n,e,t,s){return new py(n,e,t,s)}function Af(n,e){return Jd.apply(this,arguments)}function Jd(){return Jd=(0,z.Z)(function*(n,e){const t=ut(n);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(l=>(a=l,t.Qi(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const m=[],b=[];let O=pr();for(const U of a){m.push(U.batchId);for(const oe of U.mutations)O=O.add(oe.key)}for(const U of l){b.push(U.batchId);for(const oe of U.mutations)O=O.add(oe.key)}return t.localDocuments.getDocuments(s,O).next(U=>({ji:U,removedBatchIds:m,addedBatchIds:b}))})})}),Jd.apply(this,arguments)}function gy(n,e){const t=ut(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),l=t.Gi.newChangeBuffer({trackRemovals:!0});return function(m,b,O,U){const oe=O.batch,Oe=oe.keys();let it=kt.resolve();return Oe.forEach(Tt=>{it=it.next(()=>U.getEntry(b,Tt)).next(zt=>{const ln=O.docVersions.get(Tt);Z(null!==ln),zt.version.compareTo(ln)<0&&(oe.applyToRemoteDocument(zt,O),zt.isValidDocument()&&(zt.setReadTime(O.commitVersion),U.addEntry(zt)))})}),it.next(()=>m.mutationQueue.removeMutationBatch(b,oe))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let b=pr();for(let O=0;O<m.mutationResults.length;++O)m.mutationResults[O].transformResults.length>0&&(b=b.add(m.batch.mutations[O].key));return b}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}function m0(n){const e=ut(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function cg(n,e){const t=ut(n),s=e.snapshotVersion;let a=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const m=t.Gi.newChangeBuffer({trackRemovals:!0});a=t.qi;const b=[];e.targetChanges.forEach((oe,Oe)=>{const it=a.get(Oe);if(!it)return;b.push(t.Cs.removeMatchingKeys(l,oe.removedDocuments,Oe).next(()=>t.Cs.addMatchingKeys(l,oe.addedDocuments,Oe)));let Tt=it.withSequenceNumber(l.currentSequenceNumber);var zt,ln,Mn;e.targetMismatches.has(Oe)?Tt=Tt.withResumeToken(ji.EMPTY_BYTE_STRING,Yn.min()).withLastLimboFreeSnapshotVersion(Yn.min()):oe.resumeToken.approximateByteSize()>0&&(Tt=Tt.withResumeToken(oe.resumeToken,s)),a=a.insert(Oe,Tt),ln=Tt,Mn=oe,(0===(zt=it).resumeToken.approximateByteSize()||ln.snapshotVersion.toMicroseconds()-zt.snapshotVersion.toMicroseconds()>=3e8||Mn.addedDocuments.size+Mn.modifiedDocuments.size+Mn.removedDocuments.size>0)&&b.push(t.Cs.updateTargetData(l,Tt))});let O=js(),U=pr();if(e.documentUpdates.forEach(oe=>{e.resolvedLimboDocuments.has(oe)&&b.push(t.persistence.referenceDelegate.updateLimboDocument(l,oe))}),b.push(xf(l,m,e.documentUpdates).next(oe=>{O=oe.Wi,U=oe.zi})),!s.isEqual(Yn.min())){const oe=t.Cs.getLastRemoteSnapshotVersion(l).next(Oe=>t.Cs.setTargetsMetadata(l,l.currentSequenceNumber,s));b.push(oe)}return kt.waitFor(b).next(()=>m.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,O,U)).next(()=>O)}).then(l=>(t.qi=a,l))}function xf(n,e,t){let s=pr(),a=pr();return t.forEach(l=>s=s.add(l)),e.getEntries(n,s).next(l=>{let m=js();return t.forEach((b,O)=>{const U=l.get(b);O.isFoundDocument()!==U.isFoundDocument()&&(a=a.add(b)),O.isNoDocument()&&O.version.isEqual(Yn.min())?(e.removeEntry(b,O.readTime),m=m.insert(b,O)):!U.isValidDocument()||O.version.compareTo(U.version)>0||0===O.version.compareTo(U.version)&&U.hasPendingWrites?(e.addEntry(O),m=m.insert(b,O)):v("LocalStore","Ignoring outdated watch update for ",b,". Current version:",U.version," Watch version:",O.version)}),{Wi:m,zi:a}})}function my(n,e){const t=ut(n);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function $l(n,e){const t=ut(n);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Cs.getTargetData(s,e).next(l=>l?(a=l,kt.resolve(a)):t.Cs.allocateTargetId(s).next(m=>(a=new Ac(e,m,0,s.currentSequenceNumber),t.Cs.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.qi.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.qi=t.qi.insert(s.targetId,s),t.Ui.set(e,s.targetId)),s})}function Oc(n,e,t){return lg.apply(this,arguments)}function lg(){return lg=(0,z.Z)(function*(n,e,t){const s=ut(n),a=s.qi.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",l,m=>s.persistence.referenceDelegate.removeTarget(m,a)))}catch(m){if(!Ja(m))throw m;v("LocalStore",`Failed to update sequence numbers for target ${e}: ${m}`)}s.qi=s.qi.remove(e),s.Ui.delete(a.target)}),lg.apply(this,arguments)}function Mf(n,e,t){const s=ut(n);let a=Yn.min(),l=pr();return s.persistence.runTransaction("Execute query","readonly",m=>function(b,O,U){const oe=ut(b),Oe=oe.Ui.get(U);return void 0!==Oe?kt.resolve(oe.qi.get(Oe)):oe.Cs.getTargetData(O,U)}(s,m,eo(e)).next(b=>{if(b)return a=b.lastLimboFreeSnapshotVersion,s.Cs.getMatchingKeysForTargetId(m,b.targetId).next(O=>{l=O})}).next(()=>s.Li.getDocumentsMatchingQuery(m,e,t?a:Yn.min(),t?l:pr())).next(b=>(y0(s,ur(e),b),{documents:b,Hi:l})))}function dg(n,e){const t=ut(n),s=ut(t.Cs),a=t.qi.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",l=>s.ne(l,e).next(m=>m?m.target:null))}function yy(n,e){const t=ut(n),s=t.Ki.get(e)||Yn.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.Gi.getAllFromCollectionGroup(a,e,QE(s,-1),Number.MAX_SAFE_INTEGER)).then(a=>(y0(t,e,a),a))}function y0(n,e,t){let s=n.Ki.get(e)||Yn.min();t.forEach((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),n.Ki.set(e,s)}function hg(){return hg=(0,z.Z)(function*(n,e,t,s){const a=ut(n);let l=pr(),m=js();for(const U of t){const oe=e.Ji(U.metadata.name);U.document&&(l=l.add(oe));const Oe=e.Yi(U);Oe.setReadTime(e.Xi(U.metadata.readTime)),m=m.insert(oe,Oe)}const b=a.Gi.newChangeBuffer({trackRemovals:!0}),O=yield $l(a,(U=s,eo(Od(xr.fromString(`__bundle__/docs/${U}`)))));var U;return a.persistence.runTransaction("Apply bundle documents","readwrite",U=>xf(U,b,m).next(oe=>(b.apply(U),oe)).next(oe=>a.Cs.removeMatchingKeysForTargetId(U,O.targetId).next(()=>a.Cs.addMatchingKeys(U,l,O.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(U,oe.Wi,oe.zi)).next(()=>oe.Wi)))}),hg.apply(this,arguments)}function _0(n,e){return fg.apply(this,arguments)}function fg(){return fg=(0,z.Z)(function*(n,e,t=pr()){const s=yield $l(n,eo(ia(e.bundledQuery))),a=ut(n);return a.persistence.runTransaction("Save named query","readwrite",l=>{const m=xi(e.readTime);if(s.snapshotVersion.compareTo(m)>=0)return a.Ns.saveNamedQuery(l,e);const b=s.withResumeToken(ji.EMPTY_BYTE_STRING,m);return a.qi=a.qi.insert(b.targetId,b),a.Cs.updateTargetData(l,b).next(()=>a.Cs.removeMatchingKeysForTargetId(l,s.targetId)).next(()=>a.Cs.addMatchingKeys(l,t,s.targetId)).next(()=>a.Ns.saveNamedQuery(l,e))})}),fg.apply(this,arguments)}function E0(n,e){return`firestore_clients_${n}_${e}`}function vy(n,e,t){let s=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function pg(n,e){return`firestore_targets_${n}_${e}`}class Rf{constructor(e,t,s,a){this.user=e,this.batchId=t,this.state=s,this.error=a}static Zi(e,t,s){const a=JSON.parse(s);let l,m="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return m&&a.error&&(m="string"==typeof a.error.message&&"string"==typeof a.error.code,m&&(l=new Dt(a.error.code,a.error.message))),m?new Rf(e,t,a.state,l):(h("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ul{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static Zi(e,t){const s=JSON.parse(t);let a,l="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return l&&s.error&&(l="string"==typeof s.error.message&&"string"==typeof s.error.code,l&&(a=new Dt(s.error.code,s.error.message))),l?new Ul(e,s.state,a):(h("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Of{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const s=JSON.parse(t);let a="object"==typeof s&&s.activeTargetIds instanceof Array,l=ra();for(let m=0;a&&m<s.activeTargetIds.length;++m)a=xp(s.activeTargetIds[m]),l=l.add(s.activeTargetIds[m]);return a?new Of(e,l):(h("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class gg{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new gg(t.clientId,t.onlineState):(h("SharedClientState",`Failed to parse online state: ${e}`),null)}}class mg{constructor(){this.activeTargetIds=ra()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yg{constructor(e,t,s,a,l){this.window=e,this.Hs=t,this.persistenceKey=s,this.sr=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Ti(or),this.started=!1,this.cr=[];const m=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.ar=E0(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new mg),this.lr=new RegExp(`^firestore_clients_${m}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${m}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${m}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(b){return`firestore_bundle_loaded_v2_${b}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,z.Z)(function*(){const t=yield e.syncEngine.vi();for(const a of t){if(a===e.sr)continue;const l=e.getItem(E0(e.persistenceKey,a));if(l){const m=Of.Zi(a,l);m&&(e.ur=e.ur.insert(m.clientId,m))}}e.gr();const s=e.storage.getItem(e.wr);if(s){const a=e.yr(s);a&&e.pr(a)}for(const a of e.cr)e.rr(a);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((s,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,s){this.Tr(e,t,s),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(pg(this.persistenceKey,e));if(s){const a=Ul.Zi(e,s);a&&(t=a.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(pg(this.persistenceKey,e))}updateQueryState(e,t,s){this.Rr(e,t,s)}handleUserChange(e,t,s){t.forEach(a=>{this.Er(a)}),this.currentUser=e,s.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return v("SharedClientState","READ",e,t),t}setItem(e,t){v("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){v("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const s=e;if(s.storageArea===this.storage){if(v("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ar)return void h("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,z.Z)(function*(){if(t.started){if(null!==s.key)if(t.lr.test(s.key)){if(null==s.newValue){const a=t.vr(s.key);return t.Vr(a,null)}{const a=t.Sr(s.key,s.newValue);if(a)return t.Vr(a.clientId,a)}}else if(t.dr.test(s.key)){if(null!==s.newValue){const a=t.Dr(s.key,s.newValue);if(a)return t.Cr(a)}}else if(t._r.test(s.key)){if(null!==s.newValue){const a=t.Nr(s.key,s.newValue);if(a)return t.kr(a)}}else if(s.key===t.wr){if(null!==s.newValue){const a=t.yr(s.newValue);if(a)return t.pr(a)}}else if(s.key===t.hr){const a=function(l){let m=Fo.at;if(null!=l)try{const b=JSON.parse(l);Z("number"==typeof b),m=b}catch(b){h("SharedClientState","Failed to read sequence number from WebStorage",b)}return m}(s.newValue);a!==Fo.at&&t.sequenceNumberHandler(a)}else if(s.key===t.mr){const a=t.Or(s.newValue);yield Promise.all(a.map(l=>t.syncEngine.Mr(l)))}}else t.cr.push(s)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,s){const a=new Rf(this.currentUser,e,t,s),l=vy(this.persistenceKey,this.currentUser,e);this.setItem(l,a.tr())}Er(e){const t=vy(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,s){const a=pg(this.persistenceKey,e),l=new Ul(e,t,s);this.setItem(a,l.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const s=this.vr(e);return Of.Zi(s,t)}Dr(e,t){const s=this.dr.exec(e),a=Number(s[1]);return Rf.Zi(new mi(void 0!==s[2]?s[2]:null),a,t)}Nr(e,t){const s=this._r.exec(e),a=Number(s[1]);return Ul.Zi(a,t)}yr(e){return gg.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,z.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);v("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const s=t?this.ur.insert(e,t):this.ur.remove(e),a=this.Ir(this.ur),l=this.Ir(s),m=[],b=[];return l.forEach(O=>{a.has(O)||m.push(O)}),a.forEach(O=>{l.has(O)||b.push(O)}),this.syncEngine.Br(m,b).then(()=>{this.ur=s})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=ra();return e.forEach((s,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class _y{constructor(){this.Lr=new mg,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,s){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new mg,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class b0{Ur(e){}shutdown(){}}class Ey{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){v("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){v("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const w0={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class FI{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Fb extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,s,a,l){const m=this.ho(e,t);v("RestConnection","Sending: ",m,s);const b={};return this.lo(b,a,l),this.fo(e,m,b,s).then(O=>(v("RestConnection","Received: ",O),O),O=>{throw g("RestConnection",`${e} failed with error: `,O,"url: ",m,"request:",s),O})}_o(e,t,s,a,l,m){return this.ao(e,t,s,a,l)}lo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+Qa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),s&&s.headers.forEach((a,l)=>e[l]=a)}ho(e,t){return`${this.oo}/v1/${t}:${w0[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,s,a){return new Promise((l,m)=>{const b=new _p;b.setWithCredentials(!0),b.listenOnce(vl.COMPLETE,()=>{try{switch(b.getLastErrorCode()){case Nu.NO_ERROR:const U=b.getResponseJson();v("Connection","XHR received:",JSON.stringify(U)),l(U);break;case Nu.TIMEOUT:v("Connection",'RPC "'+e+'" timed out'),m(new Dt(Je.DEADLINE_EXCEEDED,"Request time out"));break;case Nu.HTTP_ERROR:const oe=b.getStatus();if(v("Connection",'RPC "'+e+'" failed with status:',oe,"response text:",b.getResponseText()),oe>0){let Oe=b.getResponseJson();Array.isArray(Oe)&&(Oe=Oe[0]);const it=Oe?.error;if(it&&it.status&&it.message){const Tt=function(zt){const ln=zt.toLowerCase().replace(/_/g,"-");return Object.values(Je).indexOf(ln)>=0?ln:Je.UNKNOWN}(it.status);m(new Dt(Tt,it.message))}else m(new Dt(Je.UNKNOWN,"Server responded with status "+b.getStatus()))}else m(new Dt(Je.UNAVAILABLE,"Connection failed."));break;default:$()}}finally{v("Connection",'RPC "'+e+'" completed.')}});const O=JSON.stringify(a);b.send(t,"POST",O,s,15)})}wo(e,t,s){const a=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=yl(),m=Ds(),b={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(b.xmlHttpFactory=new _l({})),this.lo(b.initMessageHeaders,t,s),b.encodeInitMessageHeaders=!0;const O=a.join("");v("Connection","Creating WebChannel: "+O,b);const U=l.createWebChannel(O,b);let oe=!1,Oe=!1;const it=new FI({Hr:zt=>{Oe?v("Connection","Not sending because WebChannel is closed:",zt):(oe||(v("Connection","Opening WebChannel transport."),U.open(),oe=!0),v("Connection","WebChannel sending:",zt),U.send(zt))},Jr:()=>U.close()}),Tt=(zt,ln,Mn)=>{zt.listen(ln,Or=>{try{Mn(Or)}catch(Hr){setTimeout(()=>{throw Hr},0)}})};return Tt(U,pc.EventType.OPEN,()=>{Oe||v("Connection","WebChannel transport opened.")}),Tt(U,pc.EventType.CLOSE,()=>{Oe||(Oe=!0,v("Connection","WebChannel transport closed"),it.io())}),Tt(U,pc.EventType.ERROR,zt=>{Oe||(Oe=!0,g("Connection","WebChannel transport errored:",zt),it.io(new Dt(Je.UNAVAILABLE,"The operation could not be completed")))}),Tt(U,pc.EventType.MESSAGE,zt=>{var ln;if(!Oe){const Mn=zt.data[0];Z(!!Mn);const Or=Mn,Hr=Or.error||(null===(ln=Or[0])||void 0===ln?void 0:ln.error);if(Hr){v("Connection","WebChannel received error:",Hr);const Er=Hr.status;let mr=function(vr){const Hi=Fi[vr];if(void 0!==Hi)return jm(Hi)}(Er),fr=Hr.message;void 0===mr&&(mr=Je.INTERNAL,fr="Unknown error status: "+Er+" with message "+Hr.message),Oe=!0,it.io(new Dt(mr,fr)),U.close()}else v("Connection","WebChannel received:",Mn),it.ro(Mn)}}),Tt(m,Kh.STAT_EVENT,zt=>{zt.stat===$s.PROXY?v("Connection","Detected buffering proxy"):zt.stat===$s.NOPROXY&&v("Connection","Detected no buffering proxy")}),setTimeout(()=>{it.so()},0),it}}function I0(){return typeof window<"u"?window:null}function Pf(){return typeof document<"u"?document:null}function Nf(n){return new Eb(n,!0)}class Li{constructor(e,t,s=1e3,a=1.5,l=6e4){this.Hs=e,this.timerId=t,this.mo=s,this.yo=a,this.po=l,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),s=Math.max(0,Date.now()-this.Eo),a=Math.max(0,t-s);a>0&&v("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,a,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class by{constructor(e,t,s,a,l,m,b,O){this.Hs=e,this.vo=s,this.Vo=a,this.connection=l,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=b,this.listener=O,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Li(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,z.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,z.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var s=this;return(0,z.Z)(function*(){s.Lo(),s.qo(),s.xo.cancel(),s.So++,4!==e?s.xo.reset():t&&t.code===Je.RESOURCE_EXHAUSTED?(h(t.toString()),h("Using maximum backoff delay to prevent overloading the backend."),s.xo.Ao()):t&&t.code===Je.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Uo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.So===t&&this.Go(s,a)},s=>{e(()=>{const a=new Dt(Je.UNKNOWN,"Fetching auth token failed: "+s.message);return this.Qo(a)})})}Go(e,t){const s=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{s(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(a=>{s(()=>this.Qo(a))}),this.stream.onMessage(a=>{s(()=>this.onMessage(a))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,z.Z)(function*(){e.state=0,e.start()}))}Qo(e){return v("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(v("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Lb extends by{constructor(e,t,s,a,l,m){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,m),this.yt=l}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function OI(n,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(O=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===O?1:"REMOVE"===O?2:"CURRENT"===O?3:"RESET"===O?4:$(),a=e.targetChange.targetIds||[],l=function(O,U){return O.wt?(Z(void 0===U||"string"==typeof U),ji.fromBase64String(U||"")):(Z(void 0===U||U instanceof Uint8Array),ji.fromUint8Array(U||new Uint8Array))}(n,e.targetChange.resumeToken),m=e.targetChange.cause,b=m&&function(O){const U=void 0===O.code?Je.UNKNOWN:jm(O.code);return new Dt(U,O.message||"")}(m);t=new zm(s,a,l,b||null)}else if("documentChange"in e){const s=e.documentChange,a=Ra(n,s.document.name),l=xi(s.document.updateTime),m=s.document.createTime?xi(s.document.createTime):Yn.min(),b=new Ai({mapValue:{fields:s.document.fields}}),O=ai.newFoundDocument(a,l,m,b);t=new Vd(s.targetIds||[],s.removedTargetIds||[],O.key,O)}else if("documentDelete"in e){const s=e.documentDelete,a=Ra(n,s.document),l=s.readTime?xi(s.readTime):Yn.min(),m=ai.newNoDocument(a,l);t=new Vd([],s.removedTargetIds||[],m.key,m)}else if("documentRemove"in e){const s=e.documentRemove,a=Ra(n,s.document);t=new Vd([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return $();{const s=e.filter,l=new yb(s.count||0);t=new vb(s.targetId,l)}}var O;return t}(this.yt,e),s=function(a){if(!("targetChange"in a))return Yn.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Yn.min():l.readTime?xi(l.readTime):Yn.min()}(e);return this.listener.Wo(t,s)}zo(e){const t={};t.database=xl(this.yt),t.addTarget=function(a,l){let m;const b=l.target;return m=xm(b)?{documents:Cb(a,b)}:{query:P_(a,b)},m.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?m.resumeToken=A_(a,l.resumeToken):l.snapshotVersion.compareTo(Yn.min())>0&&(m.readTime=$d(a,l.snapshotVersion.toTimestamp())),m}(this.yt,e);const s=function Ym(n,e){const t=function(s,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return $()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Bo(t)}Ho(e){const t={};t.database=xl(this.yt),t.removeTarget=e,this.Bo(t)}}class Bb extends by{constructor(e,t,s,a,l,m){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,m),this.yt=l,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(Z(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function PI(n,e){return n&&n.length>0?(Z(void 0!==e),n.map(t=>function(s,a){let l=xi(s.updateTime?s.updateTime:a);return l.isEqual(Yn.min())&&(l=xi(a)),new AI(l,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=xi(e.commitTime);return this.listener.Zo(s,t)}return Z(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=xl(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>zp(this.yt,s))};this.Bo(t)}}class D0 extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.yt=a,this.nu=!1}su(){if(this.nu)throw new Dt(Je.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,s){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.ao(e,t,s,a,l)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Dt(Je.UNKNOWN,a.toString())})}_o(e,t,s,a){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,m])=>this.connection._o(e,t,s,l,m,a)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Dt(Je.UNKNOWN,l.toString())})}terminate(){this.nu=!0}}class C0{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(h(t),this.ou=!1):v("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class eh{constructor(e,t,s,a,l){var m=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=l,this.mu.Ur(b=>{s.enqueueAndForget((0,z.Z)(function*(){var O;uu(m)&&(v("RemoteStore","Restarting streams for network reachability change."),yield(O=(0,z.Z)(function*(U){const oe=ut(U);oe._u.add(4),yield jl(oe),oe.gu.set("Unknown"),oe._u.delete(4),yield kf(oe)}),function(U){return O.apply(this,arguments)})(m))}))}),this.gu=new C0(s,a)}}function kf(n){return wy.apply(this,arguments)}function wy(){return wy=(0,z.Z)(function*(n){if(uu(n))for(const e of n.wu)yield e(!0)}),wy.apply(this,arguments)}function jl(n){return Iy.apply(this,arguments)}function Iy(){return Iy=(0,z.Z)(function*(n){for(const e of n.wu)yield e(!1)}),Iy.apply(this,arguments)}function Ff(n,e){const t=ut(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),Dy(t)?sa(t):Hl(t).ko()&&Eg(t,e))}function _g(n,e){const t=ut(n),s=Hl(t);t.du.delete(e),s.ko()&&bg(t,e),0===t.du.size&&(s.ko()?s.Fo():uu(t)&&t.gu.set("Unknown"))}function Eg(n,e){n.yu.Ot(e.targetId),Hl(n).zo(e)}function bg(n,e){n.yu.Ot(e),Hl(n).Ho(e)}function sa(n){n.yu=new Up({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.du.get(e)||null}),Hl(n).start(),n.gu.uu()}function Dy(n){return uu(n)&&!Hl(n).No()&&n.du.size>0}function uu(n){return 0===ut(n)._u.size}function Na(n){n.yu=void 0}function ka(n){return Vo.apply(this,arguments)}function Vo(){return Vo=(0,z.Z)(function*(n){n.du.forEach((e,t)=>{Eg(n,e)})}),Vo.apply(this,arguments)}function S0(n,e){return wg.apply(this,arguments)}function wg(){return wg=(0,z.Z)(function*(n,e){Na(n),Dy(n)?(n.gu.hu(e),sa(n)):n.gu.set("Unknown")}),wg.apply(this,arguments)}function $b(n,e,t){return Cy.apply(this,arguments)}function Cy(){return Cy=(0,z.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof zm&&2===e.state&&e.cause)try{yield(s=(0,z.Z)(function*(a,l){const m=l.cause;for(const b of l.targetIds)a.du.has(b)&&(yield a.remoteSyncer.rejectListen(b,m),a.du.delete(b),a.yu.removeTarget(b))}),function(a,l){return s.apply(this,arguments)})(n,e)}catch(s){v("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Ig(n,s)}else if(e instanceof Vd?n.yu.Kt(e):e instanceof vb?n.yu.Jt(e):n.yu.jt(e),!t.isEqual(Yn.min()))try{const s=yield m0(n.localStore);t.compareTo(s)>=0&&(yield function(a,l){const m=a.yu.Zt(l);return m.targetChanges.forEach((b,O)=>{if(b.resumeToken.approximateByteSize()>0){const U=a.du.get(O);U&&a.du.set(O,U.withResumeToken(b.resumeToken,l))}}),m.targetMismatches.forEach(b=>{const O=a.du.get(b);if(!O)return;a.du.set(b,O.withResumeToken(ji.EMPTY_BYTE_STRING,O.snapshotVersion)),bg(a,b);const U=new Ac(O.target,b,1,O.sequenceNumber);Eg(a,U)}),a.remoteSyncer.applyRemoteEvent(m)}(n,t))}catch(s){v("RemoteStore","Failed to raise snapshot:",s),yield Ig(n,s)}var s}),Cy.apply(this,arguments)}function Ig(n,e,t){return Sy.apply(this,arguments)}function Sy(){return Sy=(0,z.Z)(function*(n,e,t){if(!Ja(e))throw e;n._u.add(1),yield jl(n),n.gu.set("Offline"),t||(t=()=>m0(n.localStore)),n.asyncQueue.enqueueRetryable((0,z.Z)(function*(){v("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield kf(n)}))}),Sy.apply(this,arguments)}function Dg(n,e){return e().catch(t=>Ig(n,t,e))}function cu(n){return Ty.apply(this,arguments)}function Ty(){return Ty=(0,z.Z)(function*(n){const e=ut(n),t=Wu(e);let s=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;T0(e);)try{const a=yield my(e.localStore,s);if(null===a){0===e.fu.length&&t.Fo();break}s=a.batchId,Ub(e,a)}catch(a){yield Ig(e,a)}Ay(e)&&xy(e)}),Ty.apply(this,arguments)}function T0(n){return uu(n)&&n.fu.length<10}function Ub(n,e){n.fu.push(e);const t=Wu(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function Ay(n){return uu(n)&&!Wu(n).No()&&n.fu.length>0}function xy(n){Wu(n).start()}function Cg(n){return My.apply(this,arguments)}function My(){return My=(0,z.Z)(function*(n){Wu(n).eu()}),My.apply(this,arguments)}function A0(n){return Sg.apply(this,arguments)}function Sg(){return Sg=(0,z.Z)(function*(n){const e=Wu(n);for(const t of n.fu)e.Xo(t.mutations)}),Sg.apply(this,arguments)}function Ry(n,e,t){return th.apply(this,arguments)}function th(){return th=(0,z.Z)(function*(n,e,t){const s=n.fu.shift(),a=Yp.from(s,e,t);yield Dg(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),yield cu(n)}),th.apply(this,arguments)}function x0(n,e){return Tg.apply(this,arguments)}function Tg(){return Tg=(0,z.Z)(function*(n,e){var t;e&&Wu(n).Yo&&(yield(t=(0,z.Z)(function*(s,a){if(Um(l=a.code)&&l!==Je.ABORTED){const m=s.fu.shift();Wu(s).Mo(),yield Dg(s,()=>s.remoteSyncer.rejectFailedWrite(m.batchId,a)),yield cu(s)}var l}),function(s,a){return t.apply(this,arguments)})(n,e)),Ay(n)&&xy(n)}),Tg.apply(this,arguments)}function Oy(n,e){return Ag.apply(this,arguments)}function Ag(){return Ag=(0,z.Z)(function*(n,e){const t=ut(n);t.asyncQueue.verifyOperationInProgress(),v("RemoteStore","RemoteStore received new credentials");const s=uu(t);t._u.add(3),yield jl(t),s&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield kf(t)}),Ag.apply(this,arguments)}function xg(n,e){return Mg.apply(this,arguments)}function Mg(){return Mg=(0,z.Z)(function*(n,e){const t=ut(n);e?(t._u.delete(2),yield kf(t)):e||(t._u.add(2),yield jl(t),t.gu.set("Unknown"))}),Mg.apply(this,arguments)}function Hl(n){return n.pu||(n.pu=function(e,t,s){const a=ut(e);return a.su(),new Lb(t,a.connection,a.authCredentials,a.appCheckCredentials,a.yt,s)}(n.datastore,n.asyncQueue,{Yr:ka.bind(null,n),Zr:S0.bind(null,n),Wo:$b.bind(null,n)}),n.wu.push(function(){var e=(0,z.Z)(function*(t){t?(n.pu.Mo(),Dy(n)?sa(n):n.gu.set("Unknown")):(yield n.pu.stop(),Na(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Wu(n){return n.Iu||(n.Iu=function(e,t,s){const a=ut(e);return a.su(),new Bb(t,a.connection,a.authCredentials,a.appCheckCredentials,a.yt,s)}(n.datastore,n.asyncQueue,{Yr:Cg.bind(null,n),Zr:x0.bind(null,n),tu:A0.bind(null,n),Zo:Ry.bind(null,n)}),n.wu.push(function(){var e=(0,z.Z)(function*(t){t?(n.Iu.Mo(),yield cu(n)):(yield n.Iu.stop(),n.fu.length>0&&(v("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class Py{constructor(e,t,s,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Nn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}static createAndSchedule(e,t,s,a,l){const m=Date.now()+s,b=new Py(e,t,m,a,l);return b.start(s),b}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Dt(Je.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nh(n,e){if(h("AsyncQueue",`${e}: ${n}`),Ja(n))return new Dt(Je.UNAVAILABLE,`${e}: ${n}`);throw n}class rh{constructor(e){this.comparator=e?(t,s)=>e(t,s)||En.comparator(t.key,s.key):(t,s)=>En.comparator(t.key,s.key),this.keyedMap=$p(),this.sortedSet=new Ti(this.comparator)}static emptySet(e){return new rh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof rh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new rh;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class M0{constructor(){this.Tu=new Ti(En.comparator)}track(e){const t=e.doc.key,s=this.Tu.get(t);s?0!==e.type&&3===s.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==s.type?this.Tu=this.Tu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Tu=this.Tu.remove(t):1===e.type&&2===s.type?this.Tu=this.Tu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):$():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,s)=>{e.push(s)}),e}}class ih{constructor(e,t,s,a,l,m,b,O,U){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=m,this.syncStateChanged=b,this.excludesMetadataChanges=O,this.hasCachedResults=U}static fromInitialDocuments(e,t,s,a,l){const m=[];return t.forEach(b=>{m.push({type:0,doc:b})}),new ih(e,t,rh.emptySet(t),m,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class jb{constructor(){this.Au=void 0,this.listeners=[]}}class Hb{constructor(){this.queries=new ou(e=>v_(e),Pd),this.onlineState="Unknown",this.Ru=new Set}}function Ny(n,e){return ky.apply(this,arguments)}function ky(){return ky=(0,z.Z)(function*(n,e){const t=ut(n),s=e.query;let a=!1,l=t.queries.get(s);if(l||(a=!0,l=new jb),a)try{l.Au=yield t.onListen(s)}catch(m){const b=nh(m,`Initialization of query '${Pm(e.query)}' failed`);return void e.onError(b)}t.queries.set(s,l),l.listeners.push(e),e.bu(t.onlineState),l.Au&&e.Pu(l.Au)&&By(t)}),ky.apply(this,arguments)}function Fy(n,e){return Ly.apply(this,arguments)}function Ly(){return Ly=(0,z.Z)(function*(n,e){const t=ut(n),s=e.query;let a=!1;const l=t.queries.get(s);if(l){const m=l.listeners.indexOf(e);m>=0&&(l.listeners.splice(m,1),a=0===l.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)}),Ly.apply(this,arguments)}function Gb(n,e){const t=ut(n);let s=!1;for(const a of e){const m=t.queries.get(a.query);if(m){for(const b of m.listeners)b.Pu(a)&&(s=!0);m.Au=a}}s&&By(t)}function zb(n,e,t){const s=ut(n),a=s.queries.get(e);if(a)for(const l of a.listeners)l.onError(t);s.queries.delete(e)}function By(n){n.Ru.forEach(e=>{e.next()})}class Vy{constructor(e,t,s){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=s||{}}Pu(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new ih(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=ih.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class Wb{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class R0{constructor(e){this.yt=e}Ji(e){return Ra(this.yt,e)}Yi(e){return e.metadata.exists?Db(this.yt,e.document,!1):ai.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return xi(e)}}class Kb{constructor(e,t,s){this.Mu=e,this.localStore=t,this.yt=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=$y(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const s=xr.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,s=new R0(this.yt);for(const a of e)if(a.metadata.queries){const l=s.Ji(a.metadata.name);for(const m of a.metadata.queries){const b=(t.get(m)||pr()).add(l);t.set(m,b)}}return t}complete(){var e=this;return(0,z.Z)(function*(){const t=yield function v0(n,e,t,s){return hg.apply(this,arguments)}(e.localStore,new R0(e.yt),e.documents,e.Mu.id),s=e.$u(e.documents);for(const a of e.queries)yield _0(e.localStore,a,s.get(a.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function $y(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Uy{constructor(e){this.key=e}}class jy{constructor(e){this.key=e}}class Hy{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=pr(),this.mutatedKeys=pr(),this.Gu=km(e),this.Qu=new rh(this.Gu)}get ju(){return this.qu}Wu(e,t){const s=t?t.zu:new M0,a=t?t.Qu:this.Qu;let l=t?t.mutatedKeys:this.mutatedKeys,m=a,b=!1;const O="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,U="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((oe,Oe)=>{const it=a.get(oe),Tt=Nm(this.query,Oe)?Oe:null,zt=!!it&&this.mutatedKeys.has(it.key),ln=!!Tt&&(Tt.hasLocalMutations||this.mutatedKeys.has(Tt.key)&&Tt.hasCommittedMutations);let Mn=!1;it&&Tt?it.data.isEqual(Tt.data)?zt!==ln&&(s.track({type:3,doc:Tt}),Mn=!0):this.Hu(it,Tt)||(s.track({type:2,doc:Tt}),Mn=!0,(O&&this.Gu(Tt,O)>0||U&&this.Gu(Tt,U)<0)&&(b=!0)):!it&&Tt?(s.track({type:0,doc:Tt}),Mn=!0):it&&!Tt&&(s.track({type:1,doc:it}),Mn=!0,(O||U)&&(b=!0)),Mn&&(Tt?(m=m.add(Tt),l=ln?l.add(oe):l.delete(oe)):(m=m.delete(oe),l=l.delete(oe)))}),null!==this.query.limit)for(;m.size>this.query.limit;){const oe="F"===this.query.limitType?m.last():m.first();m=m.delete(oe.key),l=l.delete(oe.key),s.track({type:1,doc:oe})}return{Qu:m,zu:s,$i:b,mutatedKeys:l}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const l=e.zu.Eu();l.sort((U,oe)=>function(Oe,it){const Tt=zt=>{switch(zt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $()}};return Tt(Oe)-Tt(it)}(U.type,oe.type)||this.Gu(U.doc,oe.doc)),this.Ju(s);const m=t?this.Yu():[],b=0===this.Ku.size&&this.current?1:0,O=b!==this.Uu;return this.Uu=b,0!==l.length||O?{snapshot:new ih(this.query,e.Qu,a,l,e.mutatedKeys,0===b,O,!1,!!s&&s.resumeToken.approximateByteSize()>0),Xu:m}:{Xu:m}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new M0,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=pr(),this.Qu.forEach(s=>{this.Zu(s.key)&&(this.Ku=this.Ku.add(s.key))});const t=[];return e.forEach(s=>{this.Ku.has(s)||t.push(new jy(s))}),this.Ku.forEach(s=>{e.has(s)||t.push(new Uy(s))}),t}tc(e){this.qu=e.Hi,this.Ku=pr();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return ih.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class O0{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class P0{constructor(e){this.key=e,this.nc=!1}}class N0{constructor(e,t,s,a,l,m){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=m,this.sc={},this.ic=new ou(b=>v_(b),Pd),this.rc=new Map,this.oc=new Set,this.uc=new Ti(En.comparator),this.cc=new Map,this.ac=new Rc,this.hc={},this.lc=new Map,this.fc=Nl.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function k0(n,e){return Rg.apply(this,arguments)}function Rg(){return Rg=(0,z.Z)(function*(n,e){const t=Qy(n);let s,a;const l=t.ic.get(e);if(l)s=l.targetId,t.sharedClientState.addLocalQueryTarget(s),a=l.view.ec();else{const m=yield $l(t.localStore,eo(e));t.isPrimaryClient&&Ff(t.remoteStore,m);const b=t.sharedClientState.addLocalQueryTarget(m.targetId);s=m.targetId,a=yield Og(t,e,s,"current"===b,m.resumeToken)}return a}),Rg.apply(this,arguments)}function Og(n,e,t,s,a){return Pg.apply(this,arguments)}function Pg(){return Pg=(0,z.Z)(function*(n,e,t,s,a){n._c=(Oe,it,Tt)=>{return(zt=(0,z.Z)(function*(ln,Mn,Or,Hr){let Er=Mn.view.Wu(Or);Er.$i&&(Er=yield Mf(ln.localStore,Mn.query,!1).then(({documents:vr})=>Mn.view.Wu(vr,Er)));const mr=Hr&&Hr.targetChanges.get(Mn.targetId),fr=Mn.view.applyChanges(Er,ln.isPrimaryClient,mr);return L0(ln,Mn.targetId,fr.Xu),fr.snapshot}),function(ln,Mn,Or,Hr){return zt.apply(this,arguments)})(n,Oe,it,Tt);var zt};const l=yield Mf(n.localStore,e,!0),m=new Hy(e,l.Hi),b=m.Wu(l.documents),O=Bd.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==n.onlineState,a),U=m.applyChanges(b,n.isPrimaryClient,O);L0(n,t,U.Xu);const oe=new O0(e,t,m);return n.ic.set(e,oe),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),U.snapshot}),Pg.apply(this,arguments)}function Gl(n,e){return Gy.apply(this,arguments)}function Gy(){return Gy=(0,z.Z)(function*(n,e){const t=ut(n),s=t.ic.get(e),a=t.rc.get(s.targetId);if(a.length>1)return t.rc.set(s.targetId,a.filter(l=>!Pd(l,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Oc(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),_g(t.remoteStore,s.targetId),Ku(t,s.targetId)}).catch(vc))):(Ku(t,s.targetId),yield Oc(t.localStore,s.targetId,!0))}),Gy.apply(this,arguments)}function Pc(){return Pc=(0,z.Z)(function*(n,e,t){const s=Vg(n);try{const a=yield function(l,m){const b=ut(l),O=Xr.now(),U=m.reduce((it,Tt)=>it.add(Tt.key),pr());let oe,Oe;return b.persistence.runTransaction("Locally write mutations","readwrite",it=>{let Tt=js(),zt=pr();return b.Gi.getEntries(it,U).next(ln=>{Tt=ln,Tt.forEach((Mn,Or)=>{Or.isValidDocument()||(zt=zt.add(Mn))})}).next(()=>b.localDocuments.getOverlayedDocuments(it,Tt)).next(ln=>{oe=ln;const Mn=[];for(const Or of m){const Hr=mb(Or,oe.get(Or.key).overlayedDocument);null!=Hr&&Mn.push(new $u(Or.key,Hr,iu(Hr.value.mapValue),vi.exists(!0)))}return b.mutationQueue.addMutationBatch(it,O,Mn,m)}).next(ln=>{Oe=ln;const Mn=ln.applyToLocalDocumentSet(oe,zt);return b.documentOverlayCache.saveOverlays(it,ln.batchId,Mn)})}).then(()=>({batchId:Oe.batchId,changes:Tl(oe)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(l,m,b){let O=l.hc[l.currentUser.toKey()];O||(O=new Ti(or)),O=O.insert(m,b),l.hc[l.currentUser.toKey()]=O}(s,a.batchId,t),yield Yu(s,a.changes),yield cu(s.remoteStore)}catch(a){const l=nh(a,"Failed to persist write");t.reject(l)}}),Pc.apply(this,arguments)}function qb(n,e){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,z.Z)(function*(n,e){const t=ut(n);try{const s=yield cg(t.localStore,e);e.targetChanges.forEach((a,l)=>{const m=t.cc.get(l);m&&(Z(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?m.nc=!0:a.modifiedDocuments.size>0?Z(m.nc):a.removedDocuments.size>0&&(Z(m.nc),m.nc=!1))}),yield Yu(t,s,e)}catch(s){yield vc(s)}}),Lf.apply(this,arguments)}function Zb(n,e,t){const s=ut(n);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.ic.forEach((l,m)=>{const b=m.view.bu(e);b.snapshot&&a.push(b.snapshot)}),function(l,m){const b=ut(l);b.onlineState=m;let O=!1;b.queries.forEach((U,oe)=>{for(const Oe of oe.listeners)Oe.bu(m)&&(O=!0)}),O&&By(b)}(s.eventManager,e),a.length&&s.sc.Wo(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function F0(n,e,t){return Ng.apply(this,arguments)}function Ng(){return Ng=(0,z.Z)(function*(n,e,t){const s=ut(n);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.cc.get(e),l=a&&a.key;if(l){let m=new Ti(En.comparator);m=m.insert(l,ai.newNoDocument(l,Yn.min()));const b=pr().add(l),O=new Al(Yn.min(),new Map,new Kr(or),m,b);yield qb(s,O),s.uc=s.uc.remove(l),s.cc.delete(e),kg(s)}else yield Oc(s.localStore,e,!1).then(()=>Ku(s,e,t)).catch(vc)}),Ng.apply(this,arguments)}function LI(n,e){return Qn.apply(this,arguments)}function Qn(){return Qn=(0,z.Z)(function*(n,e){const t=ut(n),s=e.batch.batchId;try{const a=yield gy(t.localStore,e);sh(t,s,null),Wy(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Yu(t,a)}catch(a){yield vc(a)}}),Qn.apply(this,arguments)}function Xb(n,e,t){return zy.apply(this,arguments)}function zy(){return zy=(0,z.Z)(function*(n,e,t){const s=ut(n);try{const a=yield function(l,m){const b=ut(l);return b.persistence.runTransaction("Reject batch","readwrite-primary",O=>{let U;return b.mutationQueue.lookupMutationBatch(O,m).next(oe=>(Z(null!==oe),U=oe.keys(),b.mutationQueue.removeMutationBatch(O,oe))).next(()=>b.mutationQueue.performConsistencyCheck(O)).next(()=>b.documentOverlayCache.removeOverlaysForBatchId(O,U,m)).next(()=>b.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(O,U)).next(()=>b.localDocuments.getDocuments(O,U))})}(s.localStore,e);sh(s,e,t),Wy(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Yu(s,a)}catch(a){yield vc(a)}}),zy.apply(this,arguments)}function Nc(){return Nc=(0,z.Z)(function*(n,e){const t=ut(n);uu(t.remoteStore)||v("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(l){const m=ut(l);return m.persistence.runTransaction("Get highest unacknowledged batch id","readonly",b=>m.mutationQueue.getHighestUnacknowledgedBatchId(b))}(t.localStore);if(-1===s)return void e.resolve();const a=t.lc.get(s)||[];a.push(e),t.lc.set(s,a)}catch(s){const a=nh(s,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),Nc.apply(this,arguments)}function Wy(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function sh(n,e,t){const s=ut(n);let a=s.hc[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),s.hc[s.currentUser.toKey()]=a}}function Ku(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.rc.get(e))n.ic.delete(s),t&&n.sc.wc(s,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(s=>{n.ac.containsKey(s)||Ei(n,s)})}function Ei(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(_g(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),kg(n))}function L0(n,e,t){for(const s of t)s instanceof Uy?(n.ac.addReference(s.key,e),B0(n,s)):s instanceof jy?(v("SyncEngine","Document no longer in limbo: "+s.key),n.ac.removeReference(s.key,e),n.ac.containsKey(s.key)||Ei(n,s.key)):$()}function B0(n,e){const t=e.key,s=t.path.canonicalString();n.uc.get(t)||n.oc.has(s)||(v("SyncEngine","New document in limbo: "+t),n.oc.add(s),kg(n))}function kg(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new En(xr.fromString(e)),s=n.fc.next();n.cc.set(s,new P0(t)),n.uc=n.uc.insert(t,s),Ff(n.remoteStore,new Ac(eo(Od(t.path)),s,2,Fo.at))}}function Yu(n,e,t){return Fg.apply(this,arguments)}function Fg(){return Fg=(0,z.Z)(function*(n,e,t){const s=ut(n),a=[],l=[],m=[];var b;s.ic.isEmpty()||(s.ic.forEach((b,O)=>{m.push(s._c(O,e,t).then(U=>{if((U||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(O.targetId,U?.fromCache?"not-current":"current"),U){a.push(U);const oe=ag.Ci(O.targetId,U);l.push(oe)}}))}),yield Promise.all(m),s.sc.Wo(a),yield(b=(0,z.Z)(function*(O,U){const oe=ut(O);try{yield oe.persistence.runTransaction("notifyLocalViewChanges","readwrite",Oe=>kt.forEach(U,it=>kt.forEach(it.Si,Tt=>oe.persistence.referenceDelegate.addReference(Oe,it.targetId,Tt)).next(()=>kt.forEach(it.Di,Tt=>oe.persistence.referenceDelegate.removeReference(Oe,it.targetId,Tt)))))}catch(Oe){if(!Ja(Oe))throw Oe;v("LocalStore","Failed to update sequence numbers: "+Oe)}for(const Oe of U){const it=Oe.targetId;if(!Oe.fromCache){const Tt=oe.qi.get(it),ln=Tt.withLastLimboFreeSnapshotVersion(Tt.snapshotVersion);oe.qi=oe.qi.insert(it,ln)}}}),function(O,U){return b.apply(this,arguments)})(s.localStore,l))}),Fg.apply(this,arguments)}function V0(n,e){return Lg.apply(this,arguments)}function Lg(){return Lg=(0,z.Z)(function*(n,e){const t=ut(n);if(!t.currentUser.isEqual(e)){v("SyncEngine","User change. New user:",e.toKey());const s=yield Af(t.localStore,e);t.currentUser=e,(a=t).lc.forEach(m=>{m.forEach(b=>{b.reject(new Dt(Je.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.lc.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Yu(t,s.ji)}var a}),Lg.apply(this,arguments)}function $0(n,e){const t=ut(n),s=t.cc.get(e);if(s&&s.nc)return pr().add(s.key);{let a=pr();const l=t.rc.get(e);if(!l)return a;for(const m of l){const b=t.ic.get(m);a=a.unionWith(b.view.ju)}return a}}function Jb(n,e){return Ky.apply(this,arguments)}function Ky(){return Ky=(0,z.Z)(function*(n,e){const t=ut(n),s=yield Mf(t.localStore,e.query,!0),a=e.view.tc(s);return t.isPrimaryClient&&L0(t,e.targetId,a.Xu),a}),Ky.apply(this,arguments)}function ew(n,e){return zl.apply(this,arguments)}function zl(){return zl=(0,z.Z)(function*(n,e){const t=ut(n);return yy(t.localStore,e).then(s=>Yu(t,s))}),zl.apply(this,arguments)}function tw(n,e,t,s){return Yy.apply(this,arguments)}function Yy(){return Yy=(0,z.Z)(function*(n,e,t,s){const a=ut(n),l=yield function(m,b){const O=ut(m),U=ut(O.mutationQueue);return O.persistence.runTransaction("Lookup mutation documents","readonly",oe=>U.Tn(oe,b).next(Oe=>Oe?O.localDocuments.getDocuments(oe,Oe):kt.resolve(null)))}(a.localStore,e);var b;null!==l?("pending"===t?yield cu(a.remoteStore):"acknowledged"===t||"rejected"===t?(sh(a,e,s||null),Wy(a,e),b=e,ut(ut(a.localStore).mutationQueue).An(b)):$(),yield Yu(a,l)):v("SyncEngine","Cannot apply mutation batch with id: "+e)}),Yy.apply(this,arguments)}function oh(){return oh=(0,z.Z)(function*(n,e){const t=ut(n);if(Qy(t),Vg(t),!0===e&&!0!==t.dc){const s=t.sharedClientState.getAllActiveQueryTargets(),a=yield qy(t,s.toArray());t.dc=!0,yield xg(t.remoteStore,!0);for(const l of a)Ff(t.remoteStore,l)}else if(!1===e&&!1!==t.dc){const s=[];let a=Promise.resolve();t.rc.forEach((l,m)=>{t.sharedClientState.isLocalQueryTarget(m)?s.push(m):a=a.then(()=>(Ku(t,m),Oc(t.localStore,m,!0))),_g(t.remoteStore,m)}),yield a,yield qy(t,s),function(l){const m=ut(l);m.cc.forEach((b,O)=>{_g(m.remoteStore,O)}),m.ac.fs(),m.cc=new Map,m.uc=new Ti(En.comparator)}(t),t.dc=!1,yield xg(t.remoteStore,!1)}}),oh.apply(this,arguments)}function qy(n,e,t){return Bg.apply(this,arguments)}function Bg(){return Bg=(0,z.Z)(function*(n,e,t){const s=ut(n),a=[],l=[];for(const m of e){let b;const O=s.rc.get(m);if(O&&0!==O.length){b=yield $l(s.localStore,eo(O[0]));for(const U of O){const oe=s.ic.get(U),Oe=yield Jb(s,oe);Oe.snapshot&&l.push(Oe.snapshot)}}else{const U=yield dg(s.localStore,m);b=yield $l(s.localStore,U),yield Og(s,Zy(U),m,!1,b.resumeToken)}a.push(b)}return s.sc.Wo(l),a}),Bg.apply(this,arguments)}function Zy(n){return Rm(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function rw(n){const e=ut(n);return ut(ut(e.localStore).persistence).vi()}function Bf(n,e,t,s){return Wl.apply(this,arguments)}function Wl(){return Wl=(0,z.Z)(function*(n,e,t,s){const a=ut(n);if(a.dc)return void v("SyncEngine","Ignoring unexpected query state notification.");const l=a.rc.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const m=yield yy(a.localStore,ur(l[0])),b=Al.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,ji.EMPTY_BYTE_STRING);yield Yu(a,m,b);break}case"rejected":yield Oc(a.localStore,e,!0),Ku(a,e,s);break;default:$()}}),Wl.apply(this,arguments)}function iw(n,e,t){return Xy.apply(this,arguments)}function Xy(){return Xy=(0,z.Z)(function*(n,e,t){const s=Qy(n);if(s.dc){for(const a of e){if(s.rc.has(a)){v("SyncEngine","Adding an already active target "+a);continue}const l=yield dg(s.localStore,a),m=yield $l(s.localStore,l);yield Og(s,Zy(l),m.targetId,!1,m.resumeToken),Ff(s.remoteStore,m)}for(const a of t)s.rc.has(a)&&(yield Oc(s.localStore,a,!1).then(()=>{_g(s.remoteStore,a),Ku(s,a)}).catch(vc))}}),Xy.apply(this,arguments)}function Qy(n){const e=ut(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=qb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$0.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=F0.bind(null,e),e.sc.Wo=Gb.bind(null,e.eventManager),e.sc.wc=zb.bind(null,e.eventManager),e}function Vg(n){const e=ut(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Xb.bind(null,e),e}class Jy{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,z.Z)(function*(){t.yt=Nf(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return g0(this.persistence,new ug,e.initialUser,this.yt)}yc(e){return new ly(Cf.Bs,this.yt)}gc(e){return new _y}terminate(){var e=this;return(0,z.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class j0 extends Jy{constructor(e,t,s){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,z.Z)(function*(){yield t().call(s,e),yield s.Ac.initialize(s,e),yield Vg(s.Ac.syncEngine),yield cu(s.Ac.remoteStore),yield s.persistence.li(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return g0(this.persistence,new ug,e.initialUser,this.yt)}Tc(e,t){return new Nb(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const s=new r_(t,this.persistence);return new Dm(e.asyncQueue,s)}yc(e){const t=fy(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?mo.withCacheSize(this.cacheSizeBytes):mo.DEFAULT;return new hy(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,I0(),Pf(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new _y}}class H0 extends j0{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,z.Z)(function*(){yield t().call(s,e);const a=s.Ac.syncEngine;s.sharedClientState instanceof yg&&(s.sharedClientState.syncEngine={Fr:tw.bind(null,a),$r:Bf.bind(null,a),Br:iw.bind(null,a),vi:rw.bind(null,a),Mr:ew.bind(null,a)},yield s.sharedClientState.start()),yield s.persistence.li(function(){var l=(0,z.Z)(function*(m){yield function nw(n,e){return oh.apply(this,arguments)}(s.Ac.syncEngine,m),s.gcScheduler&&(m&&!s.gcScheduler.started?s.gcScheduler.start():m||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(m&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():m||s.indexBackfillerScheduler.stop())});return function(m){return l.apply(this,arguments)}}())})()}gc(e){const t=I0();if(!yg.C(t))throw new Dt(Je.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=fy(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new yg(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class ev{initialize(e,t){var s=this;return(0,z.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>Zb(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=V0.bind(null,s.syncEngine),yield xg(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Hb}createDatastore(e){const t=Nf(e.databaseInfo.databaseId),s=new Fb(e.databaseInfo);return new D0(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,l=b=>Zb(this.syncEngine,b,0),m=Ey.C()?new Ey:new b0,new eh(t,s,a,l,m);var t,s,a,l,m}createSyncEngine(e,t){return function(s,a,l,m,b,O,U){const oe=new N0(s,a,l,m,b,O);return U&&(oe.dc=!0),oe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,z.Z)(function*(t){const s=ut(t);v("RemoteStore","RemoteStore shutting down."),s._u.add(5),yield jl(s),s.mu.shutdown(),s.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function tv(n,e,t){if(!t)throw new Dt(Je.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function sw(n,e,t,s){if(!0===e&&!0===s)throw new Dt(Je.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ow(n){if(!En.isDocumentKey(n))throw new Dt(Je.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function aw(n){if(En.isDocumentKey(n))throw new Dt(Je.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function nv(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":$()}function Dr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Dt(Je.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=nv(n);throw new Dt(Je.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Vf(n,e){if(e<=0)throw new Dt(Je.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const G0=new Map;class z0{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Dt(Je.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Dt(Je.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,sw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ah{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new z0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Dt(Je.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Dt(Je.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new z0(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Ci;switch(t.type){case"gapi":return new Yh(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Dt(Je.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=G0.get(e);t&&(v("ComponentProvider","Removing Datastore"),G0.delete(e),t.terminate())}(this),Promise.resolve()}}class ui{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ui(this.firestore,e,this._key)}}class Ts{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ts(this.firestore,e,this._query)}}class lu extends Ts{constructor(e,t,s){super(e,t,Od(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ui(this.firestore,null,new En(e))}withConverter(e){return new lu(this.firestore,e,this._path)}}function W0(n,e,...t){if(n=(0,gn.m9)(n),tv("collection","path",e),n instanceof ah){const s=xr.fromString(e,...t);return aw(s),new lu(n,null,s)}{if(!(n instanceof ui||n instanceof lu))throw new Dt(Je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(xr.fromString(e,...t));return aw(s),new lu(n.firestore,null,s)}}function $f(n,e,...t){if(n=(0,gn.m9)(n),1===arguments.length&&(e=Ip.R()),tv("doc","path",e),n instanceof ah){const s=xr.fromString(e,...t);return ow(s),new ui(n,null,new En(s))}{if(!(n instanceof ui||n instanceof lu))throw new Dt(Je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(xr.fromString(e,...t));return ow(s),new ui(n.firestore,n instanceof lu?n.converter:null,new En(s))}}function K0(n,e){return n=(0,gn.m9)(n),e=(0,gn.m9)(e),(n instanceof ui||n instanceof lu)&&(e instanceof ui||e instanceof lu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function rv(n,e){return n=(0,gn.m9)(n),e=(0,gn.m9)(e),n instanceof Ts&&e instanceof Ts&&n.firestore===e.firestore&&Pd(n._query,e._query)&&n.converter===e.converter}function ch(n,e=10240){let t=0;return{read:()=>(0,z.Z)(function*(){if(t<n.byteLength){const s={value:n.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,z.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class $g{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):h("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Y0{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new Nn,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(s=>{s&&s.Ou()?this.metadata.resolve(s.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.ku)}`))},s=>this.metadata.reject(s))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,z.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,z.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,z.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const s=e.vc.decode(t),a=Number(s);isNaN(a)&&e.Dc(`length string (${s}) is not valid number`);const l=yield e.Cc(a);return new Wb(JSON.parse(l),t.length+a)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,z.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}Cc(e){var t=this;return(0,z.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const s=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,z.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class Z0{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,z.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Dt(Je.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(a=(0,z.Z)(function*(l,m){const b=ut(l),O=xl(b.yt)+"/documents",U={documents:m.map(Tt=>Hp(b.yt,Tt))},oe=yield b._o("BatchGetDocuments",O,U,m.length),Oe=new Map;oe.forEach(Tt=>{const zt=function RI(n,e){return"found"in e?function(t,s){Z(!!s.found);const a=Ra(t,s.found.name),l=xi(s.found.updateTime),m=s.found.createTime?xi(s.found.createTime):Yn.min(),b=new Ai({mapValue:{fields:s.found.fields}});return ai.newFoundDocument(a,l,m,b)}(n,e):"missing"in e?function(t,s){Z(!!s.missing),Z(!!s.readTime);const a=Ra(t,s.missing),l=xi(s.readTime);return ai.newNoDocument(a,l)}(n,e):$()}(b.yt,Tt);Oe.set(zt.key.toString(),zt)});const it=[];return m.forEach(Tt=>{const zt=Oe.get(Tt.toString());Z(!!zt),it.push(zt)}),it}),function(l,m){return a.apply(this,arguments)})(t.datastore,e);var a;return s.forEach(a=>t.recordVersion(a)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ld(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,z.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,a)=>{const l=En.fromPath(a);e.mutations.push(new $m(l,e.precondition(l)))}),yield(s=(0,z.Z)(function*(a,l){const m=ut(a),b=xl(m.yt)+"/documents",O={writes:l.map(U=>zp(m.yt,U))};yield m.ao("Commit",b,O)}),function(a,l){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw $();t=Yn.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new Dt(Je.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Yn.min())?vi.exists(!1):vi.updateTime(t):vi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Yn.min()))throw new Dt(Je.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vi.updateTime(t)}return vi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class lw{constructor(e,t,s,a,l){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=a,this.deferred=l,this.kc=s.maxAttempts,this.xo=new Li(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,z.Z)(function*(){const t=new Z0(e.datastore),s=e.Mc(t);s&&s.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(l=>{e.Fc(l)}))}).catch(a=>{e.Fc(a)})}))}Mc(e){try{const t=this.updateFunction(e);return!Ap(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Um(t)}return!1}}class iv{constructor(e,t,s,a){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=mi.UNAUTHENTICATED,this.clientId=Ip.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var m=(0,z.Z)(function*(b){v("FirestoreClient","Received user=",b.uid),yield l.authCredentialListener(b),l.user=b});return function(b){return m.apply(this,arguments)}}()),this.appCheckCredentials.start(s,m=>(v("FirestoreClient","Received new app check token=",m),this.appCheckCredentialListener(m,this.user)))}getConfiguration(){var e=this;return(0,z.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Dt(Je.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Nn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,z.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const a=nh(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function X0(n,e){return Ug.apply(this,arguments)}function Ug(){return Ug=(0,z.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),v("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener(function(){var a=(0,z.Z)(function*(l){s.isEqual(l)||(yield Af(e.localStore,l),s=l)});return function(l){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),Ug.apply(this,arguments)}function sv(n,e){return ov.apply(this,arguments)}function ov(){return ov=(0,z.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield av(n);v("FirestoreClient","Initializing OnlineComponentProvider");const s=yield n.getConfiguration();yield e.initialize(t,s),n.setCredentialChangeListener(a=>Oy(e.remoteStore,a)),n.setAppCheckTokenChangeListener((a,l)=>Oy(e.remoteStore,l)),n.onlineComponents=e}),ov.apply(this,arguments)}function av(n){return uv.apply(this,arguments)}function uv(){return uv=(0,z.Z)(function*(n){return n.offlineComponents||(v("FirestoreClient","Using default OfflineComponentProvider"),yield X0(n,new Jy)),n.offlineComponents}),uv.apply(this,arguments)}function lh(n){return cv.apply(this,arguments)}function cv(){return cv=(0,z.Z)(function*(n){return n.onlineComponents||(v("FirestoreClient","Using default OnlineComponentProvider"),yield sv(n,new ev)),n.onlineComponents}),cv.apply(this,arguments)}function lv(n){return av(n).then(e=>e.persistence)}function jg(n){return av(n).then(e=>e.localStore)}function dv(n){return lh(n).then(e=>e.remoteStore)}function hv(n){return lh(n).then(e=>e.syncEngine)}function dh(n){return fv.apply(this,arguments)}function fv(){return fv=(0,z.Z)(function*(n){const e=yield lh(n),t=e.eventManager;return t.onListen=k0.bind(null,e.syncEngine),t.onUnlisten=Gl.bind(null,e.syncEngine),t}),fv.apply(this,arguments)}function pv(n,e,t={}){const s=new Nn;return n.asyncQueue.enqueueAndForget((0,z.Z)(function*(){return function(a,l,m,b,O){const U=new $g({next:Oe=>{l.enqueueAndForget(()=>Fy(a,oe));const it=Oe.docs.has(m);!it&&Oe.fromCache?O.reject(new Dt(Je.UNAVAILABLE,"Failed to get document because the client is offline.")):it&&Oe.fromCache&&b&&"server"===b.source?O.reject(new Dt(Je.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):O.resolve(Oe)},error:Oe=>O.reject(Oe)}),oe=new Vy(Od(m.path),U,{includeMetadataChanges:!0,Nu:!0});return Ny(a,oe)}(yield dh(n),n.asyncQueue,e,t,s)})),s.promise}function eE(n,e,t={}){const s=new Nn;return n.asyncQueue.enqueueAndForget((0,z.Z)(function*(){return function(a,l,m,b,O){const U=new $g({next:Oe=>{l.enqueueAndForget(()=>Fy(a,oe)),Oe.fromCache&&"server"===b.source?O.reject(new Dt(Je.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):O.resolve(Oe)},error:Oe=>O.reject(Oe)}),oe=new Vy(m,U,{includeMetadataChanges:!0,Nu:!0});return Ny(a,oe)}(yield dh(n),n.asyncQueue,e,t,s)})),s.promise}class mw{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Li(this,"async_queue_retry"),this.Wc=()=>{const t=Pf();t&&v("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=Pf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=Pf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new Nn;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,z.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Ja(t))throw t;v("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(s=>{throw this.Kc=s,this.Gc=!1,h("INTERNAL UNHANDLED ERROR: ",function(l){let m=l.message||"";return l.stack&&(m=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),m}(s)),s}).then(s=>(this.Gc=!1,s))));return this.Bc=t,t}enqueueAfterDelay(e,t,s){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const a=Py.createAndSchedule(this,e,t,s,l=>this.Yc(l));return this.Uc.push(a),a}zc(){this.Kc&&$()}verifyOperationInProgress(){}Xc(){var e=this;return(0,z.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function Uf(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(n)}class gv{constructor(){this._progressObserver={},this._taskCompletionResolver=new Nn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Qr extends ah{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new mw,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||rE(this),this._firestoreClient.terminate()}}function bi(n){return n._firestoreClient||rE(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function rE(n){var e;const t=n._freezeSettings(),s=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new tb(n._databaseId,l,n._persistenceKey,(b=t).host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,b.useFetchStreams));var l,b;n._firestoreClient=new iv(n._authCredentials,n._appCheckCredentials,n._queue,s)}function mv(n,e,t){const s=new Nn;return n.asyncQueue.enqueue((0,z.Z)(function*(){try{yield X0(n,t),yield sv(n,e),s.resolve()}catch(a){const l=a;if(!("FirebaseError"===(m=l).name?m.code===Je.FAILED_PRECONDITION||m.code===Je.UNIMPLEMENTED:!(typeof DOMException<"u"&&m instanceof DOMException)||22===m.code||20===m.code||11===m.code))throw l;g("Error enabling offline persistence. Falling back to persistence disabled: "+l),s.reject(l)}var m})).then(()=>s.promise)}function _v(n){if(n._initialized||n._terminated)throw new Dt(Je.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class oa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oa(ji.fromBase64String(e))}catch(t){throw new Dt(Je.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new oa(ji.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class du{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Dt(Je.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Si(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class kc{constructor(e){this._methodName=e}}class jf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Dt(Je.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Dt(Je.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return or(this._lat,e._lat)||or(this._long,e._long)}}const Ew=/^__.*__$/;class bw{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new $u(e,this.data,this.fieldMask,t,this.fieldTransforms):new Vu(e,this.data,t,this.fieldTransforms)}}class oE{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new $u(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function aE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $()}}class Hf{constructor(e,t,s,a,l,m){this.settings=e,this.databaseId=t,this.yt=s,this.ignoreUndefinedProperties=a,void 0===l&&this.na(),this.fieldTransforms=l||[],this.fieldMask=m||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Hf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.ia({path:s,oa:!1});return a.ua(e),a}ca(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.ia({path:s,oa:!1});return a.na(),a}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return zf(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(aE(this.sa)&&Ew.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class HI{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=s||Nf(e)}da(e,t,s,a=!1){return new Hf({sa:e,methodName:t,fa:s,path:Si.emptyPath(),oa:!1,la:a},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function Fc(n){const e=n._freezeSettings(),t=Nf(n._databaseId);return new HI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Hg(n,e,t,s,a,l={}){const m=n.da(l.merge||l.mergeFields?2:0,e,t,a);bv("Data must be an object, but it was:",m,s);const b=dE(s,m);let O,U;if(l.merge)O=new Lo(m.fieldMask),U=m.fieldTransforms;else if(l.mergeFields){const oe=[];for(const Oe of l.mergeFields){const it=wv(e,Oe,t);if(!m.contains(it))throw new Dt(Je.INVALID_ARGUMENT,`Field '${it}' is specified in your field mask but missing from your input data.`);Iv(oe,it)||oe.push(it)}O=new Lo(oe),U=m.fieldTransforms.filter(Oe=>O.covers(Oe.field))}else O=null,U=m.fieldTransforms;return new bw(new Ai(b),O,U)}class Gf extends kc{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gf}}function ww(n,e,t){return new Hf({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class uE extends kc{_toFieldTransform(e){return new lf(e.path,new Nd)}isEqual(e){return e instanceof uE}}class Iw extends kc{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=ww(this,e,!0),s=this._a.map(l=>Kl(l,t)),a=new kd(s);return new lf(e.path,a)}isEqual(e){return this===e}}class Dw extends kc{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=ww(this,e,!0),s=this._a.map(l=>Kl(l,t)),a=new Dc(s);return new lf(e.path,a)}isEqual(e){return this===e}}class cE extends kc{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new Fd(e.yt,b_(e.yt,this.wa));return new lf(e.path,t)}isEqual(e){return this===e}}function Gg(n,e,t,s){const a=n.da(1,e,t);bv("Data must be an object, but it was:",a,s);const l=[],m=Ai.empty();wl(s,(O,U)=>{const oe=Lc(e,O,t);U=(0,gn.m9)(U);const Oe=a.ca(oe);if(U instanceof Gf)l.push(oe);else{const it=Kl(U,Oe);null!=it&&(l.push(oe),m.set(oe,it))}});const b=new Lo(l);return new oE(m,b,a.fieldTransforms)}function Ev(n,e,t,s,a,l){const m=n.da(1,e,t),b=[wv(e,s,t)],O=[a];if(l.length%2!=0)throw new Dt(Je.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let it=0;it<l.length;it+=2)b.push(wv(e,l[it])),O.push(l[it+1]);const U=[],oe=Ai.empty();for(let it=b.length-1;it>=0;--it)if(!Iv(U,b[it])){const Tt=b[it];let zt=O[it];zt=(0,gn.m9)(zt);const ln=m.ca(Tt);if(zt instanceof Gf)U.push(Tt);else{const Mn=Kl(zt,ln);null!=Mn&&(U.push(Tt),oe.set(Tt,Mn))}}const Oe=new Lo(U);return new oE(oe,Oe,m.fieldTransforms)}function lE(n,e,t,s=!1){return Kl(t,n.da(s?4:3,e))}function Kl(n,e){if(hE(n=(0,gn.m9)(n)))return bv("Unsupported field value:",e,n),dE(n,e);if(n instanceof kc)return function(t,s){if(!aE(s.sa))throw s.ha(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s.ha(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,s){const a=[];let l=0;for(const m of t){let b=Kl(m,s.aa(l));null==b&&(b={nullValue:"NULL_VALUE"}),a.push(b),l++}return{arrayValue:{values:a}}}(n,e)}return function(t,s){if(null===(t=(0,gn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return b_(s.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Xr.fromDate(t);return{timestampValue:$d(s.yt,a)}}if(t instanceof Xr){const a=new Xr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:$d(s.yt,a)}}if(t instanceof jf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof oa)return{bytesValue:A_(s.yt,t._byteString)};if(t instanceof ui){const a=s.databaseId,l=t.firestore._databaseId;if(!l.isEqual(a))throw s.ha(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:x_(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s.ha(`Unsupported field value: ${nv(t)}`)}(n,e)}function dE(n,e){const t={};return nb(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wl(n,(s,a)=>{const l=Kl(a,e.ra(s));null!=l&&(t[s]=l)}),{mapValue:{fields:t}}}function hE(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Xr||n instanceof jf||n instanceof oa||n instanceof ui||n instanceof kc)}function bv(n,e,t){if(!hE(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=nv(t);throw e.ha("an object"===s?n+" a custom object":n+" "+s)}var s}function wv(n,e,t){if((e=(0,gn.m9)(e))instanceof du)return e._internalPath;if("string"==typeof e)return Lc(n,e);throw zf("Field path arguments must be of type string or ",n,!1,void 0,t)}const Cw=new RegExp("[~\\*/\\[\\]]");function Lc(n,e,t){if(e.search(Cw)>=0)throw zf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new du(...e.split("."))._internalPath}catch{throw zf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function zf(n,e,t,s,a){const l=s&&!s.isEmpty(),m=void 0!==a;let b=`Function ${e}() called with invalid data`;t&&(b+=" (via `toFirestore()`)"),b+=". ";let O="";return(l||m)&&(O+=" (found",l&&(O+=` in field ${s}`),m&&(O+=` in document ${a}`),O+=")"),new Dt(Je.INVALID_ARGUMENT,b+n+O)}function Iv(n,e){return n.some(t=>t.isEqual(e))}class fh{constructor(e,t,s,a,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ui(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new fE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Wf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class fE extends fh{data(){return super.data()}}function Wf(n,e){return"string"==typeof e?Lc(n,e):e instanceof du?e._internalPath:e._delegate._internalPath}function pE(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Dt(Je.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dv{}class zg extends Dv{}function Bc(n,e,...t){let s=[];e instanceof Dv&&s.push(e),s=s.concat(t),function(a){const l=a.filter(b=>b instanceof ph).length,m=a.filter(b=>b instanceof Kf).length;if(l>1||l>0&&m>0)throw new Dt(Je.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)n=a._apply(n);return n}class Kf extends zg{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Kf(e,t,s)}_apply(e){const t=this._parse(e);return xv(e._query,t),new Ts(e.firestore,e.converter,Om(e._query,t))}_parse(e){const t=Fc(e.firestore);return function(a,l,m,b,O,U,oe){let Oe;if(O.isKeyField()){if("array-contains"===U||"array-contains-any"===U)throw new Dt(Je.INVALID_ARGUMENT,`Invalid Query. You can't perform '${U}' queries on documentId().`);if("in"===U||"not-in"===U){Av(oe,U);const it=[];for(const Tt of oe)it.push(mE(b,a,Tt));Oe={arrayValue:{values:it}}}else Oe=mE(b,a,oe)}else"in"!==U&&"not-in"!==U&&"array-contains-any"!==U||Av(oe,U),Oe=lE(m,"where",oe,"in"===U||"not-in"===U);return Ir.create(O,U,Oe)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class ph extends Dv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ph(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:Wr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,a){let l=s;const m=a.getFlattenedFilters();for(const b of m)xv(l,b),l=Om(l,b)}(e._query,t),new Ts(e.firestore,e.converter,Om(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Cv extends zg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Cv(e,t)}_apply(e){const t=function(s,a,l){if(null!==s.startAt)throw new Dt(Je.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Dt(Je.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const m=new Ic(a,l);return function(b,O){if(null===Bo(b)){const U=Np(b);null!==U&&Zg(0,U,O.field)}}(s,m),m}(e._query,this._field,this._direction);return new Ts(e.firestore,e.converter,function(s,a){const l=s.explicitOrderBy.concat([a]);return new Bu(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class $o extends zg{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new $o(e,t,s)}_apply(e){return new Ts(e.firestore,e.converter,Fp(e._query,this._limit,this._limitType))}}class Vc extends zg{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new Vc(e,t,s)}_apply(e){const t=gE(e,this.type,this._docOrFields,this._inclusive);return new Ts(e.firestore,e.converter,(a=t,new Bu((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,a,s.endAt)));var s,a}}class Kg extends zg{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new Kg(e,t,s)}_apply(e){const t=gE(e,this.type,this._docOrFields,this._inclusive);return new Ts(e.firestore,e.converter,(a=t,new Bu((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,a)));var s,a}}function gE(n,e,t,s){if(t[0]=(0,gn.m9)(t[0]),t[0]instanceof fh)return function(a,l,m,b,O){if(!b)throw new Dt(Je.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const U=[];for(const oe of Sl(a))if(oe.field.isKeyField())U.push(nu(l,b.key));else{const Oe=b.data.field(oe.field);if(Jh(Oe))throw new Dt(Je.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+oe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Oe){const it=oe.field.canonicalString();throw new Dt(Je.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${it}' (used as the orderBy) does not exist.`)}U.push(Oe)}return new ru(U,O)}(n._query,n.firestore._databaseId,e,t[0]._document,s);{const a=Fc(n.firestore);return function(l,m,b,O,U,oe){const Oe=l.explicitOrderBy;if(U.length>Oe.length)throw new Dt(Je.INVALID_ARGUMENT,`Too many arguments provided to ${O}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const it=[];for(let Tt=0;Tt<U.length;Tt++){const zt=U[Tt];if(Oe[Tt].field.isKeyField()){if("string"!=typeof zt)throw new Dt(Je.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${O}(), but got a ${typeof zt}`);if(!kp(l)&&-1!==zt.indexOf("/"))throw new Dt(Je.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${O}() must be a plain document ID, but '${zt}' contains a slash.`);const ln=l.path.child(xr.fromString(zt));if(!En.isDocumentKey(ln))throw new Dt(Je.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${O}() must result in a valid document path, but '${ln}' is not because it contains an odd number of segments.`);const Mn=new En(ln);it.push(nu(m,Mn))}else{const ln=lE(b,O,zt);it.push(ln)}}return new ru(it,oe)}(n._query,n.firestore._databaseId,a,e,t,s)}}function mE(n,e,t){if("string"==typeof(t=(0,gn.m9)(t))){if(""===t)throw new Dt(Je.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kp(e)&&-1!==t.indexOf("/"))throw new Dt(Je.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(xr.fromString(t));if(!En.isDocumentKey(s))throw new Dt(Je.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return nu(n,new En(s))}if(t instanceof ui)return nu(n,t._key);throw new Dt(Je.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nv(t)}.`)}function Av(n,e){if(!Array.isArray(n)||0===n.length)throw new Dt(Je.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Dt(Je.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function xv(n,e){if(e.isInequality()){const s=Np(n),a=e.field;if(null!==s&&!s.isEqual(a))throw new Dt(Je.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${a.toString()}'`);const l=Bo(n);null!==l&&Zg(0,a,l)}const t=function(s,a){for(const l of s)for(const m of l.getFlattenedFilters())if(a.indexOf(m.op)>=0)return m.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Dt(Je.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Zg(n,e,t){if(!t.isEqual(e))throw new Dt(Je.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Rv{convertValue(e,t="none"){switch(wc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(bc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw $()}}convertObject(e,t){const s={};return wl(e.fields,(a,l)=>{s[a]=this.convertValue(l,t)}),s}convertGeoPoint(e){return new jf(yi(e.latitude),yi(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=rb(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(ef(e));default:return null}}convertTimestamp(e){const t=Ec(e);return new Xr(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=xr.fromString(e);Z(B_(s));const a=new _c(s.get(1),s.get(3)),l=new En(s.popFirst(5));return a.isEqual(t)||h(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function Xg(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}class zI extends Rv{constructor(e){super(),this.firestore=e}convertBytes(e){return new oa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ui(this.firestore,null,t)}}class qu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fa extends fh{constructor(e,t,s,a,l,m){super(e,t,s,a,m),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new gh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Wf("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class gh extends Fa{data(e={}){return super.data(e)}}class hu{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new qu(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new gh(this._firestore,this._userDataWriter,s.key,s,new qu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Dt(Je.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(m=>({type:"added",doc:new gh(s._firestore,s._userDataWriter,m.doc.key,m.doc,new qu(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:l++}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(m=>a||3!==m.type).map(m=>{const b=new gh(s._firestore,s._userDataWriter,m.doc.key,m.doc,new qu(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter);let O=-1,U=-1;return 0!==m.type&&(O=l.indexOf(m.doc.key),l=l.delete(m.doc.key)),1!==m.type&&(l=l.add(m.doc),U=l.indexOf(m.doc.key)),{type:Ov(m.type),doc:b,oldIndex:O,newIndex:U}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Ov(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $()}}function yE(n,e){return n instanceof Fa&&e instanceof Fa?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof hu&&e instanceof hu&&n._firestore===e._firestore&&rv(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class $c extends Rv{constructor(e){super(),this.firestore=e}convertBytes(e){return new oa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ui(this.firestore,null,t)}}function Nv(n,e,t){n=Dr(n,ui);const s=Dr(n.firestore,Qr),a=Xg(n.converter,e,t);return Yl(s,[Hg(Fc(s),"setDoc",n._key,a,null!==n.converter,t).toMutation(n._key,vi.none())])}function kv(n,e,t,...s){n=Dr(n,ui);const a=Dr(n.firestore,Qr),l=Fc(a);let m;return m="string"==typeof(e=(0,gn.m9)(e))||e instanceof du?Ev(l,"updateDoc",n._key,e,t,s):Gg(l,"updateDoc",n._key,e),Yl(a,[m.toMutation(n._key,vi.exists(!0))])}function Fv(n,...e){var t,s,a;n=(0,gn.m9)(n);let l={includeMetadataChanges:!1},m=0;"object"!=typeof e[m]||Uf(e[m])||(l=e[m],m++);const b={includeMetadataChanges:l.includeMetadataChanges};if(Uf(e[m])){const Oe=e[m];e[m]=null===(t=Oe.next)||void 0===t?void 0:t.bind(Oe),e[m+1]=null===(s=Oe.error)||void 0===s?void 0:s.bind(Oe),e[m+2]=null===(a=Oe.complete)||void 0===a?void 0:a.bind(Oe)}let O,U,oe;if(n instanceof ui)U=Dr(n.firestore,Qr),oe=Od(n._key.path),O={next:Oe=>{e[m]&&e[m](Qg(U,n,Oe))},error:e[m+1],complete:e[m+2]};else{const Oe=Dr(n,Ts);U=Dr(Oe.firestore,Qr),oe=Oe._query;const it=new $c(U);O={next:Tt=>{e[m]&&e[m](new hu(U,it,Oe,Tt))},error:e[m+1],complete:e[m+2]},pE(n._query)}return function(Oe,it,Tt,zt){const ln=new $g(zt),Mn=new Vy(it,ln,Tt);return Oe.asyncQueue.enqueueAndForget((0,z.Z)(function*(){return Ny(yield dh(Oe),Mn)})),()=>{ln.bc(),Oe.asyncQueue.enqueueAndForget((0,z.Z)(function*(){return Fy(yield dh(Oe),Mn)}))}}(bi(U),oe,b,O)}function Yl(n,e){return function(t,s){const a=new Nn;return t.asyncQueue.enqueueAndForget((0,z.Z)(function*(){return function Yb(n,e,t){return Pc.apply(this,arguments)}(yield hv(t),s,a)})),a.promise}(bi(n),e)}function Qg(n,e,t){const s=t.docs.get(e._key),a=new $c(n);return new Fa(n,a,e._key,s,new qu(t.hasPendingWrites,t.fromCache),e.converter)}const Nw={maxAttempts:5};class wE{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Fc(e)}set(e,t,s){this._verifyNotCommitted();const a=ql(e,this._firestore),l=Xg(a.converter,t,s),m=Hg(this._dataReader,"WriteBatch.set",a._key,l,null!==a.converter,s);return this._mutations.push(m.toMutation(a._key,vi.none())),this}update(e,t,s,...a){this._verifyNotCommitted();const l=ql(e,this._firestore);let m;return m="string"==typeof(t=(0,gn.m9)(t))||t instanceof du?Ev(this._dataReader,"WriteBatch.update",l._key,t,s,a):Gg(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(m.toMutation(l._key,vi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ql(e,this._firestore);return this._mutations=this._mutations.concat(new Ld(t._key,vi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Dt(Je.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ql(n,e){if((n=(0,gn.m9)(n)).firestore!==e)throw new Dt(Je.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class WI extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Fc(e)}get(e){const t=ql(e,this._firestore),s=new zI(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return $();const l=a[0];if(l.isFoundDocument())return new fh(this._firestore,s,l.key,l,t.converter);if(l.isNoDocument())return new fh(this._firestore,s,t._key,null,t.converter);throw $()})}set(e,t,s){const a=ql(e,this._firestore),l=Xg(a.converter,t,s),m=Hg(this._dataReader,"Transaction.set",a._key,l,null!==a.converter,s);return this._transaction.set(a._key,m),this}update(e,t,s,...a){const l=ql(e,this._firestore);let m;return m="string"==typeof(t=(0,gn.m9)(t))||t instanceof du?Ev(this._dataReader,"Transaction.update",l._key,t,s,a):Gg(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,m),this}delete(e){const t=ql(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ql(e,this._firestore),s=new $c(this._firestore);return super.get(e).then(a=>new Fa(this._firestore,s,t._key,a._document,new qu(!1,!1),t.converter))}}function Jg(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Dt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function Vv(){if(typeof Uint8Array>"u")throw new Dt("unimplemented","Uint8Arrays are not available in this environment.")}function Zf(){if(!function s_(){return typeof atob<"u"}())throw new Dt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Qa=Wn.SDK_VERSION,(0,Wn._registerComponent)(new Lt.wA("firestore",(t,{instanceIdentifier:s,options:a})=>{const l=t.getProvider("app").getImmediate(),m=new Qr(new Id(t.getProvider("auth-internal")),new Aa(t.getProvider("app-check-internal")),function(b,O){if(!Object.prototype.hasOwnProperty.apply(b.options,["projectId"]))throw new Dt(Je.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _c(b.options.projectId,O)}(l,s),l);return a=Object.assign({useFetchStreams:e},a),m._setSettings(a),m},"PUBLIC").setMultipleInstances(!0)),(0,Wn.registerVersion)(Ep,"3.8.0",n),(0,Wn.registerVersion)(Ep,"3.8.0","esm2017")}();class Zl{constructor(e){this._delegate=e}static fromBase64String(e){return Zf(),new Zl(oa.fromBase64String(e))}static fromUint8Array(e){return Vv(),new Zl(oa.fromUint8Array(e))}toBase64(){return Zf(),this._delegate.toBase64()}toUint8Array(){return Vv(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function SE(n){return function TE(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const s of e)if(s in t&&"function"==typeof t[s])return!0;return!1}(n,["next","error","complete"])}class Vw{enableIndexedDbPersistence(e,t){return function iE(n,e){_v(n=Dr(n,Qr));const t=bi(n),s=n._freezeSettings(),a=new ev;return mv(t,a,new j0(a,s.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function hh(n){_v(n=Dr(n,Qr));const e=bi(n),t=n._freezeSettings(),s=new ev;return mv(e,s,new H0(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function yw(n){if(n._initialized&&!n._terminated)throw new Dt(Je.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Nn;return n._queue.enqueueAndForgetEvenWhileRestricted((0,z.Z)(function*(){try{yield(t=(0,z.Z)(function*(s){if(!na.C())return Promise.resolve();const a=s+"main";yield na.delete(a)}),function(s){return t.apply(this,arguments)})(fy(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class $v{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof _c||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&g("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function uh(n,e,t,s={}){var a;const l=(n=Dr(n,ah))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&g("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let m,b;if("string"==typeof s.mockUserToken)m=s.mockUserToken,b=mi.MOCK_USER;else{m=(0,gn.Sg)(s.mockUserToken,null===(a=n._app)||void 0===a?void 0:a.options.projectId);const O=s.mockUserToken.sub||s.mockUserToken.user_id;if(!O)throw new Dt(Je.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new mi(O)}n._authCredentials=new ko(new qn(m,b))}}(this._delegate,e,t,s)}enableNetwork(){return function sE(n){return function dw(n){return n.asyncQueue.enqueue((0,z.Z)(function*(){const e=yield lv(n),t=yield dv(n);return e.setNetworkEnabled(!0),function(s){const a=ut(s);return a._u.delete(0),kf(a)}(t)}))}(bi(n=Dr(n,Qr)))}(this._delegate)}disableNetwork(){return function yv(n){return function hw(n){return n.asyncQueue.enqueue((0,z.Z)(function*(){const e=yield lv(n),t=yield dv(n);return e.setNetworkEnabled(!1),(s=(0,z.Z)(function*(a){const l=ut(a);l._u.add(0),yield jl(l),l.gu.set("Offline")}),function(a){return s.apply(this,arguments)})(t);var s}))}(bi(n=Dr(n,Qr)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,sw("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function UI(n){return function(e){const t=new Nn;return e.asyncQueue.enqueueAndForget((0,z.Z)(function*(){return function Qb(n,e){return Nc.apply(this,arguments)}(yield hv(e),t)})),t.promise}(bi(n=Dr(n,Qr)))}(this._delegate)}onSnapshotsInSync(e){return function Pw(n,e){return function tE(n,e){const t=new $g(e);return n.asyncQueue.enqueueAndForget((0,z.Z)(function*(){return s=yield dh(n),a=t,ut(s).Ru.add(a),void a.next();var s,a})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,z.Z)(function*(){return s=yield dh(n),a=t,void ut(s).Ru.delete(a);var s,a}))}}(bi(n=Dr(n,Qr)),Uf(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Dt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Xl(this,W0(this._delegate,e))}catch(t){throw _o(t,"collection()","Firestore.collection()")}}doc(e){try{return new aa(this,$f(this._delegate,e))}catch(t){throw _o(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Hs(this,function uw(n,e){if(n=Dr(n,ah),tv("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Dt(Je.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ts(n,null,(t=e,new Bu(xr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw _o(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function IE(n,e,t){n=Dr(n,Qr);const s=Object.assign(Object.assign({},Nw),t);return function(a){if(a.maxAttempts<1)throw new Dt(Je.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(a,l,m){const b=new Nn;return a.asyncQueue.enqueueAndForget((0,z.Z)(function*(){const O=yield function Q0(n){return lh(n).then(e=>e.datastore)}(a);new lw(a.asyncQueue,O,m,l,b).run()})),b.promise}(bi(n),a=>e(new WI(n,a)),s)}(this._delegate,t=>e(new Uv(this,t)))}batch(){return bi(this._delegate),new em(new wE(this._delegate,e=>Yl(this._delegate,e)))}loadBundle(e){return function vv(n,e){const t=bi(n=Dr(n,Qr)),s=new gv;return function pw(n,e,t,s){const a=function(l,m){let b;return b="string"==typeof l?(new TextEncoder).encode(l):l,O=function(O,U){if(O instanceof Uint8Array)return ch(O,U);if(O instanceof ArrayBuffer)return ch(new Uint8Array(O),U);if(O instanceof ReadableStream)return O.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(b),new Y0(O,m);var O}(t,Nf(e));n.asyncQueue.enqueueAndForget((0,z.Z)(function*(){!function U0(n,e,t){const s=ut(n);var a;(a=(0,z.Z)(function*(l,m,b){try{const O=yield m.getMetadata();if(yield function(it,Tt){const zt=ut(it),ln=xi(Tt.createTime);return zt.persistence.runTransaction("hasNewerBundle","readonly",Mn=>zt.Ns.getBundleMetadata(Mn,Tt.id)).then(Mn=>!!Mn&&Mn.createTime.compareTo(ln)>=0)}(l.localStore,O))return yield m.close(),b._completeWith({taskState:"Success",documentsLoaded:(it=O).totalDocuments,bytesLoaded:it.totalBytes,totalDocuments:it.totalDocuments,totalBytes:it.totalBytes}),Promise.resolve(new Set);b._updateProgress($y(O));const U=new Kb(O,l.localStore,m.yt);let oe=yield m.mc();for(;oe;){const it=yield U.Fu(oe);it&&b._updateProgress(it),oe=yield m.mc()}const Oe=yield U.complete();return yield Yu(l,Oe.Lu,void 0),yield function(it,Tt){const zt=ut(it);return zt.persistence.runTransaction("Save bundle","readwrite",ln=>zt.Ns.saveBundleMetadata(ln,Tt))}(l.localStore,O),b._completeWith(Oe.progress),Promise.resolve(Oe.Bu)}catch(O){return g("SyncEngine",`Loading bundle failed with ${O}`),b._failWith(O),Promise.resolve(new Set)}var it}),function(l,m,b){return a.apply(this,arguments)})(s,e,t).then(a=>{s.sharedClientState.notifyBundleLoaded(a)})}(yield hv(n),a,s)}))}(t,n._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function vw(n,e){return function gw(n,e){return n.asyncQueue.enqueue((0,z.Z)(function*(){return function(t,s){const a=ut(t);return a.persistence.runTransaction("Get named query","readonly",l=>a.Ns.getNamedQuery(l,s))}(yield jg(n),e)}))}(bi(n=Dr(n,Qr)),e).then(t=>t?new Ts(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Hs(this,t):null)}}class Zu extends Rv{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zl(new oa(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return aa.forKey(t,this.firestore,null)}}class Uv{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Zu(e)}get(e){const t=Ql(e);return this._delegate.get(t).then(s=>new Xf(this._firestore,new Fa(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const a=Ql(e);return s?(Jg("Transaction.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const l=Ql(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,s,...a),this}delete(e){const t=Ql(e);return this._delegate.delete(t),this}}class em{constructor(e){this._delegate=e}set(e,t,s){const a=Ql(e);return s?(Jg("WriteBatch.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const l=Ql(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,s,...a),this}delete(e){const t=Ql(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class mh{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new gh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new yh(this._firestore,s),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=mh.INSTANCES;let a=s.get(e);a||(a=new WeakMap,s.set(e,a));let l=a.get(t);return l||(l=new mh(e,new Zu(e),t),a.set(t,l)),l}}mh.INSTANCES=new WeakMap;class aa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Zu(e)}static forPath(e,t,s){if(e.length%2!=0)throw new Dt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new aa(t,new ui(t._delegate,s,new En(e)))}static forKey(e,t,s){return new aa(t,new ui(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new Xl(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Xl(this.firestore,W0(this._delegate,e))}catch(t){throw _o(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,gn.m9)(e))instanceof ui&&K0(this._delegate,e)}set(e,t){t=Jg("DocumentReference.set",t);try{return t?Nv(this._delegate,e,t):Nv(this._delegate,e)}catch(s){throw _o(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?kv(this._delegate,e):kv(this._delegate,e,t,...s)}catch(a){throw _o(a,"updateDoc()","DocumentReference.update()")}}delete(){return function Ow(n){return Yl(Dr(n.firestore,Qr),[new Ld(n._key,vi.none())])}(this._delegate)}onSnapshot(...e){const t=AE(e),s=xE(e,a=>new Xf(this.firestore,new Fa(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return Fv(this._delegate,t,s)}get(e){let t;return t="cache"===e?.source?function Rw(n){n=Dr(n,ui);const e=Dr(n.firestore,Qr),t=bi(e),s=new $c(e);return function J0(n,e){const t=new Nn;return n.asyncQueue.enqueueAndForget((0,z.Z)(function*(){return(s=(0,z.Z)(function*(a,l,m){try{const b=yield function(O,U){const oe=ut(O);return oe.persistence.runTransaction("read document","readonly",Oe=>oe.localDocuments.getDocument(Oe,U))}(a,l);b.isFoundDocument()?m.resolve(b):b.isNoDocument()?m.resolve(null):m.reject(new Dt(Je.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(b){const O=nh(b,`Failed to get document '${l} from cache`);m.reject(O)}}),function(a,l,m){return s.apply(this,arguments)})(yield jg(n),e,t);var s})),t.promise}(t,n._key).then(a=>new Fa(e,s,n._key,a,new qu(null!==a&&a.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function vE(n){n=Dr(n,ui);const e=Dr(n.firestore,Qr);return pv(bi(e),n._key,{source:"server"}).then(t=>Qg(e,n,t))}(this._delegate):function Mw(n){n=Dr(n,ui);const e=Dr(n.firestore,Qr);return pv(bi(e),n._key).then(t=>Qg(e,n,t))}(this._delegate),t.then(s=>new Xf(this.firestore,new Fa(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new aa(this.firestore,this._delegate.withConverter(e?mh.getInstance(this.firestore,e):null))}}function _o(n,e,t){return n.message=n.message.replace(e,t),n}function AE(n){for(const e of n)if("object"==typeof e&&!SE(e))return e;return{}}function xE(n,e){var t,s;let a;return a=SE(n[0])?n[0]:SE(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{a.next&&a.next(e(l))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(s=a.complete)||void 0===s?void 0:s.bind(a)}}class Xf{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new aa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return yE(this._delegate,e._delegate)}}class yh extends Xf{data(e){const t=this._delegate.data(e);return function gt(n,e){n||$()}(void 0!==t),t}}class Hs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Zu(e)}where(e,t,s){try{return new Hs(this.firestore,Bc(this._delegate,function Sw(n,e,t){const s=e,a=Wf("where",n);return Kf._create(a,s,t)}(e,t,s)))}catch(a){throw _o(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Hs(this.firestore,Bc(this._delegate,function Sv(n,e="asc"){const t=e,s=Wf("orderBy",n);return Cv._create(s,t)}(e,t)))}catch(s){throw _o(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Hs(this.firestore,Bc(this._delegate,function Tw(n){return Vf("limit",n),$o._create("limit",n,"F")}(e)))}catch(t){throw _o(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Hs(this.firestore,Bc(this._delegate,function Tv(n){return Vf("limitToLast",n),$o._create("limitToLast",n,"L")}(e)))}catch(t){throw _o(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Hs(this.firestore,Bc(this._delegate,function Aw(...n){return Vc._create("startAt",n,!0)}(...e)))}catch(t){throw _o(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Hs(this.firestore,Bc(this._delegate,function xw(...n){return Vc._create("startAfter",n,!1)}(...e)))}catch(t){throw _o(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Hs(this.firestore,Bc(this._delegate,function Yg(...n){return Kg._create("endBefore",n,!1)}(...e)))}catch(t){throw _o(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Hs(this.firestore,Bc(this._delegate,function qg(...n){return Kg._create("endAt",n,!0)}(...e)))}catch(t){throw _o(t,"endAt()","Query.endAt()")}}isEqual(e){return rv(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function _E(n){n=Dr(n,Ts);const e=Dr(n.firestore,Qr),t=bi(e),s=new $c(e);return function fw(n,e){const t=new Nn;return n.asyncQueue.enqueueAndForget((0,z.Z)(function*(){return(s=(0,z.Z)(function*(a,l,m){try{const b=yield Mf(a,l,!0),O=new Hy(l,b.Hi),U=O.Wu(b.documents),oe=O.applyChanges(U,!1);m.resolve(oe.snapshot)}catch(b){const O=nh(b,`Failed to execute query '${l} against cache`);m.reject(O)}}),function(a,l,m){return s.apply(this,arguments)})(yield jg(n),e,t);var s})),t.promise}(t,n._query).then(a=>new hu(e,s,n,a))}(this._delegate):"server"===e?.source?function EE(n){n=Dr(n,Ts);const e=Dr(n.firestore,Qr),t=bi(e),s=new $c(e);return eE(t,n._query,{source:"server"}).then(a=>new hu(e,s,n,a))}(this._delegate):function Pv(n){n=Dr(n,Ts);const e=Dr(n.firestore,Qr),t=bi(e),s=new $c(e);return pE(n._query),eE(t,n._query).then(a=>new hu(e,s,n,a))}(this._delegate),t.then(s=>new tm(this.firestore,new hu(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=AE(e),s=xE(e,a=>new tm(this.firestore,new hu(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return Fv(this._delegate,t,s)}withConverter(e){return new Hs(this.firestore,this._delegate.withConverter(e?mh.getInstance(this.firestore,e):null))}}class Uw{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new yh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class tm{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Hs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new yh(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Uw(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new yh(this._firestore,s))})}isEqual(e){return yE(this._delegate,e._delegate)}}class Xl extends Hs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new aa(this.firestore,e):null}doc(e){try{return new aa(this.firestore,void 0===e?$f(this._delegate):$f(this._delegate,e))}catch(t){throw _o(t,"doc()","CollectionReference.doc()")}}add(e){return function bE(n,e){const t=Dr(n.firestore,Qr),s=$f(n),a=Xg(n.converter,e);return Yl(t,[Hg(Fc(n.firestore),"addDoc",s._key,a,null!==n.converter,{}).toMutation(s._key,vi.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new aa(this.firestore,t))}isEqual(e){return K0(this._delegate,e._delegate)}withConverter(e){return new Xl(this.firestore,this._delegate.withConverter(e?mh.getInstance(this.firestore,e):null))}}function Ql(n){return Dr(n,ui)}class jv{constructor(...e){this._delegate=new du(...e)}static documentId(){return new jv(Si.keyField().canonicalString())}isEqual(e){return(e=(0,gn.m9)(e))instanceof du&&this._delegate._internalPath.isEqual(e._internalPath)}}class Uc{constructor(e){this._delegate=e}static serverTimestamp(){const e=function qf(){return new uE("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Uc(e)}static delete(){const e=function DE(){return new Gf("deleteField")}();return e._methodName="FieldValue.delete",new Uc(e)}static arrayUnion(...e){const t=function kw(...n){return new Iw("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Uc(t)}static arrayRemove(...e){const t=function Lv(...n){return new Dw("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Uc(t)}static increment(e){const t=function Fw(n){return new cE("increment",n)}(e);return t._methodName="FieldValue.increment",new Uc(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const jw={Firestore:$v,GeoPoint:jf,Timestamp:Xr,Blob:Zl,Transaction:Uv,WriteBatch:em,DocumentReference:aa,DocumentSnapshot:Xf,Query:Hs,QueryDocumentSnapshot:yh,QuerySnapshot:tm,CollectionReference:Xl,FieldPath:jv,FieldValue:Uc,setLogLevel:function $w(n){!function ku(n){No.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function Hv(n,e){return function OE(n,e=da.z){return new ot.y(t=>{let s;return null!=e?e.schedule(()=>{s=n.onSnapshot({includeMetadataChanges:!0},t)}):s=n.onSnapshot({includeMetadataChanges:!0},t),()=>{s?.()}})}(n,e)}function Gv(n,e){return Hv(n,e).pipe((0,Se.U)(t=>({payload:t,type:"query"})))}function zv(n,e){return Gv(n,e).pipe((0,Go.O)(void 0),ks(),(0,Se.U)(([t,s])=>{const a=s.payload.docChanges(),l=a.map(m=>({type:m.type,payload:m}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((m,b)=>{const O=a.find(oe=>oe.doc.ref.isEqual(m.ref)),U=t?.payload.docs.find(oe=>oe.ref.isEqual(m.ref));O&&JSON.stringify(O.doc.metadata)===JSON.stringify(m.metadata)||!O&&U&&JSON.stringify(U.metadata)===JSON.stringify(m.metadata)||l.push({type:"modified",payload:{oldIndex:b,newIndex:b,type:"modified",doc:m}})}),l}))}function Wv(n,e,t){return zv(n,t).pipe((0,vu.R)((s,a)=>function YI(n,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(n=function qI(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return PE(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return PE(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return PE(n,e.oldIndex,1)}return n}(n,s))}),n}(s,a.map(l=>l.payload),e),[]),(0,Ns.x)(),(0,Se.U)(s=>s.map(a=>({type:a.type,payload:a}))))}function PE(n,e,t,...s){const a=n.slice();return a.splice(e,t,...s),a}function Gw(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function RE(n){(function ME(n,e){n.INTERNAL.registerComponent(new Lt.wA("firestore-compat",t=>{const s=t.getProvider("app-compat").getImmediate(),a=t.getProvider("firestore").getImmediate();return e(s,a)},"PUBLIC").setServiceProps(Object.assign({},jw)))})(n,(e,t)=>new $v(e,t,new Vw)),n.registerVersion("@firebase/firestore-compat","0.3.0")}(Jl.Z);class zw{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=zv(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Se.U)(s=>s.filter(a=>e.indexOf(a.type)>-1)))),t.pipe((0,Go.O)(void 0),ks(),(0,St.h)(([s,a])=>a.length>0||!s),(0,Se.U)(([s,a])=>a),Y.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,vu.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=Gw(e);return Wv(this.query,t,this.afs.schedulers.outsideAngular).pipe(Y.iC)}valueChanges(e={}){return Gv(this.query,this.afs.schedulers.outsideAngular).pipe((0,Se.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),Y.iC)}get(e){return(0,wt.D)(this.query.get(e)).pipe(Y.iC)}add(e){return this.ref.add(e)}doc(e){return new Ww(this.ref.doc(e),this.afs)}}class Ww{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:a,query:l}=Jf(s,t);return new zw(a,l,this.afs)}snapshotChanges(){return function Hw(n,e){return Hv(n,e).pipe((0,Go.O)(void 0),ks(),(0,Se.U)(([t,s])=>s.exists?t?.exists?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Y.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Se.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,wt.D)(this.ref.get(e)).pipe(Y.iC)}}class ZI{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?zv(this.query,this.afs.schedulers.outsideAngular).pipe((0,Se.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),(0,St.h)(t=>t.length>0),Y.iC):zv(this.query,this.afs.schedulers.outsideAngular).pipe(Y.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,vu.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=Gw(e);return Wv(this.query,t,this.afs.schedulers.outsideAngular).pipe(Y.iC)}valueChanges(e={}){return Gv(this.query,this.afs.schedulers.outsideAngular).pipe((0,Se.U)(s=>s.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),Y.iC)}get(e){return(0,wt.D)(this.query.get(e)).pipe(Y.iC)}}const Kw=new F.OlP("angularfire2.enableFirestorePersistence"),Qf=new F.OlP("angularfire2.firestore.persistenceSettings"),XI=new F.OlP("angularfire2.firestore.settings"),NE=new F.OlP("angularfire2.firestore.use-emulator");function Jf(n,e=(t=>t)){return{query:e(n),ref:n}}let kE=(()=>{class n{constructor(t,s,a,l,m,b,O,U,oe,Oe,it,Tt,zt,ln,Mn,Or,Hr){this.schedulers=O;const Er=(0,J.on)(t,b,s),mr=oe;Oe&&es(Er,b,it,zt,ln,Mn,Tt,Or),[this.firestore,this.persistenceEnabled$]=(0,J.cc)(`${Er.name}.firestore`,"AngularFirestore",Er.name,()=>{const fr=b.runOutsideAngular(()=>Er.firestore());if(l&&fr.settings(l),mr&&fr.useEmulator(...mr),a&&!(0,Ee.PM)(m)){const vr=()=>{try{return(0,wt.D)(fr.enablePersistence(U||void 0).then(()=>!0,()=>!1))}catch(Hi){return typeof console<"u"&&console.warn(Hi),(0,ct.of)(!1)}};return[fr,b.runOutsideAngular(vr)]}return[fr,(0,ct.of)(!1)]},[l,mr,a])}collection(t,s){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:m}=Jf(a,s),b=this.schedulers.ngZone.run(()=>l);return new zw(b,m,this)}collectionGroup(t,s){const a=s||(m=>m),l=this.firestore.collectionGroup(t);return new ZI(a(l),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>s);return new Ww(a,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(F.LFG(J.Dh),F.LFG(J.xv,8),F.LFG(Kw,8),F.LFG(XI,8),F.LFG(F.Lbi),F.LFG(F.R0b),F.LFG(Y.HU),F.LFG(Qf,8),F.LFG(NE,8),F.LFG(Wi,8),F.LFG(Os,8),F.LFG(Pr,8),F.LFG(Ps,8),F.LFG(io,8),F.LFG(Sr,8),F.LFG(jr,8),F.LFG(Bi,8))},n.\u0275prov=F.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),FE=(()=>{class n{constructor(){Ur.Z.registerVersion("angularfire",Y.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:Kw,useValue:!0},{provide:Qf,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=F.oAB({type:n}),n.\u0275inj=F.cJS({providers:[kE]}),n})();const Kv=new F.OlP("angularfire2.functions.origin"),LE=new F.OlP("angularfire2.functions.region"),Yw=new F.OlP("angularfire2.functions.use-emulator");let Yv=(()=>{class n{constructor(t,s,a,l,m,b,O,U){const oe=O,Oe=(0,ct.of)(void 0).pipe((0,ye.QV)(l.outsideAngular),(0,st.w)(()=>P.e(818).then(P.bind(P,818))),(0,Se.U)(()=>(0,J.on)(t,a,s)),(0,Se.U)(it=>(0,J.cc)(`${it.name}.functions.${m||b}`,"AngularFireFunctions",it.name,()=>{let Tt;if(m&&b)throw new Error("REGION and ORIGIN can't be used at the same time.");return Tt=it.functions(m||b||void 0),oe&&Tt.useEmulator(...oe),Tt},[m,b,oe])),he({bufferSize:1,refCount:!1}));return this.httpsCallable=(it,Tt)=>zt=>(0,wt.D)(Oe).pipe((0,ye.QV)(l.insideAngular),(0,st.w)(ln=>ln.httpsCallable(it,Tt)(zt)),(0,Se.U)(ln=>ln.data)),(0,J.pX)(this,Oe,a)}}return n.\u0275fac=function(t){return new(t||n)(F.LFG(J.Dh),F.LFG(J.xv,8),F.LFG(F.R0b),F.LFG(Y.HU),F.LFG(LE,8),F.LFG(Kv,8),F.LFG(Yw,8),F.LFG(Bi,8))},n.\u0275prov=F.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),JI=(()=>{class n{constructor(){Ur.Z.registerVersion("angularfire",Y.q4.full,"fn-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=F.oAB({type:n}),n.\u0275inj=F.cJS({providers:[Yv]}),n})();var eD=P(1221),nm=P(7221),qw=P(7314),rm=P(6774);const tD=new F.OlP("angularfire2.messaging.vapid-key"),nD=new F.OlP("angularfire2.messaging.service-worker-registeration");let Xw=(()=>{class n{constructor(t,s,a,l,m,b,O){const U=O,oe=(0,ct.of)(void 0).pipe((0,mt.R)(m.outsideAngular),(0,ye.QV)(m.insideAngular),(0,st.w)(rm.Gb),(0,st.w)(Tt=>Tt?P.e(6934).then(P.bind(P,6934)):je.E),(0,Se.U)(()=>(0,J.on)(t,l,s)),(0,st.w)(Tt=>(0,J.cc)(`${Tt.name}.messaging`,"AngularFireMessaging",Tt.name,()=>(0,Ie.mG)(this,void 0,void 0,function*(){return Tt.messaging()}),[])),he({bufferSize:1,refCount:!1}));this.requestPermission=oe.pipe((0,mt.R)(m.outsideAngular),(0,ye.QV)(m.insideAngular),(0,st.w)(()=>Notification.requestPermission())),this.getToken=oe.pipe((0,mt.R)(m.outsideAngular),(0,ye.QV)(m.insideAngular),(0,st.w)(Tt=>(0,Ie.mG)(this,void 0,void 0,function*(){if("granted"===Notification.permission){const zt=U?yield U:null;return yield Tt.getToken({vapidKey:b,serviceWorkerRegistration:zt})}return null})));const Oe=new ot.y(Tt=>{navigator.permissions.query({name:"notifications"}).then(zt=>{zt.onchange=()=>Tt.next()})}),it=oe.pipe((0,mt.R)(m.outsideAngular),(0,ye.QV)(m.insideAngular),Ze(Oe),Ze(this.getToken));return this.tokenChanges=oe.pipe((0,mt.R)(m.outsideAngular),(0,ye.QV)(m.insideAngular),(0,st.w)(()=>(0,eD.z)(this.getToken,it))),this.messages=oe.pipe((0,mt.R)(m.outsideAngular),(0,ye.QV)(m.insideAngular),(0,st.w)(Tt=>new ot.y(zt=>Tt.onMessage(zt)))),this.requestToken=oe.pipe((0,mt.R)(m.outsideAngular),(0,ye.QV)(m.insideAngular),(0,st.w)(()=>this.requestPermission),(0,nm.K)(()=>(0,ct.of)(null)),(0,Xn.zg)(()=>this.tokenChanges)),this.deleteToken=()=>oe.pipe((0,mt.R)(m.outsideAngular),(0,ye.QV)(m.insideAngular),(0,st.w)(Tt=>Tt.deleteToken()),(0,qw.d)(!1)),(0,J.pX)(this,oe,l)}}return n.\u0275fac=function(t){return new(t||n)(F.LFG(J.Dh),F.LFG(J.xv,8),F.LFG(F.Lbi),F.LFG(F.R0b),F.LFG(Y.HU),F.LFG(tD,8),F.LFG(nD,8))},n.\u0275prov=F.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Qw=(()=>{class n{constructor(){Ur.Z.registerVersion("angularfire",Y.q4.full,"fcm-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=F.oAB({type:n}),n.\u0275inj=F.cJS({providers:[Xw]}),n})();function qi(n,e,t,s){return new(t||(t=Promise))(function(l,m){function b(oe){try{U(s.next(oe))}catch(Oe){m(Oe)}}function O(oe){try{U(s.throw(oe))}catch(Oe){m(Oe)}}function U(oe){oe.done?l(oe.value):function a(l){return l instanceof t?l:new t(function(m){m(l)})}(oe.value).then(b,O)}U((s=s.apply(n,e||[])).next())})}var sm,Zv=P(849);const Xu=new F.OlP("STORAGE_CONFIG_TOKEN");class UE extends Zv.K{constructor(){super()}create(){return qi(this,void 0,void 0,function*(){return this})}defineDriver(){return qi(this,void 0,void 0,function*(){})}get driver(){return"noop"}get(e){return qi(this,void 0,void 0,function*(){return null})}set(e,t){return qi(this,void 0,void 0,function*(){})}remove(e){return qi(this,void 0,void 0,function*(){})}clear(){return qi(this,void 0,void 0,function*(){})}length(){return qi(this,void 0,void 0,function*(){return 0})}keys(){return qi(this,void 0,void 0,function*(){return[]})}forEach(e){return qi(this,void 0,void 0,function*(){})}setEncryptionKey(e){}}function Xv(n){return(0,Ee.PM)(this.platformId)?new UE:new Zv.K(n)}let Eo=sm=class{static forRoot(e=null){return{ngModule:sm,providers:[{provide:Xu,useValue:e},{provide:Zv.K,useFactory:Xv,deps:[Xu]}]}}};Eo.\u0275fac=function(e){return new(e||Eo)},Eo.\u0275mod=F.oAB({type:Eo}),Eo.\u0275inj=F.cJS({});var fu=P(529),jE=P(1737);class lI{constructor(e,t){this.count=e,this.source=t}call(e,t){return t.subscribe(new dI(e,this.count,this.source))}}class dI extends Rr.L{constructor(e,t,s){super(e),this.count=t,this.source=s}error(e){if(!this.isStopped){const{source:t,count:s}=this;if(0===s)return super.error(e);s>-1&&(this.count=s-1),t.subscribe(this._unsubscribeAndRecycle())}}}var HE=P(1406),lD=P(2986),Qv={},GE={};function zE(n){for(var e=[],t=0,s=0,a=0;a<n.length;a+=1){var l=Qv[n[a]];if(void 0===l)throw new Error("Invalid character ("+n[a]+")");var m=32&l;if(s+=(l&=31)<<t,m)t+=5;else{var b=1&s;s>>>=1,e.push(b?0===s?-2147483648:-s:s),s=t=0}}return e}"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split("").forEach(function(n,e){Qv[n]=e,GE[e]=n});const ep="TOKEN_LOGGER_CONFIG";class WE{constructor(e){this.config=this._clone(e)}get level(){return this.config.level}get serverLogLevel(){return this.config.serverLogLevel}updateConfig(e){this.config=this._clone(e)}partialUpdateConfig(e){!e||Object.keys(e).forEach(t=>{this.config[t]=e[t]})}getConfig(){return this._clone(this.config)}_clone(e){const t={level:null};return Object.keys(e).forEach(s=>{t[s]=e[s]}),t}}const vh="TOKEN_LOGGER_CONFIG_ENGINE_FACTORY";class KE{provideConfigEngine(e){return new WE(e)}}const _h="TOKEN_LOGGER_MAPPER_SERVICE";let am=(()=>{class n{constructor(t){this.httpBackend=t,this.sourceMapCache=new Map,this.logPositionCache=new Map}getLogPosition(t,s){const a=this.getStackLine(t);if(!a)return(0,ct.of)({fileName:"",lineNumber:0,columnNumber:0});const l=this.getLocalPosition(a);if(!t.enableSourceMaps)return(0,ct.of)(l);const m=this.getSourceMapLocation(a);return this.getSourceMap(m,l)}getStackLine(t){const s=new Error;try{throw s}catch{try{let l=4;return s.stack.split("\n")[0].includes(".js:")||(l+=1),s.stack.split("\n")[l+(t.proxiedSteps||0)]}catch{return null}}}getLocalPosition(t){const s=t.lastIndexOf("/");let a=t.indexOf(")");a<0&&(a=void 0);const m=t.substring(s+1,a).split(":");return 3===m.length?{fileName:m[0],lineNumber:+m[1],columnNumber:+m[2]}:{fileName:"unknown",lineNumber:0,columnNumber:0}}getTranspileLocation(t){let s=t.indexOf("(");s<0&&(s=t.lastIndexOf("@"),s<0&&(s=t.lastIndexOf(" ")));let a=t.indexOf(")");return a<0&&(a=void 0),t.substring(s+1,a)}getSourceMapLocation(t){const s=this.getTranspileLocation(t),a=s.substring(0,s.lastIndexOf(":"));return a.substring(0,a.lastIndexOf(":"))+".map"}getMapping(t,s){let a=0,l=0,m=0;const b=t.mappings.split(";");for(let O=0;O<b.length;O++){let U=0;const oe=b[O].split(",");for(let Oe=0;Oe<oe.length;Oe++){const it=zE(oe[Oe]);if(it.length>=4&&(U+=it[0],a+=it[1],l+=it[2],m+=it[3]),O===s.lineNumber){if(U===s.columnNumber)return{fileName:t.sources[a],lineNumber:l,columnNumber:m};if(Oe+1===oe.length)return{fileName:t.sources[a],lineNumber:l,columnNumber:0}}}}return{fileName:"unknown",lineNumber:0,columnNumber:0}}getSourceMap(t,s){const a=new fu.aW("GET",t),l=`${s.fileName}:${s.lineNumber}:${s.columnNumber}`;if(this.logPositionCache.has(l))return this.logPositionCache.get(l);this.sourceMapCache.has(t)||(this.httpBackend?this.sourceMapCache.set(t,this.httpBackend.handle(a).pipe((0,St.h)(b=>b instanceof fu.Zn),(0,Se.U)(b=>b.body),function cI(n=-1){return e=>e.lift(new lI(n,e))}(3),he(1))):(console.error("NGXLogger : Can't get sourcemap because HttpBackend is not provided. You need to import HttpClientModule"),this.sourceMapCache.set(t,(0,ct.of)(null))));const m=this.sourceMapCache.get(t).pipe((0,Se.U)(b=>b?this.getMapping(b,s):s),(0,nm.K)(()=>(0,ct.of)(s)),he(1));return this.logPositionCache.set(l,m),m}}return n.\u0275fac=function(t){return new(t||n)(F.LFG(fu.jN,8))},n.\u0275prov=F.Yz7({token:n,factory:n.\u0275fac}),n})();const jc="TOKEN_LOGGER_METADATA_SERVICE";let YE=(()=>{class n{constructor(t){this.datePipe=t}computeTimestamp(t){const s=()=>(new Date).toISOString();return t.timestampFormat?this.datePipe?this.datePipe.transform(new Date,t.timestampFormat):(console.error("NGXLogger : Can't use timeStampFormat because DatePipe is not provided. You need to provide DatePipe"),s()):s()}getMetadata(t,s,a,l){const m={level:t,additional:l};return m.message=a&&"function"==typeof a?a():a,m.timestamp=this.computeTimestamp(s),m}}return n.\u0275fac=function(t){return new(t||n)(F.LFG(Ee.uU,8))},n.\u0275prov=F.Yz7({token:n,factory:n.\u0275fac}),n})();const Eh="TOKEN_LOGGER_RULES_SERVICE";let qE=(()=>{class n{shouldCallWriter(t,s,a,l){return!s.disableConsoleLogging&&t>=s.level}shouldCallServer(t,s,a,l){return!!s.serverLoggingUrl&&t>=s.serverLogLevel}shouldCallMonitor(t,s,a,l){return this.shouldCallWriter(t,s,a,l)||this.shouldCallServer(t,s,a,l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=F.Yz7({token:n,factory:n.\u0275fac}),n})();const tp="TOKEN_LOGGER_SERVER_SERVICE";let hI=(()=>{class n{constructor(t){this.httpBackend=t}secureErrorObject(t){return t?.stack}secureAdditionalParameters(t){return null==t?null:t.map((s,a)=>{try{return s instanceof Error?this.secureErrorObject(s):("object"==typeof s&&JSON.stringify(s),s)}catch{return`The additional[${a}] value could not be parsed using JSON.stringify().`}})}secureMessage(t){try{if(t instanceof Error)return this.secureErrorObject(t);"string"!=typeof t&&(t=JSON.stringify(t,null,2))}catch{t='The provided "message" value could not be parsed with JSON.stringify().'}return t}alterHttpRequest(t){return t}logOnServer(t,s,a){if(!this.httpBackend)return console.error("NGXLogger : Can't log on server because HttpBackend is not provided. You need to import HttpClientModule"),(0,ct.of)(null);let l=new fu.aW("POST",t,s,a||{}),m=(0,ct.of)(l);const b=this.alterHttpRequest(l);return function uI(n){return!!n&&(n instanceof ot.y||"function"==typeof n.lift&&"function"==typeof n.subscribe)}(b)?m=b:b?m=(0,ct.of)(b):console.warn("NGXLogger : alterHttpRequest returned an invalid request. Using default one instead"),m.pipe((0,HE.b)(O=>O?this.httpBackend.handle(O):(console.warn("NGXLogger : alterHttpRequest returned an invalid request (observable). Using default one instead"),this.httpBackend.handle(l))),(0,St.h)(O=>O instanceof fu.Zn),(0,Se.U)(O=>O.body))}customiseRequestBody(t){return t}sendToServer(t,s){const a={...t};a.additional=this.secureAdditionalParameters(a.additional),a.message=this.secureMessage(a.message);const l=this.customiseRequestBody(a),m=s.customHttpHeaders||new fu.WM;m.has("Content-Type")||m.set("Content-Type","application/json"),this.logOnServer(s.serverLoggingUrl,l,{headers:m,params:s.customHttpParams||new fu.LE,responseType:s.httpResponseType||"json",withCredentials:s.withCredentials||!1}).pipe((0,nm.K)(b=>(console.error("NGXLogger: Failed to log on server",b),(0,jE._)(b)))).subscribe()}}return n.\u0275fac=function(t){return new(t||n)(F.LFG(fu.jN,8))},n.\u0275prov=F.Yz7({token:n,factory:n.\u0275fac}),n})();const um="TOKEN_LOGGER_WRITER_SERVICE";var Mi=(()=>(function(n){n[n.TRACE=0]="TRACE",n[n.DEBUG=1]="DEBUG",n[n.INFO=2]="INFO",n[n.LOG=3]="LOG",n[n.WARN=4]="WARN",n[n.ERROR=5]="ERROR",n[n.FATAL=6]="FATAL",n[n.OFF=7]="OFF"}(Mi||(Mi={})),Mi))();const ZE=["purple","teal","gray","gray","red","red","red"];let fI=(()=>{class n{constructor(t){this.platformId=t,this.prepareMetaStringFuncs=[this.getTimestampToWrite,this.getLevelToWrite,this.getFileDetailsToWrite,this.getContextToWrite],this.isIE=(0,Ee.NF)(t)&&navigator&&navigator.userAgent&&!(-1===navigator.userAgent.indexOf("MSIE")&&!navigator.userAgent.match(/Trident\//)&&!navigator.userAgent.match(/Edge\//)),this.logFunc=this.isIE?this.logIE.bind(this):this.logModern.bind(this)}getTimestampToWrite(t,s){return t.timestamp}getLevelToWrite(t,s){return Mi[t.level]}getFileDetailsToWrite(t,s){return!0===s.disableFileDetails?"":`[${t.fileName}:${t.lineNumber}:${t.columnNumber}]`}getContextToWrite(t,s){return s.context?`{${s.context}}`:""}prepareMetaString(t,s){let a="";return this.prepareMetaStringFuncs.forEach(l=>{const m=l(t,s);m&&(a=a+" "+m)}),a.trim()}getColor(t,s){if(t.level!==Mi.OFF)return(s.colorScheme??ZE)[t.level]}logIE(t,s,a){const l=t.additional||[];switch(t.level){case Mi.WARN:console.warn(`${a} `,t.message,...l);break;case Mi.ERROR:case Mi.FATAL:console.error(`${a} `,t.message,...l);break;case Mi.INFO:console.info(`${a} `,t.message,...l);break;default:console.log(`${a} `,t.message,...l)}}logModern(t,s,a){const l=this.getColor(t,s),m=t.additional||[];switch(t.level){case Mi.WARN:console.warn(`%c${a}`,`color:${l}`,t.message,...m);break;case Mi.ERROR:case Mi.FATAL:console.error(`%c${a}`,`color:${l}`,t.message,...m);break;case Mi.INFO:console.info(`%c${a}`,`color:${l}`,t.message,...m);break;case Mi.DEBUG:console.debug(`%c${a}`,`color:${l}`,t.message,...m);break;default:console.log(`%c${a}`,`color:${l}`,t.message,...m)}}writeMessage(t,s){const a=this.prepareMetaString(t,s);this.logFunc(t,s,a)}}return n.\u0275fac=function(t){return new(t||n)(F.LFG(F.Lbi))},n.\u0275prov=F.Yz7({token:n,factory:n.\u0275fac}),n})(),cm=(()=>{class n{constructor(t,s,a,l,m,b,O){this.metadataService=a,this.ruleService=l,this.mapperService=m,this.writerService=b,this.serverService=O,this.configEngine=s.provideConfigEngine(t)}get level(){return this.configEngine.level}get serverLogLevel(){return this.configEngine.serverLogLevel}trace(t,...s){this._log(Mi.TRACE,t,s)}debug(t,...s){this._log(Mi.DEBUG,t,s)}info(t,...s){this._log(Mi.INFO,t,s)}log(t,...s){this._log(Mi.LOG,t,s)}warn(t,...s){this._log(Mi.WARN,t,s)}error(t,...s){this._log(Mi.ERROR,t,s)}fatal(t,...s){this._log(Mi.FATAL,t,s)}setCustomHttpHeaders(t){const s=this.getConfigSnapshot();s.customHttpHeaders=t,this.updateConfig(s)}setCustomParams(t){const s=this.getConfigSnapshot();s.customHttpParams=t,this.updateConfig(s)}setWithCredentialsOptionValue(t){const s=this.getConfigSnapshot();s.withCredentials=t,this.updateConfig(s)}registerMonitor(t){this._loggerMonitor=t}updateConfig(t){this.configEngine.updateConfig(t)}partialUpdateConfig(t){this.configEngine.partialUpdateConfig(t)}getConfigSnapshot(){return this.configEngine.getConfig()}_log(t,s,a=[]){const l=this.configEngine.getConfig(),m=this.ruleService.shouldCallWriter(t,l,s,a),b=this.ruleService.shouldCallServer(t,l,s,a),O=this.ruleService.shouldCallMonitor(t,l,s,a);if(!m&&!b&&!O)return;const U=this.metadataService.getMetadata(t,l,s,a);this.mapperService.getLogPosition(l,U).pipe((0,lD.q)(1)).subscribe(oe=>{oe&&(U.fileName=oe.fileName,U.lineNumber=oe.lineNumber,U.columnNumber=oe.columnNumber),O&&this._loggerMonitor&&this._loggerMonitor.onLog(U,l),m&&this.writerService.writeMessage(U,l),b&&this.serverService.sendToServer(U,l)})}}return n.\u0275fac=function(t){return new(t||n)(F.LFG(ep),F.LFG(vh),F.LFG(jc),F.LFG(Eh),F.LFG(_h),F.LFG(um),F.LFG(tp))},n.\u0275prov=F.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pI=(()=>{class n{constructor(t,s,a,l,m,b,O){this.logger=t,this.configEngineFactory=s,this.metadataService=a,this.ruleService=l,this.mapperService=m,this.writerService=b,this.serverService=O}create(t,s,a,l){return this.getNewInstance({config:t,serverService:s,logMonitor:a,mapperService:l})}getNewInstance(t){const s=new cm(t?.config??this.logger.getConfigSnapshot(),t?.configEngineFactory??this.configEngineFactory,t?.metadataService??this.metadataService,t?.ruleService??this.ruleService,t?.mapperService??this.mapperService,t?.writerService??this.writerService,t?.serverService??this.serverService);return t?.partialConfig&&s.partialUpdateConfig(t.partialConfig),t?.logMonitor&&s.registerMonitor(t.logMonitor),s}}return n.\u0275fac=function(t){return new(t||n)(F.LFG(cm),F.LFG(vh),F.LFG(jc),F.LFG(Eh),F.LFG(_h),F.LFG(um),F.LFG(tp))},n.\u0275prov=F.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hD=(()=>{class n{static forRoot(t,s){if(s||(s={}),s.configProvider){if(s.configProvider.provide!==ep)throw new Error(`Wrong injection token for configProvider, it should be ${ep} and you used ${s.configProvider.provide}`)}else s.configProvider={provide:ep,useValue:t||{}};if(s.configEngineFactoryProvider){if(s.configEngineFactoryProvider.provide!==vh)throw new Error(`Wrong injection token for configEngineFactoryProvider, it should be '${vh}' and you used '${s.configEngineFactoryProvider.provide}'`)}else s.configEngineFactoryProvider={provide:vh,useClass:KE};if(s.metadataProvider){if(s.metadataProvider.provide!==jc)throw new Error(`Wrong injection token for metadataProvider, it should be '${jc}' and you used '${s.metadataProvider.provide}'`)}else s.metadataProvider={provide:jc,useClass:YE};if(s.ruleProvider){if(s.ruleProvider.provide!==Eh)throw new Error(`Wrong injection token for ruleProvider, it should be '${Eh}' and you used '${s.ruleProvider.provide}'`)}else s.ruleProvider={provide:Eh,useClass:qE};if(s.mapperProvider){if(s.mapperProvider.provide!==_h)throw new Error(`Wrong injection token for mapperProvider, it should be '${_h}' and you used '${s.mapperProvider.provide}'`)}else s.mapperProvider={provide:_h,useClass:am};if(s.writerProvider){if(s.writerProvider.provide!==um)throw new Error(`Wrong injection token for writerProvider, it should be '${um}' and you used '${s.writerProvider.provide}'`)}else s.writerProvider={provide:um,useClass:fI};if(s.serverProvider){if(s.serverProvider.provide!==tp)throw new Error(`Wrong injection token for serverProvider, it should be '${tp}' and you used '${s.writerProvider.provide}'`)}else s.serverProvider={provide:tp,useClass:hI};return{ngModule:n,providers:[cm,s.configProvider,s.configEngineFactoryProvider,s.metadataProvider,s.ruleProvider,s.mapperProvider,s.writerProvider,s.serverProvider,pI]}}static forChild(){return{ngModule:n}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=F.oAB({type:n}),n.\u0275inj=F.cJS({imports:[[Ee.ez]]}),n})();var fD=P(4023);let pD=(()=>{class n{constructor(t,s,a){this.logger=t,this.toastService=s,this.sessionService=a}intercept(t,s){let a;return a=this.sessionService.token?t.headers.set("Content-Type","application/json").set("Authorization",this.sessionService.token).set("Accept","application/json"):t.headers.set("Content-Type","application/json").set("Accept","application/json"),t=t.clone({url:ee_api_url+t.url,headers:a}),s.handle(t).pipe((0,Se.U)(l=>l?.body?.error?(this.toastService.error({message:l.body.error[Object.keys(l.body.error)[0]]}).then(()=>{},()=>{}),(0,jE._)(l.body.error[Object.keys(l.body.error)[0]])):l),(0,nm.K)(l=>(l.error.errors&&this.toastService.error({message:l.error.errors[Object.keys(l.error.errors)[0]]}).then(()=>{},()=>{}),(0,jE._)(l.error.message))))}}return n.\u0275fac=function(t){return new(t||n)(F.LFG(cm),F.LFG(fD.k),F.LFG(ue.m))},n.\u0275prov=F.Yz7({token:n,factory:n.\u0275fac}),n})(),gD=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=F.oAB({type:n,bootstrap:[Ce]}),n.\u0275inj=F.cJS({providers:[{provide:j.wN,useClass:De.r4},{provide:fu.TP,useClass:pD,multi:!0},ue.m],imports:[u.b2,De.Pc.forRoot({mode:"md"}),se,J.hO.initializeApp(ee_firebase),Hc,FE,Ki,JI,Qw,Eo.forRoot(),fu.JF,hD.forRoot({serverLoggingUrl:"/api/logs",level:Mi.DEBUG,serverLogLevel:Mi.ERROR})]}),n})();(0,F.G48)(),u.q6().bootstrapModule(gD).catch(n=>console.log(n))},4424:Zt=>{Zt.exports=function F(j,De,Ce){function z(pe,Q){if(!De[pe]){if(!j[pe]){if(ue)return ue(pe,!0);var se=new Error("Cannot find module '"+pe+"'");throw se.code="MODULE_NOT_FOUND",se}var ee=De[pe]={exports:{}};j[pe][0].call(ee.exports,function(Ie){return z(j[pe][1][Ie]||Ie)},ee,ee.exports,F,j,De,Ce)}return De[pe].exports}for(var ue=void 0,fe=0;fe<Ce.length;fe++)z(Ce[fe]);return z}({1:[function(F,j,De){(function(Ce){"use strict";var ue,z=Ce.MutationObserver||Ce.WebKitMutationObserver;if(z){var fe=0,pe=new z(Ie),Q=Ce.document.createTextNode("");pe.observe(Q,{characterData:!0}),ue=function(){Q.data=fe=++fe%2}}else if(!Ce.setImmediate&&typeof Ce.MessageChannel<"u"){var K=new Ce.MessageChannel;K.port1.onmessage=Ie,ue=function(){K.port2.postMessage(0)}}else ue="document"in Ce&&"onreadystatechange"in Ce.document.createElement("script")?function(){var je=Ce.document.createElement("script");je.onreadystatechange=function(){Ie(),je.onreadystatechange=null,je.parentNode.removeChild(je),je=null},Ce.document.documentElement.appendChild(je)}:function(){setTimeout(Ie,0)};var se,ee=[];function Ie(){se=!0;for(var je,Ee,ye=ee.length;ye;){for(Ee=ee,ee=[],je=-1;++je<ye;)Ee[je]();ye=ee.length}se=!1}j.exports=function ct(je){1===ee.push(je)&&!se&&ue()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(F,j,De){"use strict";var Ce=F(1);function z(){}var ue={},fe=["REJECTED"],pe=["FULFILLED"],Q=["PENDING"];function K(Ve){if("function"!=typeof Ve)throw new TypeError("resolver must be a function");this.state=Q,this.queue=[],this.outcome=void 0,Ve!==z&&ct(this,Ve)}function se(Ve,Ue,dt){this.promise=Ve,"function"==typeof Ue&&(this.onFulfilled=Ue,this.callFulfilled=this.otherCallFulfilled),"function"==typeof dt&&(this.onRejected=dt,this.callRejected=this.otherCallRejected)}function ee(Ve,Ue,dt){Ce(function(){var qe;try{qe=Ue(dt)}catch(nt){return ue.reject(Ve,nt)}qe===Ve?ue.reject(Ve,new TypeError("Cannot resolve promise with itself")):ue.resolve(Ve,qe)})}function Ie(Ve){var Ue=Ve&&Ve.then;if(Ve&&("object"==typeof Ve||"function"==typeof Ve)&&"function"==typeof Ue)return function(){Ue.apply(Ve,arguments)}}function ct(Ve,Ue){var dt=!1;function qe(he){dt||(dt=!0,ue.reject(Ve,he))}function nt(he){dt||(dt=!0,ue.resolve(Ve,he))}var Re=je(function ge(){Ue(nt,qe)});"error"===Re.status&&qe(Re.value)}function je(Ve,Ue){var dt={};try{dt.value=Ve(Ue),dt.status="success"}catch(qe){dt.status="error",dt.value=qe}return dt}j.exports=K,K.prototype.catch=function(Ve){return this.then(null,Ve)},K.prototype.then=function(Ve,Ue){if("function"!=typeof Ve&&this.state===pe||"function"!=typeof Ue&&this.state===fe)return this;var dt=new this.constructor(z);return this.state!==Q?ee(dt,this.state===pe?Ve:Ue,this.outcome):this.queue.push(new se(dt,Ve,Ue)),dt},se.prototype.callFulfilled=function(Ve){ue.resolve(this.promise,Ve)},se.prototype.otherCallFulfilled=function(Ve){ee(this.promise,this.onFulfilled,Ve)},se.prototype.callRejected=function(Ve){ue.reject(this.promise,Ve)},se.prototype.otherCallRejected=function(Ve){ee(this.promise,this.onRejected,Ve)},ue.resolve=function(Ve,Ue){var dt=je(Ie,Ue);if("error"===dt.status)return ue.reject(Ve,dt.value);var qe=dt.value;if(qe)ct(Ve,qe);else{Ve.state=pe,Ve.outcome=Ue;for(var nt=-1,ge=Ve.queue.length;++nt<ge;)Ve.queue[nt].callFulfilled(Ue)}return Ve},ue.reject=function(Ve,Ue){Ve.state=fe,Ve.outcome=Ue;for(var dt=-1,qe=Ve.queue.length;++dt<qe;)Ve.queue[dt].callRejected(Ue);return Ve},K.resolve=function Ee(Ve){return Ve instanceof this?Ve:ue.resolve(new this(z),Ve)},K.reject=function ye(Ve){var Ue=new this(z);return ue.reject(Ue,Ve)},K.all=function st(Ve){var Ue=this;if("[object Array]"!==Object.prototype.toString.call(Ve))return this.reject(new TypeError("must be an array"));var dt=Ve.length,qe=!1;if(!dt)return this.resolve([]);for(var nt=new Array(dt),ge=0,Re=-1,he=new this(z);++Re<dt;)re(Ve[Re],Re);return he;function re(Y,J){Ue.resolve(Y).then(function Ke(ot){nt[J]=ot,++ge===dt&&!qe&&(qe=!0,ue.resolve(he,nt))},function(ot){qe||(qe=!0,ue.reject(he,ot))})}},K.race=function Se(Ve){var Ue=this;if("[object Array]"!==Object.prototype.toString.call(Ve))return this.reject(new TypeError("must be an array"));var dt=Ve.length,qe=!1;if(!dt)return this.resolve([]);for(var nt=-1,ge=new this(z);++nt<dt;)Ue.resolve(Ve[nt]).then(function(re){qe||(qe=!0,ue.resolve(ge,re))},function(re){qe||(qe=!0,ue.reject(ge,re))});return ge}},{1:1}],3:[function(F,j,De){(function(Ce){"use strict";"function"!=typeof Ce.Promise&&(Ce.Promise=F(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(F,j,De){"use strict";var Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ce){return typeof ce}:function(ce){return ce&&"function"==typeof Symbol&&ce.constructor===Symbol&&ce!==Symbol.prototype?"symbol":typeof ce};var fe=function ue(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}();function Q(ce,Xe){ce=ce||[],Xe=Xe||{};try{return new Blob(ce,Xe)}catch(ne){if("TypeError"!==ne.name)throw ne;for(var G=new(typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder),te=0;te<ce.length;te+=1)G.append(ce[te]);return G.getBlob(Xe.type)}}typeof Promise>"u"&&F(3);var K=Promise;function se(ce,Xe){Xe&&ce.then(function(T){Xe(null,T)},function(T){Xe(T)})}function ee(ce,Xe,T){"function"==typeof Xe&&ce.then(Xe),"function"==typeof T&&ce.catch(T)}function Ie(ce){return"string"!=typeof ce&&(console.warn(ce+" used as a key, but it is not a string."),ce=String(ce)),ce}function ct(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var je="local-forage-detect-blob-support",Ee=void 0,ye={},st=Object.prototype.toString,Se="readonly",Ve="readwrite";function Ue(ce){for(var Xe=ce.length,T=new ArrayBuffer(Xe),G=new Uint8Array(T),te=0;te<Xe;te++)G[te]=ce.charCodeAt(te);return T}function qe(ce){return"boolean"==typeof Ee?K.resolve(Ee):function dt(ce){return new K(function(Xe){var T=ce.transaction(je,Ve),G=Q([""]);T.objectStore(je).put(G,"key"),T.onabort=function(te){te.preventDefault(),te.stopPropagation(),Xe(!1)},T.oncomplete=function(){var te=navigator.userAgent.match(/Chrome\/(\d+)/),ne=navigator.userAgent.match(/Edge\//);Xe(ne||!te||parseInt(te[1],10)>=43)}}).catch(function(){return!1})}(ce).then(function(Xe){return Ee=Xe})}function nt(ce){var Xe=ye[ce.name],T={};T.promise=new K(function(G,te){T.resolve=G,T.reject=te}),Xe.deferredOperations.push(T),Xe.dbReady=Xe.dbReady?Xe.dbReady.then(function(){return T.promise}):T.promise}function ge(ce){var T=ye[ce.name].deferredOperations.pop();if(T)return T.resolve(),T.promise}function Re(ce,Xe){var G=ye[ce.name].deferredOperations.pop();if(G)return G.reject(Xe),G.promise}function he(ce,Xe){return new K(function(T,G){if(ye[ce.name]=ye[ce.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},ce.db){if(!Xe)return T(ce.db);nt(ce),ce.db.close()}var te=[ce.name];Xe&&te.push(ce.version);var ne=fe.open.apply(fe,te);Xe&&(ne.onupgradeneeded=function(Ne){var q=ne.result;try{q.createObjectStore(ce.storeName),Ne.oldVersion<=1&&q.createObjectStore(je)}catch(_e){if("ConstraintError"!==_e.name)throw _e;console.warn('The database "'+ce.name+'" has been upgraded from version '+Ne.oldVersion+" to version "+Ne.newVersion+', but the storage "'+ce.storeName+'" already exists.')}}),ne.onerror=function(Ne){Ne.preventDefault(),G(ne.error)},ne.onsuccess=function(){var Ne=ne.result;Ne.onversionchange=function(q){q.target.close()},T(Ne),ge(ce)}})}function re(ce){return he(ce,!1)}function Y(ce){return he(ce,!0)}function J(ce,Xe){if(!ce.db)return!0;var T=!ce.db.objectStoreNames.contains(ce.storeName),te=ce.version>ce.db.version;if(ce.version<ce.db.version&&(ce.version!==Xe&&console.warn('The database "'+ce.name+"\" can't be downgraded from version "+ce.db.version+" to version "+ce.version+"."),ce.version=ce.db.version),te||T){if(T){var ne=ce.db.version+1;ne>ce.version&&(ce.version=ne)}return!0}return!1}function ot(ce){return Q([Ue(atob(ce.data))],{type:ce.type})}function wt(ce){return ce&&ce.__local_forage_encoded_blob}function rt(ce){var Xe=this,T=Xe._initReady().then(function(){var G=ye[Xe._dbInfo.name];if(G&&G.dbReady)return G.dbReady});return ee(T,ce,ce),T}function Ze(ce,Xe,T,G){void 0===G&&(G=1);try{var te=ce.db.transaction(ce.storeName,Xe);T(null,te)}catch(ne){if(G>0&&(!ce.db||"InvalidStateError"===ne.name||"NotFoundError"===ne.name))return K.resolve().then(function(){if(!ce.db||"NotFoundError"===ne.name&&!ce.db.objectStoreNames.contains(ce.storeName)&&ce.version<=ce.db.version)return ce.db&&(ce.version=ce.db.version+1),Y(ce)}).then(function(){return function Ge(ce){nt(ce);for(var Xe=ye[ce.name],T=Xe.forages,G=0;G<T.length;G++){var te=T[G];te._dbInfo.db&&(te._dbInfo.db.close(),te._dbInfo.db=null)}return ce.db=null,re(ce).then(function(ne){return ce.db=ne,J(ce)?Y(ce):ne}).then(function(ne){ce.db=Xe.db=ne;for(var Ne=0;Ne<T.length;Ne++)T[Ne]._dbInfo.db=ne}).catch(function(ne){throw Re(ce,ne),ne})}(ce).then(function(){Ze(ce,Xe,T,G-1)})}).catch(T);T(ne)}}var wn={_driver:"asyncStorage",_initStorage:function St(ce){var Xe=this,T={db:null};if(ce)for(var G in ce)T[G]=ce[G];var te=ye[T.name];te||(ye[T.name]=te={forages:[],db:null,dbReady:null,deferredOperations:[]}),te.forages.push(Xe),Xe._initReady||(Xe._initReady=Xe.ready,Xe.ready=rt);var ne=[];function Ne(){return K.resolve()}for(var q=0;q<te.forages.length;q++){var _e=te.forages[q];_e!==Xe&&ne.push(_e._initReady().catch(Ne))}var Fe=te.forages.slice(0);return K.all(ne).then(function(){return T.db=te.db,re(T)}).then(function(Qe){return T.db=Qe,J(T,Xe._defaultConfig.version)?Y(T):Qe}).then(function(Qe){T.db=te.db=Qe,Xe._dbInfo=T;for(var yt=0;yt<Fe.length;yt++){var Ut=Fe[yt];Ut!==Xe&&(Ut._dbInfo.db=T.db,Ut._dbInfo.version=T.version)}})},_support:function pe(){try{if(!fe||!fe.open)return!1;var ce=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Xe="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!ce||Xe)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}(),iterate:function bt(ce,Xe){var T=this,G=new K(function(te,ne){T.ready().then(function(){Ze(T._dbInfo,Se,function(Ne,q){if(Ne)return ne(Ne);try{var Fe=q.objectStore(T._dbInfo.storeName).openCursor(),Qe=1;Fe.onsuccess=function(){var yt=Fe.result;if(yt){var Ut=yt.value;wt(Ut)&&(Ut=ot(Ut));var Xt=ce(Ut,yt.key,Qe++);void 0!==Xt?te(Xt):yt.continue()}else te()},Fe.onerror=function(){ne(Fe.error)}}catch(yt){ne(yt)}})}).catch(ne)});return se(G,Xe),G},getItem:function _t(ce,Xe){var T=this;ce=Ie(ce);var G=new K(function(te,ne){T.ready().then(function(){Ze(T._dbInfo,Se,function(Ne,q){if(Ne)return ne(Ne);try{var Fe=q.objectStore(T._dbInfo.storeName).get(ce);Fe.onsuccess=function(){var Qe=Fe.result;void 0===Qe&&(Qe=null),wt(Qe)&&(Qe=ot(Qe)),te(Qe)},Fe.onerror=function(){ne(Fe.error)}}catch(Qe){ne(Qe)}})}).catch(ne)});return se(G,Xe),G},setItem:function tt(ce,Xe,T){var G=this;ce=Ie(ce);var te=new K(function(ne,Ne){var q;G.ready().then(function(){return q=G._dbInfo,"[object Blob]"===st.call(Xe)?qe(q.db).then(function(_e){return _e?Xe:function Ke(ce){return new K(function(Xe,T){var G=new FileReader;G.onerror=T,G.onloadend=function(te){var ne=btoa(te.target.result||"");Xe({__local_forage_encoded_blob:!0,data:ne,type:ce.type})},G.readAsBinaryString(ce)})}(Xe)}):Xe}).then(function(_e){Ze(G._dbInfo,Ve,function(Fe,Qe){if(Fe)return Ne(Fe);try{var yt=Qe.objectStore(G._dbInfo.storeName);null===_e&&(_e=void 0);var Ut=yt.put(_e,ce);Qe.oncomplete=function(){void 0===_e&&(_e=null),ne(_e)},Qe.onabort=Qe.onerror=function(){Ne(Ut.error?Ut.error:Ut.transaction.error)}}catch(Xt){Ne(Xt)}})}).catch(Ne)});return se(te,T),te},removeItem:function Vt(ce,Xe){var T=this;ce=Ie(ce);var G=new K(function(te,ne){T.ready().then(function(){Ze(T._dbInfo,Ve,function(Ne,q){if(Ne)return ne(Ne);try{var Fe=q.objectStore(T._dbInfo.storeName).delete(ce);q.oncomplete=function(){te()},q.onerror=function(){ne(Fe.error)},q.onabort=function(){ne(Fe.error?Fe.error:Fe.transaction.error)}}catch(Qe){ne(Qe)}})}).catch(ne)});return se(G,Xe),G},clear:function $t(ce){var Xe=this,T=new K(function(G,te){Xe.ready().then(function(){Ze(Xe._dbInfo,Ve,function(ne,Ne){if(ne)return te(ne);try{var _e=Ne.objectStore(Xe._dbInfo.storeName).clear();Ne.oncomplete=function(){G()},Ne.onabort=Ne.onerror=function(){te(_e.error?_e.error:_e.transaction.error)}}catch(Fe){te(Fe)}})}).catch(te)});return se(T,ce),T},length:function bn(ce){var Xe=this,T=new K(function(G,te){Xe.ready().then(function(){Ze(Xe._dbInfo,Se,function(ne,Ne){if(ne)return te(ne);try{var _e=Ne.objectStore(Xe._dbInfo.storeName).count();_e.onsuccess=function(){G(_e.result)},_e.onerror=function(){te(_e.error)}}catch(Fe){te(Fe)}})}).catch(te)});return se(T,ce),T},key:function vn(ce,Xe){var T=this,G=new K(function(te,ne){ce<0?te(null):T.ready().then(function(){Ze(T._dbInfo,Se,function(Ne,q){if(Ne)return ne(Ne);try{var _e=q.objectStore(T._dbInfo.storeName),Fe=!1,Qe=_e.openKeyCursor();Qe.onsuccess=function(){var yt=Qe.result;yt?0===ce||Fe?te(yt.key):(Fe=!0,yt.advance(ce)):te(null)},Qe.onerror=function(){ne(Qe.error)}}catch(yt){ne(yt)}})}).catch(ne)});return se(G,Xe),G},keys:function Ln(ce){var Xe=this,T=new K(function(G,te){Xe.ready().then(function(){Ze(Xe._dbInfo,Se,function(ne,Ne){if(ne)return te(ne);try{var _e=Ne.objectStore(Xe._dbInfo.storeName).openKeyCursor(),Fe=[];_e.onsuccess=function(){var Qe=_e.result;Qe?(Fe.push(Qe.key),Qe.continue()):G(Fe)},_e.onerror=function(){te(_e.error)}}catch(Qe){te(Qe)}})}).catch(te)});return se(T,ce),T},dropInstance:function mn(ce,Xe){Xe=ct.apply(this,arguments);var T=this.config();(ce="function"!=typeof ce&&ce||{}).name||(ce.name=ce.name||T.name,ce.storeName=ce.storeName||T.storeName);var te,G=this;if(ce.name){var Ne=ce.name===T.name&&G._dbInfo.db?K.resolve(G._dbInfo.db):re(ce).then(function(q){var _e=ye[ce.name],Fe=_e.forages;_e.db=q;for(var Qe=0;Qe<Fe.length;Qe++)Fe[Qe]._dbInfo.db=q;return q});te=Ne.then(ce.storeName?function(q){if(q.objectStoreNames.contains(ce.storeName)){var _e=q.version+1;nt(ce);var Fe=ye[ce.name],Qe=Fe.forages;q.close();for(var yt=0;yt<Qe.length;yt++){var Ut=Qe[yt];Ut._dbInfo.db=null,Ut._dbInfo.version=_e}return new K(function(dn,Rn){var jn=fe.open(ce.name,_e);jn.onerror=function(lr){jn.result.close(),Rn(lr)},jn.onupgradeneeded=function(){jn.result.deleteObjectStore(ce.storeName)},jn.onsuccess=function(){var lr=jn.result;lr.close(),dn(lr)}}).then(function(dn){Fe.db=dn;for(var Rn=0;Rn<Qe.length;Rn++){var jn=Qe[Rn];jn._dbInfo.db=dn,ge(jn._dbInfo)}}).catch(function(dn){throw(Re(ce,dn)||K.resolve()).catch(function(){}),dn})}}:function(q){nt(ce);var _e=ye[ce.name],Fe=_e.forages;q.close();for(var Qe=0;Qe<Fe.length;Qe++)Fe[Qe]._dbInfo.db=null;return new K(function(Xt,dn){var Rn=fe.deleteDatabase(ce.name);Rn.onerror=function(){var jn=Rn.result;jn&&jn.close(),dn(Rn.error)},Rn.onblocked=function(){console.warn('dropInstance blocked for database "'+ce.name+'" until all open connections are closed')},Rn.onsuccess=function(){var jn=Rn.result;jn&&jn.close(),Xt(jn)}}).then(function(Xt){_e.db=Xt;for(var dn=0;dn<Fe.length;dn++)ge(Fe[dn]._dbInfo)}).catch(function(Xt){throw(Re(ce,Xt)||K.resolve()).catch(function(){}),Xt})})}else te=K.reject("Invalid arguments");return se(te,Xe),te}};var Hn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_n=/^~~local_forage_type~([^~]+)~/,In="__lfsc__:",zn=In.length,Zn="arbf",Jn="blob",on=zn+Zn.length,Dn=Object.prototype.toString;function nn(ce){var G,ne,Ne,q,_e,Xe=.75*ce.length,T=ce.length,te=0;"="===ce[ce.length-1]&&(Xe--,"="===ce[ce.length-2]&&Xe--);var Fe=new ArrayBuffer(Xe),Qe=new Uint8Array(Fe);for(G=0;G<T;G+=4)ne=Hn.indexOf(ce[G]),Ne=Hn.indexOf(ce[G+1]),q=Hn.indexOf(ce[G+2]),_e=Hn.indexOf(ce[G+3]),Qe[te++]=ne<<2|Ne>>4,Qe[te++]=(15&Ne)<<4|q>>2,Qe[te++]=(3&q)<<6|63&_e;return Fe}function rn(ce){var G,Xe=new Uint8Array(ce),T="";for(G=0;G<Xe.length;G+=3)T+=Hn[Xe[G]>>2],T+=Hn[(3&Xe[G])<<4|Xe[G+1]>>4],T+=Hn[(15&Xe[G+1])<<2|Xe[G+2]>>6],T+=Hn[63&Xe[G+2]];return Xe.length%3==2?T=T.substring(0,T.length-1)+"=":Xe.length%3==1&&(T=T.substring(0,T.length-2)+"=="),T}var Sn={serialize:function Tn(ce,Xe){var T="";if(ce&&(T=Dn.call(ce)),ce&&("[object ArrayBuffer]"===T||ce.buffer&&"[object ArrayBuffer]"===Dn.call(ce.buffer))){var G,te=In;ce instanceof ArrayBuffer?(G=ce,te+=Zn):(G=ce.buffer,"[object Int8Array]"===T?te+="si08":"[object Uint8Array]"===T?te+="ui08":"[object Uint8ClampedArray]"===T?te+="uic8":"[object Int16Array]"===T?te+="si16":"[object Uint16Array]"===T?te+="ur16":"[object Int32Array]"===T?te+="si32":"[object Uint32Array]"===T?te+="ui32":"[object Float32Array]"===T?te+="fl32":"[object Float64Array]"===T?te+="fl64":Xe(new Error("Failed to get type for BinaryArray"))),Xe(te+rn(G))}else if("[object Blob]"===T){var ne=new FileReader;ne.onload=function(){var Ne="~~local_forage_type~"+ce.type+"~"+rn(this.result);Xe(In+Jn+Ne)},ne.readAsArrayBuffer(ce)}else try{Xe(JSON.stringify(ce))}catch(Ne){console.error("Couldn't convert value into a JSON string: ",ce),Xe(null,Ne)}},deserialize:function sr(ce){if(ce.substring(0,zn)!==In)return JSON.parse(ce);var G,Xe=ce.substring(on),T=ce.substring(zn,on);if(T===Jn&&_n.test(Xe)){var te=Xe.match(_n);G=te[1],Xe=Xe.substring(te[0].length)}var ne=nn(Xe);switch(T){case Zn:return ne;case Jn:return Q([ne],{type:G});case"si08":return new Int8Array(ne);case"ui08":return new Uint8Array(ne);case"uic8":return new Uint8ClampedArray(ne);case"si16":return new Int16Array(ne);case"ur16":return new Uint16Array(ne);case"si32":return new Int32Array(ne);case"ui32":return new Uint32Array(ne);case"fl32":return new Float32Array(ne);case"fl64":return new Float64Array(ne);default:throw new Error("Unkown type: "+T)}},stringToBuffer:nn,bufferToString:rn};function fn(ce,Xe,T,G){ce.executeSql("CREATE TABLE IF NOT EXISTS "+Xe.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],T,G)}function Qt(ce,Xe,T,G,te,ne){ce.executeSql(T,G,te,function(Ne,q){q.code===q.SYNTAX_ERR?Ne.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Xe.storeName],function(_e,Fe){Fe.rows.length?ne(_e,q):fn(_e,Xe,function(){_e.executeSql(T,G,te,ne)},ne)},ne):ne(Ne,q)},ne)}function an(ce,Xe,T,G){var te=this;ce=Ie(ce);var ne=new K(function(Ne,q){te.ready().then(function(){void 0===Xe&&(Xe=null);var _e=Xe,Fe=te._dbInfo;Fe.serializer.serialize(Xe,function(Qe,yt){yt?q(yt):Fe.db.transaction(function(Ut){Qt(Ut,Fe,"INSERT OR REPLACE INTO "+Fe.storeName+" (key, value) VALUES (?, ?)",[ce,Qe],function(){Ne(_e)},function(Xt,dn){q(dn)})},function(Ut){if(Ut.code===Ut.QUOTA_ERR){if(G>0)return void Ne(an.apply(te,[ce,_e,T,G-1]));q(Ut)}})})}).catch(q)});return se(ne,T),ne}function ke(ce){return new K(function(Xe,T){ce.transaction(function(G){G.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(te,ne){for(var Ne=[],q=0;q<ne.rows.length;q++)Ne.push(ne.rows.item(q).name);Xe({db:ce,storeNames:Ne})},function(te,ne){T(ne)})},function(G){T(G)})})}var We={_driver:"webSQLStorage",_initStorage:function Fn(ce){var Xe=this,T={db:null};if(ce)for(var G in ce)T[G]="string"!=typeof ce[G]?ce[G].toString():ce[G];var te=new K(function(ne,Ne){try{T.db=openDatabase(T.name,String(T.version),T.description,T.size)}catch(q){return Ne(q)}T.db.transaction(function(q){fn(q,T,function(){Xe._dbInfo=T,ne()},function(_e,Fe){Ne(Fe)})},Ne)});return T.serializer=Sn,te},_support:function Bn(){return"function"==typeof openDatabase}(),iterate:function Yt(ce,Xe){var T=this,G=new K(function(te,ne){T.ready().then(function(){var Ne=T._dbInfo;Ne.db.transaction(function(q){Qt(q,Ne,"SELECT * FROM "+Ne.storeName,[],function(_e,Fe){for(var Qe=Fe.rows,yt=Qe.length,Ut=0;Ut<yt;Ut++){var Xt=Qe.item(Ut),dn=Xt.value;if(dn&&(dn=Ne.serializer.deserialize(dn)),void 0!==(dn=ce(dn,Xt.key,Ut+1)))return void te(dn)}te()},function(_e,Fe){ne(Fe)})})}).catch(ne)});return se(G,Xe),G},getItem:function Mt(ce,Xe){var T=this;ce=Ie(ce);var G=new K(function(te,ne){T.ready().then(function(){var Ne=T._dbInfo;Ne.db.transaction(function(q){Qt(q,Ne,"SELECT * FROM "+Ne.storeName+" WHERE key = ? LIMIT 1",[ce],function(_e,Fe){var Qe=Fe.rows.length?Fe.rows.item(0).value:null;Qe&&(Qe=Ne.serializer.deserialize(Qe)),te(Qe)},function(_e,Fe){ne(Fe)})})}).catch(ne)});return se(G,Xe),G},setItem:function Cn(ce,Xe,T){return an.apply(this,[ce,Xe,T,1])},removeItem:function yn(ce,Xe){var T=this;ce=Ie(ce);var G=new K(function(te,ne){T.ready().then(function(){var Ne=T._dbInfo;Ne.db.transaction(function(q){Qt(q,Ne,"DELETE FROM "+Ne.storeName+" WHERE key = ?",[ce],function(){te()},function(_e,Fe){ne(Fe)})})}).catch(ne)});return se(G,Xe),G},clear:function Le(ce){var Xe=this,T=new K(function(G,te){Xe.ready().then(function(){var ne=Xe._dbInfo;ne.db.transaction(function(Ne){Qt(Ne,ne,"DELETE FROM "+ne.storeName,[],function(){G()},function(q,_e){te(_e)})})}).catch(te)});return se(T,ce),T},length:function Me(ce){var Xe=this,T=new K(function(G,te){Xe.ready().then(function(){var ne=Xe._dbInfo;ne.db.transaction(function(Ne){Qt(Ne,ne,"SELECT COUNT(key) as c FROM "+ne.storeName,[],function(q,_e){var Fe=_e.rows.item(0).c;G(Fe)},function(q,_e){te(_e)})})}).catch(te)});return se(T,ce),T},key:function X(ce,Xe){var T=this,G=new K(function(te,ne){T.ready().then(function(){var Ne=T._dbInfo;Ne.db.transaction(function(q){Qt(q,Ne,"SELECT key FROM "+Ne.storeName+" WHERE id = ? LIMIT 1",[ce+1],function(_e,Fe){var Qe=Fe.rows.length?Fe.rows.item(0).key:null;te(Qe)},function(_e,Fe){ne(Fe)})})}).catch(ne)});return se(G,Xe),G},keys:function He(ce){var Xe=this,T=new K(function(G,te){Xe.ready().then(function(){var ne=Xe._dbInfo;ne.db.transaction(function(Ne){Qt(Ne,ne,"SELECT key FROM "+ne.storeName,[],function(q,_e){for(var Fe=[],Qe=0;Qe<_e.rows.length;Qe++)Fe.push(_e.rows.item(Qe).key);G(Fe)},function(q,_e){te(_e)})})}).catch(te)});return se(T,ce),T},dropInstance:function Pt(ce,Xe){Xe=ct.apply(this,arguments);var T=this.config();(ce="function"!=typeof ce&&ce||{}).name||(ce.name=ce.name||T.name,ce.storeName=ce.storeName||T.storeName);var te,G=this;return se(te=ce.name?new K(function(ne){var Ne;Ne=ce.name===T.name?G._dbInfo.db:openDatabase(ce.name,"","",0),ne(ce.storeName?{db:Ne,storeNames:[ce.storeName]}:ke(Ne))}).then(function(ne){return new K(function(Ne,q){ne.db.transaction(function(_e){function Fe(Xt){return new K(function(dn,Rn){_e.executeSql("DROP TABLE IF EXISTS "+Xt,[],function(){dn()},function(jn,lr){Rn(lr)})})}for(var Qe=[],yt=0,Ut=ne.storeNames.length;yt<Ut;yt++)Qe.push(Fe(ne.storeNames[yt]));K.all(Qe).then(function(){Ne()}).catch(function(Xt){q(Xt)})},function(_e){q(_e)})})}):K.reject("Invalid arguments"),Xe),te}};function pt(ce,Xe){var T=ce.name+"/";return ce.storeName!==Xe.storeName&&(T+=ce.storeName+"/"),T}function Ae(){return!function Ct(){var ce="_localforage_support_test";try{return localStorage.setItem(ce,!0),localStorage.removeItem(ce),!1}catch{return!0}}()||localStorage.length>0}var $e={_driver:"localStorageWrapper",_initStorage:function me(ce){var T={};if(ce)for(var G in ce)T[G]=ce[G];return T.keyPrefix=pt(ce,this._defaultConfig),Ae()?(this._dbInfo=T,T.serializer=Sn,K.resolve()):K.reject()},_support:function Be(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}(),iterate:function Rt(ce,Xe){var T=this,G=T.ready().then(function(){for(var te=T._dbInfo,ne=te.keyPrefix,Ne=ne.length,q=localStorage.length,_e=1,Fe=0;Fe<q;Fe++){var Qe=localStorage.key(Fe);if(0===Qe.indexOf(ne)){var yt=localStorage.getItem(Qe);if(yt&&(yt=te.serializer.deserialize(yt)),void 0!==(yt=ce(yt,Qe.substring(Ne),_e++)))return yt}}});return se(G,Xe),G},getItem:function at(ce,Xe){var T=this;ce=Ie(ce);var G=T.ready().then(function(){var te=T._dbInfo,ne=localStorage.getItem(te.keyPrefix+ce);return ne&&(ne=te.serializer.deserialize(ne)),ne});return se(G,Xe),G},setItem:function qt(ce,Xe,T){var G=this;ce=Ie(ce);var te=G.ready().then(function(){void 0===Xe&&(Xe=null);var ne=Xe;return new K(function(Ne,q){var _e=G._dbInfo;_e.serializer.serialize(Xe,function(Fe,Qe){if(Qe)q(Qe);else try{localStorage.setItem(_e.keyPrefix+ce,Fe),Ne(ne)}catch(yt){("QuotaExceededError"===yt.name||"NS_ERROR_DOM_QUOTA_REACHED"===yt.name)&&q(yt),q(yt)}})})});return se(te,T),te},removeItem:function jt(ce,Xe){var T=this;ce=Ie(ce);var G=T.ready().then(function(){localStorage.removeItem(T._dbInfo.keyPrefix+ce)});return se(G,Xe),G},clear:function ve(ce){var Xe=this,T=Xe.ready().then(function(){for(var G=Xe._dbInfo.keyPrefix,te=localStorage.length-1;te>=0;te--){var ne=localStorage.key(te);0===ne.indexOf(G)&&localStorage.removeItem(ne)}});return se(T,ce),T},length:function ft(ce){var T=this.keys().then(function(G){return G.length});return se(T,ce),T},key:function It(ce,Xe){var T=this,G=T.ready().then(function(){var ne,te=T._dbInfo;try{ne=localStorage.key(ce)}catch{ne=null}return ne&&(ne=ne.substring(te.keyPrefix.length)),ne});return se(G,Xe),G},keys:function be(ce){var Xe=this,T=Xe.ready().then(function(){for(var G=Xe._dbInfo,te=localStorage.length,ne=[],Ne=0;Ne<te;Ne++){var q=localStorage.key(Ne);0===q.indexOf(G.keyPrefix)&&ne.push(q.substring(G.keyPrefix.length))}return ne});return se(T,ce),T},dropInstance:function sn(ce,Xe){if(Xe=ct.apply(this,arguments),!(ce="function"!=typeof ce&&ce||{}).name){var T=this.config();ce.name=ce.name||T.name,ce.storeName=ce.storeName||T.storeName}var te,G=this;return se(te=ce.name?new K(function(ne){ne(ce.storeName?pt(ce,G._defaultConfig):ce.name+"/")}).then(function(ne){for(var Ne=localStorage.length-1;Ne>=0;Ne--){var q=localStorage.key(Ne);0===q.indexOf(ne)&&localStorage.removeItem(q)}}):K.reject("Invalid arguments"),Xe),te}},vt=function(Xe,T){return Xe===T||"number"==typeof Xe&&"number"==typeof T&&isNaN(Xe)&&isNaN(T)},Bt=function(Xe,T){for(var G=Xe.length,te=0;te<G;){if(vt(Xe[te],T))return!0;te++}return!1},tn=Array.isArray||function(ce){return"[object Array]"===Object.prototype.toString.call(ce)},un={},$n={},xn={INDEXEDDB:wn,WEBSQL:We,LOCALSTORAGE:$e},cr=[xn.INDEXEDDB._driver,xn.WEBSQL._driver,xn.LOCALSTORAGE._driver],_r=["dropInstance"],tr=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(_r),kr={description:"",driver:cr.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Fr(ce,Xe){ce[Xe]=function(){var T=arguments;return ce.ready().then(function(){return ce[Xe].apply(ce,T)})}}function br(){for(var ce=1;ce<arguments.length;ce++){var Xe=arguments[ce];if(Xe)for(var T in Xe)Xe.hasOwnProperty(T)&&(arguments[0][T]=tn(Xe[T])?Xe[T].slice():Xe[T])}return arguments[0]}var Lr=function(){function ce(Xe){for(var T in function z(ce,Xe){if(!(ce instanceof Xe))throw new TypeError("Cannot call a class as a function")}(this,ce),xn)if(xn.hasOwnProperty(T)){var G=xn[T],te=G._driver;this[T]=te,un[te]||this.defineDriver(G)}this._defaultConfig=br({},kr),this._config=br({},this._defaultConfig,Xe),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return ce.prototype.config=function(T){if("object"===(typeof T>"u"?"undefined":Ce(T))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var G in T){if("storeName"===G&&(T[G]=T[G].replace(/\W/g,"_")),"version"===G&&"number"!=typeof T[G])return new Error("Database version must be a number.");this._config[G]=T[G]}return!("driver"in T)||!T.driver||this.setDriver(this._config.driver)}return"string"==typeof T?this._config[T]:this._config},ce.prototype.defineDriver=function(T,G,te){var ne=new K(function(Ne,q){try{var _e=T._driver,Fe=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!T._driver)return void q(Fe);for(var Qe=tr.concat("_initStorage"),yt=0,Ut=Qe.length;yt<Ut;yt++){var Xt=Qe[yt];if((!Bt(_r,Xt)||T[Xt])&&"function"!=typeof T[Xt])return void q(Fe)}!function(){for(var Br=function(Zi){return function(){var As=new Error("Method "+Zi+" is not implemented by the current driver"),as=K.reject(As);return se(as,arguments[arguments.length-1]),as}},wr=0,zi=_r.length;wr<zi;wr++){var zr=_r[wr];T[zr]||(T[zr]=Br(zr))}}();var jn=function(Br){un[_e]&&console.info("Redefining LocalForage driver: "+_e),un[_e]=T,$n[_e]=Br,Ne()};"_support"in T?T._support&&"function"==typeof T._support?T._support().then(jn,q):jn(!!T._support):jn(!0)}catch(lr){q(lr)}});return ee(ne,G,te),ne},ce.prototype.driver=function(){return this._driver||null},ce.prototype.getDriver=function(T,G,te){var ne=un[T]?K.resolve(un[T]):K.reject(new Error("Driver not found."));return ee(ne,G,te),ne},ce.prototype.getSerializer=function(T){var G=K.resolve(Sn);return ee(G,T),G},ce.prototype.ready=function(T){var G=this,te=G._driverSet.then(function(){return null===G._ready&&(G._ready=G._initDriver()),G._ready});return ee(te,T,T),te},ce.prototype.setDriver=function(T,G,te){var ne=this;tn(T)||(T=[T]);var Ne=this._getSupportedDrivers(T);function q(){ne._config.driver=ne.driver()}function _e(yt){return ne._extend(yt),q(),ne._ready=ne._initStorage(ne._config),ne._ready}var Qe=null!==this._driverSet?this._driverSet.catch(function(){return K.resolve()}):K.resolve();return this._driverSet=Qe.then(function(){var yt=Ne[0];return ne._dbInfo=null,ne._ready=null,ne.getDriver(yt).then(function(Ut){ne._driver=Ut._driver,q(),ne._wrapLibraryMethodsWithReady(),ne._initDriver=function Fe(yt){return function(){var Ut=0;return function Xt(){for(;Ut<yt.length;){var dn=yt[Ut];return Ut++,ne._dbInfo=null,ne._ready=null,ne.getDriver(dn).then(_e).catch(Xt)}q();var Rn=new Error("No available storage method found.");return ne._driverSet=K.reject(Rn),ne._driverSet}()}}(Ne)})}).catch(function(){q();var yt=new Error("No available storage method found.");return ne._driverSet=K.reject(yt),ne._driverSet}),ee(this._driverSet,G,te),this._driverSet},ce.prototype.supports=function(T){return!!$n[T]},ce.prototype._extend=function(T){br(this,T)},ce.prototype._getSupportedDrivers=function(T){for(var G=[],te=0,ne=T.length;te<ne;te++){var Ne=T[te];this.supports(Ne)&&G.push(Ne)}return G},ce.prototype._wrapLibraryMethodsWithReady=function(){for(var T=0,G=tr.length;T<G;T++)Fr(this,tr[T])},ce.prototype.createInstance=function(T){return new ce(T)},ce}(),Gi=new Lr;j.exports=Gi},{3:3}]},{},[4])(4)},591:(Zt,ht,P)=>{"use strict";P.d(ht,{X:()=>j});var u=P(8929),F=P(5279);class j extends u.xQ{constructor(Ce){super(),this._value=Ce}get value(){return this.getValue()}_subscribe(Ce){const z=super._subscribe(Ce);return z&&!z.closed&&Ce.next(this._value),z}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new F.N;return this._value}next(Ce){super.next(this._value=Ce)}}},6498:(Zt,ht,P)=>{"use strict";P.d(ht,{y:()=>pe});var u=P(3489),j=P(7668),De=P(3292),z=P(3821),ue=P(4843),fe=P(2830);let pe=(()=>{class K{constructor(ee){this._isScalar=!1,ee&&(this._subscribe=ee)}lift(ee){const Ie=new K;return Ie.source=this,Ie.operator=ee,Ie}subscribe(ee,Ie,ct){const{operator:je}=this,Ee=function Ce(K,se,ee){if(K){if(K instanceof u.L)return K;if(K[j.b])return K[j.b]()}return K||se||ee?new u.L(K,se,ee):new u.L(De.c)}(ee,Ie,ct);if(Ee.add(je?je.call(Ee,this.source):this.source||fe.v.useDeprecatedSynchronousErrorHandling&&!Ee.syncErrorThrowable?this._subscribe(Ee):this._trySubscribe(Ee)),fe.v.useDeprecatedSynchronousErrorHandling&&Ee.syncErrorThrowable&&(Ee.syncErrorThrowable=!1,Ee.syncErrorThrown))throw Ee.syncErrorValue;return Ee}_trySubscribe(ee){try{return this._subscribe(ee)}catch(Ie){fe.v.useDeprecatedSynchronousErrorHandling&&(ee.syncErrorThrown=!0,ee.syncErrorValue=Ie),function F(K){for(;K;){const{closed:se,destination:ee,isStopped:Ie}=K;if(se||Ie)return!1;K=ee&&ee instanceof u.L?ee:null}return!0}(ee)?ee.error(Ie):console.warn(Ie)}}forEach(ee,Ie){return new(Ie=Q(Ie))((ct,je)=>{let Ee;Ee=this.subscribe(ye=>{try{ee(ye)}catch(st){je(st),Ee&&Ee.unsubscribe()}},je,ct)})}_subscribe(ee){const{source:Ie}=this;return Ie&&Ie.subscribe(ee)}[z.L](){return this}pipe(...ee){return 0===ee.length?this:(0,ue.U)(ee)(this)}toPromise(ee){return new(ee=Q(ee))((Ie,ct)=>{let je;this.subscribe(Ee=>je=Ee,Ee=>ct(Ee),()=>Ie(je))})}}return K.create=se=>new K(se),K})();function Q(K){if(K||(K=fe.v.Promise||Promise),!K)throw new Error("no Promise impl found");return K}},3292:(Zt,ht,P)=>{"use strict";P.d(ht,{c:()=>j});var u=P(2830),F=P(2782);const j={closed:!0,next(De){},error(De){if(u.v.useDeprecatedSynchronousErrorHandling)throw De;(0,F.z)(De)},complete(){}}},8929:(Zt,ht,P)=>{"use strict";P.d(ht,{Yc:()=>ue,xQ:()=>fe});var u=P(6498),F=P(3489),j=P(2654),De=P(5279),Ce=P(5283),z=P(7668);class ue extends F.L{constructor(K){super(K),this.destination=K}}let fe=(()=>{class Q extends u.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[z.b](){return new ue(this)}lift(se){const ee=new pe(this,this);return ee.operator=se,ee}next(se){if(this.closed)throw new De.N;if(!this.isStopped){const{observers:ee}=this,Ie=ee.length,ct=ee.slice();for(let je=0;je<Ie;je++)ct[je].next(se)}}error(se){if(this.closed)throw new De.N;this.hasError=!0,this.thrownError=se,this.isStopped=!0;const{observers:ee}=this,Ie=ee.length,ct=ee.slice();for(let je=0;je<Ie;je++)ct[je].error(se);this.observers.length=0}complete(){if(this.closed)throw new De.N;this.isStopped=!0;const{observers:se}=this,ee=se.length,Ie=se.slice();for(let ct=0;ct<ee;ct++)Ie[ct].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(se){if(this.closed)throw new De.N;return super._trySubscribe(se)}_subscribe(se){if(this.closed)throw new De.N;return this.hasError?(se.error(this.thrownError),j.w.EMPTY):this.isStopped?(se.complete(),j.w.EMPTY):(this.observers.push(se),new Ce.W(this,se))}asObservable(){const se=new u.y;return se.source=this,se}}return Q.create=(K,se)=>new pe(K,se),Q})();class pe extends fe{constructor(K,se){super(),this.destination=K,this.source=se}next(K){const{destination:se}=this;se&&se.next&&se.next(K)}error(K){const{destination:se}=this;se&&se.error&&this.destination.error(K)}complete(){const{destination:K}=this;K&&K.complete&&this.destination.complete()}_subscribe(K){const{source:se}=this;return se?this.source.subscribe(K):j.w.EMPTY}}},5283:(Zt,ht,P)=>{"use strict";P.d(ht,{W:()=>F});var u=P(2654);class F extends u.w{constructor(De,Ce){super(),this.subject=De,this.subscriber=Ce,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const De=this.subject,Ce=De.observers;if(this.subject=null,!Ce||0===Ce.length||De.isStopped||De.closed)return;const z=Ce.indexOf(this.subscriber);-1!==z&&Ce.splice(z,1)}}},3489:(Zt,ht,P)=>{"use strict";P.d(ht,{L:()=>ue});var u=P(7043),F=P(3292),j=P(2654),De=P(7668),Ce=P(2830),z=P(2782);class ue extends j.w{constructor(Q,K,se){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=F.c;break;case 1:if(!Q){this.destination=F.c;break}if("object"==typeof Q){Q instanceof ue?(this.syncErrorThrowable=Q.syncErrorThrowable,this.destination=Q,Q.add(this)):(this.syncErrorThrowable=!0,this.destination=new fe(this,Q));break}default:this.syncErrorThrowable=!0,this.destination=new fe(this,Q,K,se)}}[De.b](){return this}static create(Q,K,se){const ee=new ue(Q,K,se);return ee.syncErrorThrowable=!1,ee}next(Q){this.isStopped||this._next(Q)}error(Q){this.isStopped||(this.isStopped=!0,this._error(Q))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(Q){this.destination.next(Q)}_error(Q){this.destination.error(Q),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:Q}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=Q,this}}class fe extends ue{constructor(Q,K,se,ee){super(),this._parentSubscriber=Q;let Ie,ct=this;(0,u.m)(K)?Ie=K:K&&(Ie=K.next,se=K.error,ee=K.complete,K!==F.c&&(ct=Object.create(K),(0,u.m)(ct.unsubscribe)&&this.add(ct.unsubscribe.bind(ct)),ct.unsubscribe=this.unsubscribe.bind(this))),this._context=ct,this._next=Ie,this._error=se,this._complete=ee}next(Q){if(!this.isStopped&&this._next){const{_parentSubscriber:K}=this;Ce.v.useDeprecatedSynchronousErrorHandling&&K.syncErrorThrowable?this.__tryOrSetError(K,this._next,Q)&&this.unsubscribe():this.__tryOrUnsub(this._next,Q)}}error(Q){if(!this.isStopped){const{_parentSubscriber:K}=this,{useDeprecatedSynchronousErrorHandling:se}=Ce.v;if(this._error)se&&K.syncErrorThrowable?(this.__tryOrSetError(K,this._error,Q),this.unsubscribe()):(this.__tryOrUnsub(this._error,Q),this.unsubscribe());else if(K.syncErrorThrowable)se?(K.syncErrorValue=Q,K.syncErrorThrown=!0):(0,z.z)(Q),this.unsubscribe();else{if(this.unsubscribe(),se)throw Q;(0,z.z)(Q)}}}complete(){if(!this.isStopped){const{_parentSubscriber:Q}=this;if(this._complete){const K=()=>this._complete.call(this._context);Ce.v.useDeprecatedSynchronousErrorHandling&&Q.syncErrorThrowable?(this.__tryOrSetError(Q,K),this.unsubscribe()):(this.__tryOrUnsub(K),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(Q,K){try{Q.call(this._context,K)}catch(se){if(this.unsubscribe(),Ce.v.useDeprecatedSynchronousErrorHandling)throw se;(0,z.z)(se)}}__tryOrSetError(Q,K,se){if(!Ce.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{K.call(this._context,se)}catch(ee){return Ce.v.useDeprecatedSynchronousErrorHandling?(Q.syncErrorValue=ee,Q.syncErrorThrown=!0,!0):((0,z.z)(ee),!0)}return!1}_unsubscribe(){const{_parentSubscriber:Q}=this;this._context=null,this._parentSubscriber=null,Q.unsubscribe()}}},2654:(Zt,ht,P)=>{"use strict";P.d(ht,{w:()=>z});var u=P(6688),F=P(7830),j=P(7043);const Ce=(()=>{function fe(pe){return Error.call(this),this.message=pe?`${pe.length} errors occurred during unsubscription:\n${pe.map((Q,K)=>`${K+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=pe,this}return fe.prototype=Object.create(Error.prototype),fe})();class z{constructor(pe){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,pe&&(this._ctorUnsubscribe=!0,this._unsubscribe=pe)}unsubscribe(){let pe;if(this.closed)return;let{_parentOrParents:Q,_ctorUnsubscribe:K,_unsubscribe:se,_subscriptions:ee}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,Q instanceof z)Q.remove(this);else if(null!==Q)for(let Ie=0;Ie<Q.length;++Ie)Q[Ie].remove(this);if((0,j.m)(se)){K&&(this._unsubscribe=void 0);try{se.call(this)}catch(Ie){pe=Ie instanceof Ce?ue(Ie.errors):[Ie]}}if((0,u.k)(ee)){let Ie=-1,ct=ee.length;for(;++Ie<ct;){const je=ee[Ie];if((0,F.K)(je))try{je.unsubscribe()}catch(Ee){pe=pe||[],Ee instanceof Ce?pe=pe.concat(ue(Ee.errors)):pe.push(Ee)}}}if(pe)throw new Ce(pe)}add(pe){let Q=pe;if(!pe)return z.EMPTY;switch(typeof pe){case"function":Q=new z(pe);case"object":if(Q===this||Q.closed||"function"!=typeof Q.unsubscribe)return Q;if(this.closed)return Q.unsubscribe(),Q;if(!(Q instanceof z)){const ee=Q;Q=new z,Q._subscriptions=[ee]}break;default:throw new Error("unrecognized teardown "+pe+" added to Subscription.")}let{_parentOrParents:K}=Q;if(null===K)Q._parentOrParents=this;else if(K instanceof z){if(K===this)return Q;Q._parentOrParents=[K,this]}else{if(-1!==K.indexOf(this))return Q;K.push(this)}const se=this._subscriptions;return null===se?this._subscriptions=[Q]:se.push(Q),Q}remove(pe){const Q=this._subscriptions;if(Q){const K=Q.indexOf(pe);-1!==K&&Q.splice(K,1)}}}var fe;function ue(fe){return fe.reduce((pe,Q)=>pe.concat(Q instanceof Ce?Q.errors:Q),[])}z.EMPTY=((fe=new z).closed=!0,fe)},2830:(Zt,ht,P)=>{"use strict";P.d(ht,{v:()=>F});let u=!1;const F={Promise:void 0,set useDeprecatedSynchronousErrorHandling(j){if(j){const De=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+De.stack)}else u&&console.log("RxJS: Back to a better error behavior. Thank you. <3");u=j},get useDeprecatedSynchronousErrorHandling(){return u}}},1177:(Zt,ht,P)=>{"use strict";P.d(ht,{Ds:()=>z,IY:()=>De,ft:()=>fe});var u=P(3489),F=P(6498),j=P(9249);class De extends u.L{constructor(Q){super(),this.parent=Q}_next(Q){this.parent.notifyNext(Q)}_error(Q){this.parent.notifyError(Q),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class z extends u.L{notifyNext(Q){this.destination.next(Q)}notifyError(Q){this.destination.error(Q)}notifyComplete(){this.destination.complete()}}function fe(pe,Q){if(Q.closed)return;if(pe instanceof F.y)return pe.subscribe(Q);let K;try{K=(0,j.s)(pe)(Q)}catch(se){Q.error(se)}return K}},1762:(Zt,ht,P)=>{"use strict";P.d(ht,{N:()=>z,c:()=>Ce});var u=P(8929),F=P(6498),j=P(2654),De=P(4327);class Ce extends F.y{constructor(K,se){super(),this.source=K,this.subjectFactory=se,this._refCount=0,this._isComplete=!1}_subscribe(K){return this.getSubject().subscribe(K)}getSubject(){const K=this._subject;return(!K||K.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let K=this._connection;return K||(this._isComplete=!1,K=this._connection=new j.w,K.add(this.source.subscribe(new ue(this.getSubject(),this))),K.closed&&(this._connection=null,K=j.w.EMPTY)),K}refCount(){return(0,De.x)()(this)}}const z=(()=>{const Q=Ce.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:Q._subscribe},_isComplete:{value:Q._isComplete,writable:!0},getSubject:{value:Q.getSubject},connect:{value:Q.connect},refCount:{value:Q.refCount}}})();class ue extends u.Yc{constructor(K,se){super(K),this.connectable=se}_error(K){this._unsubscribe(),super._error(K)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const K=this.connectable;if(K){this.connectable=null;const se=K._connection;K._refCount=0,K._subject=null,K._connection=null,se&&se.unsubscribe()}}}},1221:(Zt,ht,P)=>{"use strict";P.d(ht,{z:()=>De});var u=P(1086),F=P(9146);function De(...Ce){return function j(){return(0,F.J)(1)}()((0,u.of)(...Ce))}},8896:(Zt,ht,P)=>{"use strict";P.d(ht,{E:()=>F,c:()=>j});var u=P(6498);const F=new u.y(Ce=>Ce.complete());function j(Ce){return Ce?function De(Ce){return new u.y(z=>Ce.schedule(()=>z.complete()))}(Ce):F}},5254:(Zt,ht,P)=>{"use strict";P.d(ht,{D:()=>ct});var u=P(6498),F=P(9249),j=P(2654),De=P(3821),ue=P(6454),fe=P(5430),K=P(8955),se=P(8515);function ct(je,Ee){return Ee?function Ie(je,Ee){if(null!=je){if(function Q(je){return je&&"function"==typeof je[De.L]}(je))return function Ce(je,Ee){return new u.y(ye=>{const st=new j.w;return st.add(Ee.schedule(()=>{const Se=je[De.L]();st.add(Se.subscribe({next(Ve){st.add(Ee.schedule(()=>ye.next(Ve)))},error(Ve){st.add(Ee.schedule(()=>ye.error(Ve)))},complete(){st.add(Ee.schedule(()=>ye.complete()))}}))})),st})}(je,Ee);if((0,K.t)(je))return function z(je,Ee){return new u.y(ye=>{const st=new j.w;return st.add(Ee.schedule(()=>je.then(Se=>{st.add(Ee.schedule(()=>{ye.next(Se),st.add(Ee.schedule(()=>ye.complete()))}))},Se=>{st.add(Ee.schedule(()=>ye.error(Se)))}))),st})}(je,Ee);if((0,se.z)(je))return(0,ue.r)(je,Ee);if(function ee(je){return je&&"function"==typeof je[fe.hZ]}(je)||"string"==typeof je)return function pe(je,Ee){if(!je)throw new Error("Iterable cannot be null");return new u.y(ye=>{const st=new j.w;let Se;return st.add(()=>{Se&&"function"==typeof Se.return&&Se.return()}),st.add(Ee.schedule(()=>{Se=je[fe.hZ](),st.add(Ee.schedule(function(){if(ye.closed)return;let Ve,Ue;try{const dt=Se.next();Ve=dt.value,Ue=dt.done}catch(dt){return void ye.error(dt)}Ue?ye.complete():(ye.next(Ve),this.schedule())}))})),st})}(je,Ee)}throw new TypeError((null!==je&&typeof je||je)+" is not observable")}(je,Ee):je instanceof u.y?je:new u.y((0,F.s)(je))}},3009:(Zt,ht,P)=>{"use strict";P.d(ht,{n:()=>De});var u=P(6498),F=P(3650),j=P(6454);function De(Ce,z){return z?(0,j.r)(Ce,z):new u.y((0,F.V)(Ce))}},6787:(Zt,ht,P)=>{"use strict";P.d(ht,{T:()=>Ce});var u=P(6498),F=P(2866),j=P(9146),De=P(3009);function Ce(...z){let ue=Number.POSITIVE_INFINITY,fe=null,pe=z[z.length-1];return(0,F.K)(pe)?(fe=z.pop(),z.length>1&&"number"==typeof z[z.length-1]&&(ue=z.pop())):"number"==typeof pe&&(ue=z.pop()),null===fe&&1===z.length&&z[0]instanceof u.y?z[0]:(0,j.J)(ue)((0,De.n)(z,fe))}},1086:(Zt,ht,P)=>{"use strict";P.d(ht,{of:()=>De});var u=P(2866),F=P(3009),j=P(6454);function De(...Ce){let z=Ce[Ce.length-1];return(0,u.K)(z)?(Ce.pop(),(0,j.r)(Ce,z)):(0,F.n)(Ce)}},1737:(Zt,ht,P)=>{"use strict";P.d(ht,{_:()=>F});var u=P(6498);function F(De,Ce){return new u.y(Ce?z=>Ce.schedule(j,0,{error:De,subscriber:z}):z=>z.error(De))}function j({error:De,subscriber:Ce}){Ce.error(De)}},7221:(Zt,ht,P)=>{"use strict";P.d(ht,{K:()=>F});var u=P(1177);function F(Ce){return function(ue){const fe=new j(Ce),pe=ue.lift(fe);return fe.caught=pe}}class j{constructor(z){this.selector=z}call(z,ue){return ue.subscribe(new De(z,this.selector,this.caught))}}class De extends u.Ds{constructor(z,ue,fe){super(z),this.selector=ue,this.caught=fe}error(z){if(!this.isStopped){let ue;try{ue=this.selector(z,this.caught)}catch(Q){return void super.error(Q)}this._unsubscribeAndRecycle();const fe=new u.IY(this);this.add(fe);const pe=(0,u.ft)(ue,fe);pe!==fe&&this.add(pe)}}}},1406:(Zt,ht,P)=>{"use strict";P.d(ht,{b:()=>F});var u=P(1709);function F(j,De){return(0,u.zg)(j,De,1)}},7314:(Zt,ht,P)=>{"use strict";P.d(ht,{d:()=>F});var u=P(3489);function F(Ce=null){return z=>z.lift(new j(Ce))}class j{constructor(z){this.defaultValue=z}call(z,ue){return ue.subscribe(new De(z,this.defaultValue))}}class De extends u.L{constructor(z,ue){super(z),this.defaultValue=ue,this.isEmpty=!0}_next(z){this.isEmpty=!1,this.destination.next(z)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},5778:(Zt,ht,P)=>{"use strict";P.d(ht,{x:()=>F});var u=P(3489);function F(Ce,z){return ue=>ue.lift(new j(Ce,z))}class j{constructor(z,ue){this.compare=z,this.keySelector=ue}call(z,ue){return ue.subscribe(new De(z,this.compare,this.keySelector))}}class De extends u.L{constructor(z,ue,fe){super(z),this.keySelector=fe,this.hasKey=!1,"function"==typeof ue&&(this.compare=ue)}compare(z,ue){return z===ue}_next(z){let ue;try{const{keySelector:pe}=this;ue=pe?pe(z):z}catch(pe){return this.destination.error(pe)}let fe=!1;if(this.hasKey)try{const{compare:pe}=this;fe=pe(this.key,ue)}catch(pe){return this.destination.error(pe)}else this.hasKey=!0;fe||(this.key=ue,this.destination.next(z))}}},2198:(Zt,ht,P)=>{"use strict";P.d(ht,{h:()=>F});var u=P(3489);function F(Ce,z){return function(fe){return fe.lift(new j(Ce,z))}}class j{constructor(z,ue){this.predicate=z,this.thisArg=ue}call(z,ue){return ue.subscribe(new De(z,this.predicate,this.thisArg))}}class De extends u.L{constructor(z,ue,fe){super(z),this.predicate=ue,this.thisArg=fe,this.count=0}_next(z){let ue;try{ue=this.predicate.call(this.thisArg,z,this.count++)}catch(fe){return void this.destination.error(fe)}ue&&this.destination.next(z)}}},7224:(Zt,ht,P)=>{"use strict";P.d(ht,{P:()=>ue});var u=P(4450),F=P(2198),j=P(2986),De=P(7314),Ce=P(4907),z=P(5379);function ue(fe,pe){const Q=arguments.length>=2;return K=>K.pipe(fe?(0,F.h)((se,ee)=>fe(se,ee,K)):z.y,(0,j.q)(1),Q?(0,De.d)(pe):(0,Ce.T)(()=>new u.K))}},4850:(Zt,ht,P)=>{"use strict";P.d(ht,{U:()=>F});var u=P(3489);function F(Ce,z){return function(fe){if("function"!=typeof Ce)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return fe.lift(new j(Ce,z))}}class j{constructor(z,ue){this.project=z,this.thisArg=ue}call(z,ue){return ue.subscribe(new De(z,this.project,this.thisArg))}}class De extends u.L{constructor(z,ue,fe){super(z),this.project=ue,this.count=0,this.thisArg=fe||this}_next(z){let ue;try{ue=this.project.call(this.thisArg,z,this.count++)}catch(fe){return void this.destination.error(fe)}this.destination.next(ue)}}},9146:(Zt,ht,P)=>{"use strict";P.d(ht,{J:()=>j});var u=P(1709),F=P(5379);function j(De=Number.POSITIVE_INFINITY){return(0,u.zg)(F.y,De)}},1709:(Zt,ht,P)=>{"use strict";P.d(ht,{zg:()=>De});var u=P(4850),F=P(5254),j=P(1177);function De(fe,pe,Q=Number.POSITIVE_INFINITY){return"function"==typeof pe?K=>K.pipe(De((se,ee)=>(0,F.D)(fe(se,ee)).pipe((0,u.U)((Ie,ct)=>pe(se,Ie,ee,ct))),Q)):("number"==typeof pe&&(Q=pe),K=>K.lift(new Ce(fe,Q)))}class Ce{constructor(pe,Q=Number.POSITIVE_INFINITY){this.project=pe,this.concurrent=Q}call(pe,Q){return Q.subscribe(new z(pe,this.project,this.concurrent))}}class z extends j.Ds{constructor(pe,Q,K=Number.POSITIVE_INFINITY){super(pe),this.project=Q,this.concurrent=K,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(pe){this.active<this.concurrent?this._tryNext(pe):this.buffer.push(pe)}_tryNext(pe){let Q;const K=this.index++;try{Q=this.project(pe,K)}catch(se){return void this.destination.error(se)}this.active++,this._innerSub(Q)}_innerSub(pe){const Q=new j.IY(this),K=this.destination;K.add(Q);const se=(0,j.ft)(pe,Q);se!==Q&&K.add(se)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(pe){this.destination.next(pe)}notifyComplete(){const pe=this.buffer;this.active--,pe.length>0?this._next(pe.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},2102:(Zt,ht,P)=>{"use strict";P.d(ht,{ht:()=>pe,QV:()=>ue});var u=P(3489),F=P(8896),j=P(1086),De=P(1737);class z{constructor(se,ee,Ie){this.kind=se,this.value=ee,this.error=Ie,this.hasValue="N"===se}observe(se){switch(this.kind){case"N":return se.next&&se.next(this.value);case"E":return se.error&&se.error(this.error);case"C":return se.complete&&se.complete()}}do(se,ee,Ie){switch(this.kind){case"N":return se&&se(this.value);case"E":return ee&&ee(this.error);case"C":return Ie&&Ie()}}accept(se,ee,Ie){return se&&"function"==typeof se.next?this.observe(se):this.do(se,ee,Ie)}toObservable(){switch(this.kind){case"N":return(0,j.of)(this.value);case"E":return(0,De._)(this.error);case"C":return(0,F.c)()}throw new Error("unexpected notification kind value")}static createNext(se){return typeof se<"u"?new z("N",se):z.undefinedValueNotification}static createError(se){return new z("E",void 0,se)}static createComplete(){return z.completeNotification}}function ue(K,se=0){return function(Ie){return Ie.lift(new fe(K,se))}}z.completeNotification=new z("C"),z.undefinedValueNotification=new z("N",void 0);class fe{constructor(se,ee=0){this.scheduler=se,this.delay=ee}call(se,ee){return ee.subscribe(new pe(se,this.scheduler,this.delay))}}class pe extends u.L{constructor(se,ee,Ie=0){super(se),this.scheduler=ee,this.delay=Ie}static dispatch(se){const{notification:ee,destination:Ie}=se;ee.observe(Ie),this.unsubscribe()}scheduleMessage(se){this.destination.add(this.scheduler.schedule(pe.dispatch,this.delay,new Q(se,this.destination)))}_next(se){this.scheduleMessage(z.createNext(se))}_error(se){this.scheduleMessage(z.createError(se)),this.unsubscribe()}_complete(){this.scheduleMessage(z.createComplete()),this.unsubscribe()}}class Q{constructor(se,ee){this.notification=se,this.destination=ee}}},4327:(Zt,ht,P)=>{"use strict";P.d(ht,{x:()=>F});var u=P(3489);function F(){return function(z){return z.lift(new j(z))}}class j{constructor(z){this.connectable=z}call(z,ue){const{connectable:fe}=this;fe._refCount++;const pe=new De(z,fe),Q=ue.subscribe(pe);return pe.closed||(pe.connection=fe.connect()),Q}}class De extends u.L{constructor(z,ue){super(z),this.connectable=ue}_unsubscribe(){const{connectable:z}=this;if(!z)return void(this.connection=null);this.connectable=null;const ue=z._refCount;if(ue<=0)return void(this.connection=null);if(z._refCount=ue-1,ue>1)return void(this.connection=null);const{connection:fe}=this,pe=z._connection;this.connection=null,pe&&(!fe||pe===fe)&&pe.unsubscribe()}}},2014:(Zt,ht,P)=>{"use strict";P.d(ht,{R:()=>F});var u=P(3489);function F(Ce,z){let ue=!1;return arguments.length>=2&&(ue=!0),function(pe){return pe.lift(new j(Ce,z,ue))}}class j{constructor(z,ue,fe=!1){this.accumulator=z,this.seed=ue,this.hasSeed=fe}call(z,ue){return ue.subscribe(new De(z,this.accumulator,this.seed,this.hasSeed))}}class De extends u.L{constructor(z,ue,fe,pe){super(z),this.accumulator=ue,this._seed=fe,this.hasSeed=pe,this.index=0}get seed(){return this._seed}set seed(z){this.hasSeed=!0,this._seed=z}_next(z){if(this.hasSeed)return this._tryNext(z);this.seed=z,this.destination.next(z)}_tryNext(z){const ue=this.index++;let fe;try{fe=this.accumulator(this.seed,z,ue)}catch(pe){this.destination.error(pe)}this.seed=fe,this.destination.next(fe)}}},1059:(Zt,ht,P)=>{"use strict";P.d(ht,{O:()=>j});var u=P(1221),F=P(2866);function j(...De){const Ce=De[De.length-1];return(0,F.K)(Ce)?(De.pop(),z=>(0,u.z)(De,z,Ce)):z=>(0,u.z)(De,z)}},8915:(Zt,ht,P)=>{"use strict";P.d(ht,{R:()=>Ee});var u=P(6498);let F=1;const j=Promise.resolve(),De={};function Ce(st){return st in De&&(delete De[st],!0)}const z={setImmediate(st){const Se=F++;return De[Se]=!0,j.then(()=>Ce(Se)&&st()),Se},clearImmediate(st){Ce(st)}};var fe=P(6686),Q=P(2268);const ee=new class K extends Q.v{flush(Se){this.active=!0,this.scheduled=void 0;const{actions:Ve}=this;let Ue,dt=-1,qe=Ve.length;Se=Se||Ve.shift();do{if(Ue=Se.execute(Se.state,Se.delay))break}while(++dt<qe&&(Se=Ve.shift()));if(this.active=!1,Ue){for(;++dt<qe&&(Se=Ve.shift());)Se.unsubscribe();throw Ue}}}(class pe extends fe.o{constructor(Se,Ve){super(Se,Ve),this.scheduler=Se,this.work=Ve}requestAsyncId(Se,Ve,Ue=0){return null!==Ue&&Ue>0?super.requestAsyncId(Se,Ve,Ue):(Se.actions.push(this),Se.scheduled||(Se.scheduled=z.setImmediate(Se.flush.bind(Se,null))))}recycleAsyncId(Se,Ve,Ue=0){if(null!==Ue&&Ue>0||null===Ue&&this.delay>0)return super.recycleAsyncId(Se,Ve,Ue);0===Se.actions.length&&(z.clearImmediate(Ve),Se.scheduled=void 0)}});var Ie=P(6688);class je extends u.y{constructor(Se,Ve=0,Ue=ee){super(),this.source=Se,this.delayTime=Ve,this.scheduler=Ue,(!function ct(st){return!(0,Ie.k)(st)&&st-parseFloat(st)+1>=0}(Ve)||Ve<0)&&(this.delayTime=0),(!Ue||"function"!=typeof Ue.schedule)&&(this.scheduler=ee)}static create(Se,Ve=0,Ue=ee){return new je(Se,Ve,Ue)}static dispatch(Se){const{source:Ve,subscriber:Ue}=Se;return this.add(Ve.subscribe(Ue))}_subscribe(Se){return this.scheduler.schedule(je.dispatch,this.delayTime,{source:this.source,subscriber:Se})}}function Ee(st,Se=0){return function(Ue){return Ue.lift(new ye(st,Se))}}class ye{constructor(Se,Ve){this.scheduler=Se,this.delay=Ve}call(Se,Ve){return new je(Ve,this.delay,this.scheduler).subscribe(Se)}}},7545:(Zt,ht,P)=>{"use strict";P.d(ht,{w:()=>De});var u=P(4850),F=P(5254),j=P(1177);function De(ue,fe){return"function"==typeof fe?pe=>pe.pipe(De((Q,K)=>(0,F.D)(ue(Q,K)).pipe((0,u.U)((se,ee)=>fe(Q,se,K,ee))))):pe=>pe.lift(new Ce(ue))}class Ce{constructor(fe){this.project=fe}call(fe,pe){return pe.subscribe(new z(fe,this.project))}}class z extends j.Ds{constructor(fe,pe){super(fe),this.project=pe,this.index=0}_next(fe){let pe;const Q=this.index++;try{pe=this.project(fe,Q)}catch(K){return void this.destination.error(K)}this._innerSub(pe)}_innerSub(fe){const pe=this.innerSubscription;pe&&pe.unsubscribe();const Q=new j.IY(this),K=this.destination;K.add(Q),this.innerSubscription=(0,j.ft)(fe,Q),this.innerSubscription!==Q&&K.add(this.innerSubscription)}_complete(){const{innerSubscription:fe}=this;(!fe||fe.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(fe){this.destination.next(fe)}}},2986:(Zt,ht,P)=>{"use strict";P.d(ht,{q:()=>De});var u=P(3489),F=P(4231),j=P(8896);function De(ue){return fe=>0===ue?(0,j.c)():fe.lift(new Ce(ue))}class Ce{constructor(fe){if(this.total=fe,this.total<0)throw new F.W}call(fe,pe){return pe.subscribe(new z(fe,this.total))}}class z extends u.L{constructor(fe,pe){super(fe),this.total=pe,this.count=0}_next(fe){const pe=this.total,Q=++this.count;Q<=pe&&(this.destination.next(fe),Q===pe&&(this.destination.complete(),this.unsubscribe()))}}},2868:(Zt,ht,P)=>{"use strict";P.d(ht,{b:()=>De});var u=P(3489);function F(){}var j=P(7043);function De(ue,fe,pe){return function(K){return K.lift(new Ce(ue,fe,pe))}}class Ce{constructor(fe,pe,Q){this.nextOrObserver=fe,this.error=pe,this.complete=Q}call(fe,pe){return pe.subscribe(new z(fe,this.nextOrObserver,this.error,this.complete))}}class z extends u.L{constructor(fe,pe,Q,K){super(fe),this._tapNext=F,this._tapError=F,this._tapComplete=F,this._tapError=Q||F,this._tapComplete=K||F,(0,j.m)(pe)?(this._context=this,this._tapNext=pe):pe&&(this._context=pe,this._tapNext=pe.next||F,this._tapError=pe.error||F,this._tapComplete=pe.complete||F)}_next(fe){try{this._tapNext.call(this._context,fe)}catch(pe){return void this.destination.error(pe)}this.destination.next(fe)}_error(fe){try{this._tapError.call(this._context,fe)}catch(pe){return void this.destination.error(pe)}this.destination.error(fe)}_complete(){try{this._tapComplete.call(this._context)}catch(fe){return void this.destination.error(fe)}return this.destination.complete()}}},4907:(Zt,ht,P)=>{"use strict";P.d(ht,{T:()=>j});var u=P(4450),F=P(3489);function j(ue=z){return fe=>fe.lift(new De(ue))}class De{constructor(fe){this.errorFactory=fe}call(fe,pe){return pe.subscribe(new Ce(fe,this.errorFactory))}}class Ce extends F.L{constructor(fe,pe){super(fe),this.errorFactory=pe,this.hasValue=!1}_next(fe){this.hasValue=!0,this.destination.next(fe)}_complete(){if(this.hasValue)return this.destination.complete();{let fe;try{fe=this.errorFactory()}catch(pe){fe=pe}this.destination.error(fe)}}}function z(){return new u.K}},6454:(Zt,ht,P)=>{"use strict";P.d(ht,{r:()=>j});var u=P(6498),F=P(2654);function j(De,Ce){return new u.y(z=>{const ue=new F.w;let fe=0;return ue.add(Ce.schedule(function(){fe!==De.length?(z.next(De[fe++]),z.closed||ue.add(this.schedule())):z.complete()})),ue})}},6686:(Zt,ht,P)=>{"use strict";P.d(ht,{o:()=>j});var u=P(2654);class F extends u.w{constructor(Ce,z){super()}schedule(Ce,z=0){return this}}class j extends F{constructor(Ce,z){super(Ce,z),this.scheduler=Ce,this.work=z,this.pending=!1}schedule(Ce,z=0){if(this.closed)return this;this.state=Ce;const ue=this.id,fe=this.scheduler;return null!=ue&&(this.id=this.recycleAsyncId(fe,ue,z)),this.pending=!0,this.delay=z,this.id=this.id||this.requestAsyncId(fe,this.id,z),this}requestAsyncId(Ce,z,ue=0){return setInterval(Ce.flush.bind(Ce,this),ue)}recycleAsyncId(Ce,z,ue=0){if(null!==ue&&this.delay===ue&&!1===this.pending)return z;clearInterval(z)}execute(Ce,z){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ue=this._execute(Ce,z);if(ue)return ue;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ce,z){let fe,ue=!1;try{this.work(Ce)}catch(pe){ue=!0,fe=!!pe&&pe||new Error(pe)}if(ue)return this.unsubscribe(),fe}_unsubscribe(){const Ce=this.id,z=this.scheduler,ue=z.actions,fe=ue.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==fe&&ue.splice(fe,1),null!=Ce&&(this.id=this.recycleAsyncId(z,Ce,null)),this.delay=null}}},2268:(Zt,ht,P)=>{"use strict";P.d(ht,{v:()=>F});let u=(()=>{class j{constructor(Ce,z=j.now){this.SchedulerAction=Ce,this.now=z}schedule(Ce,z=0,ue){return new this.SchedulerAction(this,Ce).schedule(ue,z)}}return j.now=()=>Date.now(),j})();class F extends u{constructor(De,Ce=u.now){super(De,()=>F.delegate&&F.delegate!==this?F.delegate.now():Ce()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(De,Ce=0,z){return F.delegate&&F.delegate!==this?F.delegate.schedule(De,Ce,z):super.schedule(De,Ce,z)}flush(De){const{actions:Ce}=this;if(this.active)return void Ce.push(De);let z;this.active=!0;do{if(z=De.execute(De.state,De.delay))break}while(De=Ce.shift());if(this.active=!1,z){for(;De=Ce.shift();)De.unsubscribe();throw z}}}},353:(Zt,ht,P)=>{"use strict";P.d(ht,{z:()=>j});var u=P(6686);const j=new(P(2268).v)(u.o)},341:(Zt,ht,P)=>{"use strict";P.d(ht,{c:()=>z,N:()=>Ce});var u=P(6686),j=P(2268);const Ce=new class De extends j.v{}(class F extends u.o{constructor(fe,pe){super(fe,pe),this.scheduler=fe,this.work=pe}schedule(fe,pe=0){return pe>0?super.schedule(fe,pe):(this.delay=pe,this.state=fe,this.scheduler.flush(this),this)}execute(fe,pe){return pe>0||this.closed?super.execute(fe,pe):this._execute(fe,pe)}requestAsyncId(fe,pe,Q=0){return null!==Q&&Q>0||null===Q&&this.delay>0?super.requestAsyncId(fe,pe,Q):fe.flush(this)}}),z=Ce},5430:(Zt,ht,P)=>{"use strict";P.d(ht,{hZ:()=>F});const F=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:(Zt,ht,P)=>{"use strict";P.d(ht,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(Zt,ht,P)=>{"use strict";P.d(ht,{b:()=>u});const u="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},4231:(Zt,ht,P)=>{"use strict";P.d(ht,{W:()=>F});const F=(()=>{function j(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return j.prototype=Object.create(Error.prototype),j})()},4450:(Zt,ht,P)=>{"use strict";P.d(ht,{K:()=>F});const F=(()=>{function j(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return j.prototype=Object.create(Error.prototype),j})()},5279:(Zt,ht,P)=>{"use strict";P.d(ht,{N:()=>F});const F=(()=>{function j(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return j.prototype=Object.create(Error.prototype),j})()},2782:(Zt,ht,P)=>{"use strict";function u(F){setTimeout(()=>{throw F},0)}P.d(ht,{z:()=>u})},5379:(Zt,ht,P)=>{"use strict";function u(F){return F}P.d(ht,{y:()=>u})},6688:(Zt,ht,P)=>{"use strict";P.d(ht,{k:()=>u});const u=Array.isArray||(F=>F&&"number"==typeof F.length)},8515:(Zt,ht,P)=>{"use strict";P.d(ht,{z:()=>u});const u=F=>F&&"number"==typeof F.length&&"function"!=typeof F},7043:(Zt,ht,P)=>{"use strict";function u(F){return"function"==typeof F}P.d(ht,{m:()=>u})},7830:(Zt,ht,P)=>{"use strict";function u(F){return null!==F&&"object"==typeof F}P.d(ht,{K:()=>u})},8955:(Zt,ht,P)=>{"use strict";function u(F){return!!F&&"function"!=typeof F.subscribe&&"function"==typeof F.then}P.d(ht,{t:()=>u})},2866:(Zt,ht,P)=>{"use strict";function u(F){return F&&"function"==typeof F.schedule}P.d(ht,{K:()=>u})},4843:(Zt,ht,P)=>{"use strict";P.d(ht,{U:()=>j,z:()=>F});var u=P(5379);function F(...De){return j(De)}function j(De){return 0===De.length?u.y:1===De.length?De[0]:function(z){return De.reduce((ue,fe)=>fe(ue),z)}}},9249:(Zt,ht,P)=>{"use strict";P.d(ht,{s:()=>K});var u=P(3650),F=P(2782),De=P(5430),z=P(3821),fe=P(8515),pe=P(8955),Q=P(7830);const K=se=>{if(se&&"function"==typeof se[z.L])return(se=>ee=>{const Ie=se[z.L]();if("function"!=typeof Ie.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Ie.subscribe(ee)})(se);if((0,fe.z)(se))return(0,u.V)(se);if((0,pe.t)(se))return(se=>ee=>(se.then(Ie=>{ee.closed||(ee.next(Ie),ee.complete())},Ie=>ee.error(Ie)).then(null,F.z),ee))(se);if(se&&"function"==typeof se[De.hZ])return(se=>ee=>{const Ie=se[De.hZ]();for(;;){let ct;try{ct=Ie.next()}catch(je){return ee.error(je),ee}if(ct.done){ee.complete();break}if(ee.next(ct.value),ee.closed)break}return"function"==typeof Ie.return&&ee.add(()=>{Ie.return&&Ie.return()}),ee})(se);{const Ie=`You provided ${(0,Q.K)(se)?"an invalid object":`'${se}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Ie)}}},3650:(Zt,ht,P)=>{"use strict";P.d(ht,{V:()=>u});const u=F=>j=>{for(let De=0,Ce=F.length;De<Ce&&!j.closed;De++)j.next(F[De]);j.complete()}},863:(Zt,ht,P)=>{var u={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,3236],"./ion-avatar_3.entry.js":[4753,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,5652],"./ion-card_5.entry.js":[388,388],"./ion-checkbox.entry.js":[9922,9922],"./ion-chip.entry.js":[657,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime-button.entry.js":[9230,1435,9230],"./ion-datetime_3.entry.js":[4959,1435,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,5817],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,4651],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,8592,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,8592,3804],"./ion-progress-bar.entry.js":[4174,4174],"./ion-radio_2.entry.js":[4432,4432],"./ion-range.entry.js":[3545,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,2175],"./ion-reorder_2.entry.js":[3583,8592,1186],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,2773],"./ion-slide_2.entry.js":[1650,1650],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,8592,1536],"./ion-text.entry.js":[4376,4376],"./ion-textarea.entry.js":[6560,6560],"./ion-toast.entry.js":[6120,8592,6120],"./ion-toggle.entry.js":[5168,8592,5168],"./ion-virtual-scroll.entry.js":[2289,2289]};function F(j){if(!P.o(u,j))return Promise.resolve().then(()=>{var z=new Error("Cannot find module '"+j+"'");throw z.code="MODULE_NOT_FOUND",z});var De=u[j],Ce=De[0];return Promise.all(De.slice(1).map(P.e)).then(()=>P(Ce))}F.keys=()=>Object.keys(u),F.id=863,Zt.exports=F},655:(Zt,ht,P)=>{"use strict";function De(he,re){var Y={};for(var J in he)Object.prototype.hasOwnProperty.call(he,J)&&re.indexOf(J)<0&&(Y[J]=he[J]);if(null!=he&&"function"==typeof Object.getOwnPropertySymbols){var Ke=0;for(J=Object.getOwnPropertySymbols(he);Ke<J.length;Ke++)re.indexOf(J[Ke])<0&&Object.prototype.propertyIsEnumerable.call(he,J[Ke])&&(Y[J[Ke]]=he[J[Ke]])}return Y}function Ce(he,re,Y,J){var wt,Ke=arguments.length,ot=Ke<3?re:null===J?J=Object.getOwnPropertyDescriptor(re,Y):J;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ot=Reflect.decorate(he,re,Y,J);else for(var rt=he.length-1;rt>=0;rt--)(wt=he[rt])&&(ot=(Ke<3?wt(ot):Ke>3?wt(re,Y,ot):wt(re,Y))||ot);return Ke>3&&ot&&Object.defineProperty(re,Y,ot),ot}function fe(he,re,Y,J){return new(Y||(Y=Promise))(function(ot,wt){function rt(mt){try{Ze(J.next(mt))}catch(St){wt(St)}}function Ge(mt){try{Ze(J.throw(mt))}catch(St){wt(St)}}function Ze(mt){mt.done?ot(mt.value):function Ke(ot){return ot instanceof Y?ot:new Y(function(wt){wt(ot)})}(mt.value).then(rt,Ge)}Ze((J=J.apply(he,re||[])).next())})}P.d(ht,{_T:()=>De,gn:()=>Ce,mG:()=>fe})},6895:(Zt,ht,P)=>{"use strict";P.d(ht,{Do:()=>Se,EM:()=>ls,HT:()=>Ce,JF:()=>Ps,K0:()=>ue,Mx:()=>tr,NF:()=>wo,O5:()=>G,PM:()=>ni,S$:()=>Ee,V_:()=>Q,Ye:()=>Ve,b0:()=>st,bD:()=>Ms,ez:()=>cs,q:()=>j,sg:()=>ce,tP:()=>dn,uU:()=>jo,w_:()=>z});var u=P(5062);let F=null;function j(){return F}function Ce(M){F||(F=M)}class z{}const ue=new u.OlP("DocumentToken");let fe=(()=>{class M{historyGo(N){throw new Error("Not implemented")}}return M.\u0275fac=function(N){return new(N||M)},M.\u0275prov=u.Yz7({token:M,factory:function(){return function pe(){return(0,u.LFG)(K)}()},providedIn:"platform"}),M})();const Q=new u.OlP("Location Initialized");let K=(()=>{class M extends fe{constructor(N){super(),this._doc=N,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return j().getBaseHref(this._doc)}onPopState(N){const ae=j().getGlobalEventTarget(this._doc,"window");return ae.addEventListener("popstate",N,!1),()=>ae.removeEventListener("popstate",N)}onHashChange(N){const ae=j().getGlobalEventTarget(this._doc,"window");return ae.addEventListener("hashchange",N,!1),()=>ae.removeEventListener("hashchange",N)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(N){this.location.pathname=N}pushState(N,ae,et){se()?this._history.pushState(N,ae,et):this.location.hash=et}replaceState(N,ae,et){se()?this._history.replaceState(N,ae,et):this.location.hash=et}forward(){this._history.forward()}back(){this._history.back()}historyGo(N=0){this._history.go(N)}getState(){return this._history.state}}return M.\u0275fac=function(N){return new(N||M)(u.LFG(ue))},M.\u0275prov=u.Yz7({token:M,factory:function(){return function ee(){return new K((0,u.LFG)(ue))}()},providedIn:"platform"}),M})();function se(){return!!window.history.pushState}function Ie(M,W){if(0==M.length)return W;if(0==W.length)return M;let N=0;return M.endsWith("/")&&N++,W.startsWith("/")&&N++,2==N?M+W.substring(1):1==N?M+W:M+"/"+W}function ct(M){const W=M.match(/#|\?|$/),N=W&&W.index||M.length;return M.slice(0,N-("/"===M[N-1]?1:0))+M.slice(N)}function je(M){return M&&"?"!==M[0]?"?"+M:M}let Ee=(()=>{class M{historyGo(N){throw new Error("Not implemented")}}return M.\u0275fac=function(N){return new(N||M)},M.\u0275prov=u.Yz7({token:M,factory:function(){return(0,u.f3M)(st)},providedIn:"root"}),M})();const ye=new u.OlP("appBaseHref");let st=(()=>{class M extends Ee{constructor(N,ae){super(),this._platformLocation=N,this._removeListenerFns=[],this._baseHref=ae??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(ue).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}prepareExternalUrl(N){return Ie(this._baseHref,N)}path(N=!1){const ae=this._platformLocation.pathname+je(this._platformLocation.search),et=this._platformLocation.hash;return et&&N?`${ae}${et}`:ae}pushState(N,ae,et,Nt){const Kt=this.prepareExternalUrl(et+je(Nt));this._platformLocation.pushState(N,ae,Kt)}replaceState(N,ae,et,Nt){const Kt=this.prepareExternalUrl(et+je(Nt));this._platformLocation.replaceState(N,ae,Kt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(N=0){this._platformLocation.historyGo?.(N)}}return M.\u0275fac=function(N){return new(N||M)(u.LFG(fe),u.LFG(ye,8))},M.\u0275prov=u.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})(),Se=(()=>{class M extends Ee{constructor(N,ae){super(),this._platformLocation=N,this._baseHref="",this._removeListenerFns=[],null!=ae&&(this._baseHref=ae)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}path(N=!1){let ae=this._platformLocation.hash;return null==ae&&(ae="#"),ae.length>0?ae.substring(1):ae}prepareExternalUrl(N){const ae=Ie(this._baseHref,N);return ae.length>0?"#"+ae:ae}pushState(N,ae,et,Nt){let Kt=this.prepareExternalUrl(et+je(Nt));0==Kt.length&&(Kt=this._platformLocation.pathname),this._platformLocation.pushState(N,ae,Kt)}replaceState(N,ae,et,Nt){let Kt=this.prepareExternalUrl(et+je(Nt));0==Kt.length&&(Kt=this._platformLocation.pathname),this._platformLocation.replaceState(N,ae,Kt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(N=0){this._platformLocation.historyGo?.(N)}}return M.\u0275fac=function(N){return new(N||M)(u.LFG(fe),u.LFG(ye,8))},M.\u0275prov=u.Yz7({token:M,factory:M.\u0275fac}),M})(),Ve=(()=>{class M{constructor(N){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=N;const ae=this._locationStrategy.getBaseHref();this._baseHref=ct(qe(ae)),this._locationStrategy.onPopState(et=>{this._subject.emit({url:this.path(!0),pop:!0,state:et.state,type:et.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(N=!1){return this.normalize(this._locationStrategy.path(N))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(N,ae=""){return this.path()==this.normalize(N+je(ae))}normalize(N){return M.stripTrailingSlash(function dt(M,W){return M&&W.startsWith(M)?W.substring(M.length):W}(this._baseHref,qe(N)))}prepareExternalUrl(N){return N&&"/"!==N[0]&&(N="/"+N),this._locationStrategy.prepareExternalUrl(N)}go(N,ae="",et=null){this._locationStrategy.pushState(et,"",N,ae),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+je(ae)),et)}replaceState(N,ae="",et=null){this._locationStrategy.replaceState(et,"",N,ae),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+je(ae)),et)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(N=0){this._locationStrategy.historyGo?.(N)}onUrlChange(N){return this._urlChangeListeners.push(N),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ae=>{this._notifyUrlChangeListeners(ae.url,ae.state)})),()=>{const ae=this._urlChangeListeners.indexOf(N);this._urlChangeListeners.splice(ae,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(N="",ae){this._urlChangeListeners.forEach(et=>et(N,ae))}subscribe(N,ae,et){return this._subject.subscribe({next:N,error:ae,complete:et})}}return M.normalizeQueryParams=je,M.joinWithSlash=Ie,M.stripTrailingSlash=ct,M.\u0275fac=function(N){return new(N||M)(u.LFG(Ee))},M.\u0275prov=u.Yz7({token:M,factory:function(){return function Ue(){return new Ve((0,u.LFG)(Ee))}()},providedIn:"root"}),M})();function qe(M){return M.replace(/\/index.html$/,"")}var he=(()=>((he=he||{})[he.Format=0]="Format",he[he.Standalone=1]="Standalone",he))(),re=(()=>((re=re||{})[re.Narrow=0]="Narrow",re[re.Abbreviated=1]="Abbreviated",re[re.Wide=2]="Wide",re[re.Short=3]="Short",re))(),Y=(()=>((Y=Y||{})[Y.Short=0]="Short",Y[Y.Medium=1]="Medium",Y[Y.Long=2]="Long",Y[Y.Full=3]="Full",Y))(),J=(()=>((J=J||{})[J.Decimal=0]="Decimal",J[J.Group=1]="Group",J[J.List=2]="List",J[J.PercentSign=3]="PercentSign",J[J.PlusSign=4]="PlusSign",J[J.MinusSign=5]="MinusSign",J[J.Exponential=6]="Exponential",J[J.SuperscriptingExponent=7]="SuperscriptingExponent",J[J.PerMille=8]="PerMille",J[J.Infinity=9]="Infinity",J[J.NaN=10]="NaN",J[J.TimeSeparator=11]="TimeSeparator",J[J.CurrencyDecimal=12]="CurrencyDecimal",J[J.CurrencyGroup=13]="CurrencyGroup",J))();function _t(M,W){return In((0,u.cg1)(M)[u.wAp.DateFormat],W)}function bt(M,W){return In((0,u.cg1)(M)[u.wAp.TimeFormat],W)}function tt(M,W){return In((0,u.cg1)(M)[u.wAp.DateTimeFormat],W)}function Vt(M,W){const N=(0,u.cg1)(M),ae=N[u.wAp.NumberSymbols][W];if(typeof ae>"u"){if(W===J.CurrencyDecimal)return N[u.wAp.NumberSymbols][J.Decimal];if(W===J.CurrencyGroup)return N[u.wAp.NumberSymbols][J.Group]}return ae}function Bn(M){if(!M[u.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${M[u.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function In(M,W){for(let N=W;N>-1;N--)if(typeof M[N]<"u")return M[N];throw new Error("Locale data API: locale data undefined")}function zn(M){const[W,N]=M.split(":");return{hours:+W,minutes:+N}}const Lt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,gn={},Ot=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var we=(()=>((we=we||{})[we.Short=0]="Short",we[we.ShortGMT=1]="ShortGMT",we[we.Long=2]="Long",we[we.Extended=3]="Extended",we))(),xe=(()=>((xe=xe||{})[xe.FullYear=0]="FullYear",xe[xe.Month=1]="Month",xe[xe.Date=2]="Date",xe[xe.Hours=3]="Hours",xe[xe.Minutes=4]="Minutes",xe[xe.Seconds=5]="Seconds",xe[xe.FractionalSeconds=6]="FractionalSeconds",xe[xe.Day=7]="Day",xe))(),ze=(()=>((ze=ze||{})[ze.DayPeriods=0]="DayPeriods",ze[ze.Days=1]="Days",ze[ze.Months=2]="Months",ze[ze.Eras=3]="Eras",ze))();function Et(M,W,N,ae){let et=function Pt(M){if(Be(M))return M;if("number"==typeof M&&!isNaN(M))return new Date(M);if("string"==typeof M){if(M=M.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(M)){const[et,Nt=1,Kt=1]=M.split("-").map(On=>+On);return Ht(et,Nt-1,Kt)}const N=parseFloat(M);if(!isNaN(M-N))return new Date(N);let ae;if(ae=M.match(Lt))return function We(M){const W=new Date(0);let N=0,ae=0;const et=M[8]?W.setUTCFullYear:W.setFullYear,Nt=M[8]?W.setUTCHours:W.setHours;M[9]&&(N=Number(M[9]+M[10]),ae=Number(M[9]+M[11])),et.call(W,Number(M[1]),Number(M[2])-1,Number(M[3]));const Kt=Number(M[4]||0)-N,On=Number(M[5]||0)-ae,Cr=Number(M[6]||0),rr=Math.floor(1e3*parseFloat("0."+(M[7]||0)));return Nt.call(W,Kt,On,Cr,rr),W}(ae)}const W=new Date(M);if(!Be(W))throw new Error(`Unable to convert "${M}" into a date`);return W}(M);W=on(N,W)||W;let On,Kt=[];for(;W;){if(On=Ot.exec(W),!On){Kt.push(W);break}{Kt=Kt.concat(On.slice(1));const hr=Kt.pop();if(!hr)break;W=hr}}let Cr=et.getTimezoneOffset();ae&&(Cr=X(ae,Cr),et=function ke(M,W,N){const ae=N?-1:1,et=M.getTimezoneOffset();return function He(M,W){return(M=new Date(M.getTime())).setMinutes(M.getMinutes()+W),M}(M,ae*(X(W,et)-et))}(et,ae,!0));let rr="";return Kt.forEach(hr=>{const Un=function Me(M){if(Le[M])return Le[M];let W;switch(M){case"G":case"GG":case"GGG":W=Sn(ze.Eras,re.Abbreviated);break;case"GGGG":W=Sn(ze.Eras,re.Wide);break;case"GGGGG":W=Sn(ze.Eras,re.Narrow);break;case"y":W=Tn(xe.FullYear,1,0,!1,!0);break;case"yy":W=Tn(xe.FullYear,2,0,!0,!0);break;case"yyy":W=Tn(xe.FullYear,3,0,!1,!0);break;case"yyyy":W=Tn(xe.FullYear,4,0,!1,!0);break;case"Y":W=yn(1);break;case"YY":W=yn(2,!0);break;case"YYY":W=yn(3);break;case"YYYY":W=yn(4);break;case"M":case"L":W=Tn(xe.Month,1,1);break;case"MM":case"LL":W=Tn(xe.Month,2,1);break;case"MMM":W=Sn(ze.Months,re.Abbreviated);break;case"MMMM":W=Sn(ze.Months,re.Wide);break;case"MMMMM":W=Sn(ze.Months,re.Narrow);break;case"LLL":W=Sn(ze.Months,re.Abbreviated,he.Standalone);break;case"LLLL":W=Sn(ze.Months,re.Wide,he.Standalone);break;case"LLLLL":W=Sn(ze.Months,re.Narrow,he.Standalone);break;case"w":W=Cn(1);break;case"ww":W=Cn(2);break;case"W":W=Cn(1,!0);break;case"d":W=Tn(xe.Date,1);break;case"dd":W=Tn(xe.Date,2);break;case"c":case"cc":W=Tn(xe.Day,1);break;case"ccc":W=Sn(ze.Days,re.Abbreviated,he.Standalone);break;case"cccc":W=Sn(ze.Days,re.Wide,he.Standalone);break;case"ccccc":W=Sn(ze.Days,re.Narrow,he.Standalone);break;case"cccccc":W=Sn(ze.Days,re.Short,he.Standalone);break;case"E":case"EE":case"EEE":W=Sn(ze.Days,re.Abbreviated);break;case"EEEE":W=Sn(ze.Days,re.Wide);break;case"EEEEE":W=Sn(ze.Days,re.Narrow);break;case"EEEEEE":W=Sn(ze.Days,re.Short);break;case"a":case"aa":case"aaa":W=Sn(ze.DayPeriods,re.Abbreviated);break;case"aaaa":W=Sn(ze.DayPeriods,re.Wide);break;case"aaaaa":W=Sn(ze.DayPeriods,re.Narrow);break;case"b":case"bb":case"bbb":W=Sn(ze.DayPeriods,re.Abbreviated,he.Standalone,!0);break;case"bbbb":W=Sn(ze.DayPeriods,re.Wide,he.Standalone,!0);break;case"bbbbb":W=Sn(ze.DayPeriods,re.Narrow,he.Standalone,!0);break;case"B":case"BB":case"BBB":W=Sn(ze.DayPeriods,re.Abbreviated,he.Format,!0);break;case"BBBB":W=Sn(ze.DayPeriods,re.Wide,he.Format,!0);break;case"BBBBB":W=Sn(ze.DayPeriods,re.Narrow,he.Format,!0);break;case"h":W=Tn(xe.Hours,1,-12);break;case"hh":W=Tn(xe.Hours,2,-12);break;case"H":W=Tn(xe.Hours,1);break;case"HH":W=Tn(xe.Hours,2);break;case"m":W=Tn(xe.Minutes,1);break;case"mm":W=Tn(xe.Minutes,2);break;case"s":W=Tn(xe.Seconds,1);break;case"ss":W=Tn(xe.Seconds,2);break;case"S":W=Tn(xe.FractionalSeconds,1);break;case"SS":W=Tn(xe.FractionalSeconds,2);break;case"SSS":W=Tn(xe.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":W=Fn(we.Short);break;case"ZZZZZ":W=Fn(we.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":W=Fn(we.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":W=Fn(we.Long);break;default:return null}return Le[M]=W,W}(hr);rr+=Un?Un(et,N,Cr):"''"===hr?"'":hr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),rr}function Ht(M,W,N){const ae=new Date(0);return ae.setFullYear(M,W,N),ae.setHours(0,0,0),ae}function on(M,W){const N=function ot(M){return(0,u.cg1)(M)[u.wAp.LocaleId]}(M);if(gn[N]=gn[N]||{},gn[N][W])return gn[N][W];let ae="";switch(W){case"shortDate":ae=_t(M,Y.Short);break;case"mediumDate":ae=_t(M,Y.Medium);break;case"longDate":ae=_t(M,Y.Long);break;case"fullDate":ae=_t(M,Y.Full);break;case"shortTime":ae=bt(M,Y.Short);break;case"mediumTime":ae=bt(M,Y.Medium);break;case"longTime":ae=bt(M,Y.Long);break;case"fullTime":ae=bt(M,Y.Full);break;case"short":const et=on(M,"shortTime"),Nt=on(M,"shortDate");ae=Dn(tt(M,Y.Short),[et,Nt]);break;case"medium":const Kt=on(M,"mediumTime"),On=on(M,"mediumDate");ae=Dn(tt(M,Y.Medium),[Kt,On]);break;case"long":const Cr=on(M,"longTime"),rr=on(M,"longDate");ae=Dn(tt(M,Y.Long),[Cr,rr]);break;case"full":const hr=on(M,"fullTime"),Un=on(M,"fullDate");ae=Dn(tt(M,Y.Full),[hr,Un])}return ae&&(gn[N][W]=ae),ae}function Dn(M,W){return W&&(M=M.replace(/\{([^}]+)}/g,function(N,ae){return null!=W&&ae in W?W[ae]:N})),M}function nn(M,W,N="-",ae,et){let Nt="";(M<0||et&&M<=0)&&(et?M=1-M:(M=-M,Nt=N));let Kt=String(M);for(;Kt.length<W;)Kt="0"+Kt;return ae&&(Kt=Kt.slice(Kt.length-W)),Nt+Kt}function Tn(M,W,N=0,ae=!1,et=!1){return function(Nt,Kt){let On=function sr(M,W){switch(M){case xe.FullYear:return W.getFullYear();case xe.Month:return W.getMonth();case xe.Date:return W.getDate();case xe.Hours:return W.getHours();case xe.Minutes:return W.getMinutes();case xe.Seconds:return W.getSeconds();case xe.FractionalSeconds:return W.getMilliseconds();case xe.Day:return W.getDay();default:throw new Error(`Unknown DateType value "${M}".`)}}(M,Nt);if((N>0||On>-N)&&(On+=N),M===xe.Hours)0===On&&-12===N&&(On=12);else if(M===xe.FractionalSeconds)return function rn(M,W){return nn(M,3).substring(0,W)}(On,W);const Cr=Vt(Kt,J.MinusSign);return nn(On,W,Cr,ae,et)}}function Sn(M,W,N=he.Format,ae=!1){return function(et,Nt){return function fn(M,W,N,ae,et,Nt){switch(N){case ze.Months:return function Ge(M,W,N){const ae=(0,u.cg1)(M),Nt=In([ae[u.wAp.MonthsFormat],ae[u.wAp.MonthsStandalone]],W);return In(Nt,N)}(W,et,ae)[M.getMonth()];case ze.Days:return function rt(M,W,N){const ae=(0,u.cg1)(M),Nt=In([ae[u.wAp.DaysFormat],ae[u.wAp.DaysStandalone]],W);return In(Nt,N)}(W,et,ae)[M.getDay()];case ze.DayPeriods:const Kt=M.getHours(),On=M.getMinutes();if(Nt){const rr=function Hn(M){const W=(0,u.cg1)(M);return Bn(W),(W[u.wAp.ExtraData][2]||[]).map(ae=>"string"==typeof ae?zn(ae):[zn(ae[0]),zn(ae[1])])}(W),hr=function kn(M,W,N){const ae=(0,u.cg1)(M);Bn(ae);const Nt=In([ae[u.wAp.ExtraData][0],ae[u.wAp.ExtraData][1]],W)||[];return In(Nt,N)||[]}(W,et,ae),Un=rr.findIndex(qr=>{if(Array.isArray(qr)){const[Nr,gi]=qr,zo=Kt>=Nr.hours&&On>=Nr.minutes,qs=Kt<gi.hours||Kt===gi.hours&&On<gi.minutes;if(Nr.hours<gi.hours){if(zo&&qs)return!0}else if(zo||qs)return!0}else if(qr.hours===Kt&&qr.minutes===On)return!0;return!1});if(-1!==Un)return hr[Un]}return function wt(M,W,N){const ae=(0,u.cg1)(M),Nt=In([ae[u.wAp.DayPeriodsFormat],ae[u.wAp.DayPeriodsStandalone]],W);return In(Nt,N)}(W,et,ae)[Kt<12?0:1];case ze.Eras:return function Ze(M,W){return In((0,u.cg1)(M)[u.wAp.Eras],W)}(W,ae)[M.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${N}`)}}(et,Nt,M,W,N,ae)}}function Fn(M){return function(W,N,ae){const et=-1*ae,Nt=Vt(N,J.MinusSign),Kt=et>0?Math.floor(et/60):Math.ceil(et/60);switch(M){case we.Short:return(et>=0?"+":"")+nn(Kt,2,Nt)+nn(Math.abs(et%60),2,Nt);case we.ShortGMT:return"GMT"+(et>=0?"+":"")+nn(Kt,1,Nt);case we.Long:return"GMT"+(et>=0?"+":"")+nn(Kt,2,Nt)+":"+nn(Math.abs(et%60),2,Nt);case we.Extended:return 0===ae?"Z":(et>=0?"+":"")+nn(Kt,2,Nt)+":"+nn(Math.abs(et%60),2,Nt);default:throw new Error(`Unknown zone width "${M}"`)}}}function an(M){return Ht(M.getFullYear(),M.getMonth(),M.getDate()+(4-M.getDay()))}function Cn(M,W=!1){return function(N,ae){let et;if(W){const Nt=new Date(N.getFullYear(),N.getMonth(),1).getDay()-1,Kt=N.getDate();et=1+Math.floor((Kt+Nt)/7)}else{const Nt=an(N),Kt=function Yt(M){const W=Ht(M,0,1).getDay();return Ht(M,0,1+(W<=4?4:11)-W)}(Nt.getFullYear()),On=Nt.getTime()-Kt.getTime();et=1+Math.round(On/6048e5)}return nn(et,M,Vt(ae,J.MinusSign))}}function yn(M,W=!1){return function(N,ae){return nn(an(N).getFullYear(),M,Vt(ae,J.MinusSign),W)}}const Le={};function X(M,W){M=M.replace(/:/g,"");const N=Date.parse("Jan 01, 1970 00:00:00 "+M)/6e4;return isNaN(N)?W:N}function Be(M){return M instanceof Date&&!isNaN(M.valueOf())}function tr(M,W){W=encodeURIComponent(W);for(const N of M.split(";")){const ae=N.indexOf("="),[et,Nt]=-1==ae?[N,""]:[N.slice(0,ae),N.slice(ae+1)];if(et.trim()===W)return decodeURIComponent(Nt)}return null}class Gi{constructor(W,N,ae,et){this.$implicit=W,this.ngForOf=N,this.index=ae,this.count=et}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ce=(()=>{class M{constructor(N,ae,et){this._viewContainer=N,this._template=ae,this._differs=et,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(N){this._ngForOf=N,this._ngForOfDirty=!0}set ngForTrackBy(N){this._trackByFn=N}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(N){N&&(this._template=N)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const N=this._ngForOf;!this._differ&&N&&(this._differ=this._differs.find(N).create(this.ngForTrackBy))}if(this._differ){const N=this._differ.diff(this._ngForOf);N&&this._applyChanges(N)}}_applyChanges(N){const ae=this._viewContainer;N.forEachOperation((et,Nt,Kt)=>{if(null==et.previousIndex)ae.createEmbeddedView(this._template,new Gi(et.item,this._ngForOf,-1,-1),null===Kt?void 0:Kt);else if(null==Kt)ae.remove(null===Nt?void 0:Nt);else if(null!==Nt){const On=ae.get(Nt);ae.move(On,Kt),Xe(On,et)}});for(let et=0,Nt=ae.length;et<Nt;et++){const On=ae.get(et).context;On.index=et,On.count=Nt,On.ngForOf=this._ngForOf}N.forEachIdentityChange(et=>{Xe(ae.get(et.currentIndex),et)})}static ngTemplateContextGuard(N,ae){return!0}}return M.\u0275fac=function(N){return new(N||M)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},M.\u0275dir=u.lG2({type:M,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),M})();function Xe(M,W){M.context.$implicit=W.item}let G=(()=>{class M{constructor(N,ae){this._viewContainer=N,this._context=new te,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ae}set ngIf(N){this._context.$implicit=this._context.ngIf=N,this._updateView()}set ngIfThen(N){ne("ngIfThen",N),this._thenTemplateRef=N,this._thenViewRef=null,this._updateView()}set ngIfElse(N){ne("ngIfElse",N),this._elseTemplateRef=N,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(N,ae){return!0}}return M.\u0275fac=function(N){return new(N||M)(u.Y36(u.s_b),u.Y36(u.Rgc))},M.\u0275dir=u.lG2({type:M,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),M})();class te{constructor(){this.$implicit=null,this.ngIf=null}}function ne(M,W){if(W&&!W.createEmbeddedView)throw new Error(`${M} must be a TemplateRef, but received '${(0,u.AaK)(W)}'.`)}let dn=(()=>{class M{constructor(N){this._viewContainerRef=N,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(N){if(N.ngTemplateOutlet||N.ngTemplateOutletInjector){const ae=this._viewContainerRef;if(this._viewRef&&ae.remove(ae.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:et,ngTemplateOutletContext:Nt,ngTemplateOutletInjector:Kt}=this;this._viewRef=ae.createEmbeddedView(et,Nt,Kt?{injector:Kt}:void 0)}else this._viewRef=null}else this._viewRef&&N.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return M.\u0275fac=function(N){return new(N||M)(u.Y36(u.s_b))},M.\u0275dir=u.lG2({type:M,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[u.TTD]}),M})();const pu=new u.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let jo=(()=>{class M{constructor(N,ae){this.locale=N,this.defaultTimezone=ae}transform(N,ae="mediumDate",et,Nt){if(null==N||""===N||N!=N)return null;try{return Et(N,ae,Nt||this.locale,et??this.defaultTimezone??void 0)}catch(Kt){throw function jn(M,W){return new u.vHH(2100,!1)}()}}}return M.\u0275fac=function(N){return new(N||M)(u.Y36(u.soG,16),u.Y36(pu,24))},M.\u0275pipe=u.Yjl({name:"date",type:M,pure:!0,standalone:!0}),M})(),cs=(()=>{class M{}return M.\u0275fac=function(N){return new(N||M)},M.\u0275mod=u.oAB({type:M}),M.\u0275inj=u.cJS({}),M})();const Ms="browser";function wo(M){return M===Ms}function ni(M){return"server"===M}let ls=(()=>{class M{}return M.\u0275prov=(0,u.Yz7)({token:M,providedIn:"root",factory:()=>new Ur((0,u.LFG)(ue),window)}),M})();class Ur{constructor(W,N){this.document=W,this.window=N,this.offset=()=>[0,0]}setOffset(W){this.offset=Array.isArray(W)?()=>W:W}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(W){this.supportsScrolling()&&this.window.scrollTo(W[0],W[1])}scrollToAnchor(W){if(!this.supportsScrolling())return;const N=function Os(M,W){const N=M.getElementById(W)||M.getElementsByName(W)[0];if(N)return N;if("function"==typeof M.createTreeWalker&&M.body&&(M.body.createShadowRoot||M.body.attachShadow)){const ae=M.createTreeWalker(M.body,NodeFilter.SHOW_ELEMENT);let et=ae.currentNode;for(;et;){const Nt=et.shadowRoot;if(Nt){const Kt=Nt.getElementById(W)||Nt.querySelector(`[name="${W}"]`);if(Kt)return Kt}et=ae.nextNode()}}return null}(this.document,W);N&&(this.scrollToElement(N),N.focus())}setHistoryScrollRestoration(W){if(this.supportScrollRestoration()){const N=this.window.history;N&&N.scrollRestoration&&(N.scrollRestoration=W)}}scrollToElement(W){const N=W.getBoundingClientRect(),ae=N.left+this.window.pageXOffset,et=N.top+this.window.pageYOffset,Nt=this.offset();this.window.scrollTo(ae-Nt[0],et-Nt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const W=ds(this.window.history)||ds(Object.getPrototypeOf(this.window.history));return!(!W||!W.writable&&!W.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ds(M){return Object.getOwnPropertyDescriptor(M,"scrollRestoration")}class Ps{}},529:(Zt,ht,P)=>{"use strict";P.d(ht,{JF:()=>Wn,LE:()=>ye,TP:()=>rt,WM:()=>Q,Zn:()=>Y,aW:()=>ge,eN:()=>ot,jN:()=>pe});var u=P(6895),F=P(5062),j=P(1086),De=P(6498),Ce=P(1406),z=P(2198),ue=P(4850);class fe{}class pe{}class Q{constructor(we){this.normalizedNames=new Map,this.lazyUpdate=null,we?this.lazyInit="string"==typeof we?()=>{this.headers=new Map,we.split("\n").forEach(xe=>{const ze=xe.indexOf(":");if(ze>0){const Et=xe.slice(0,ze),Ht=Et.toLowerCase(),on=xe.slice(ze+1).trim();this.maybeSetNormalizedName(Et,Ht),this.headers.has(Ht)?this.headers.get(Ht).push(on):this.headers.set(Ht,[on])}})}:()=>{this.headers=new Map,Object.keys(we).forEach(xe=>{let ze=we[xe];const Et=xe.toLowerCase();"string"==typeof ze&&(ze=[ze]),ze.length>0&&(this.headers.set(Et,ze),this.maybeSetNormalizedName(xe,Et))})}:this.headers=new Map}has(we){return this.init(),this.headers.has(we.toLowerCase())}get(we){this.init();const xe=this.headers.get(we.toLowerCase());return xe&&xe.length>0?xe[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(we){return this.init(),this.headers.get(we.toLowerCase())||null}append(we,xe){return this.clone({name:we,value:xe,op:"a"})}set(we,xe){return this.clone({name:we,value:xe,op:"s"})}delete(we,xe){return this.clone({name:we,value:xe,op:"d"})}maybeSetNormalizedName(we,xe){this.normalizedNames.has(xe)||this.normalizedNames.set(xe,we)}init(){this.lazyInit&&(this.lazyInit instanceof Q?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(we=>this.applyUpdate(we)),this.lazyUpdate=null))}copyFrom(we){we.init(),Array.from(we.headers.keys()).forEach(xe=>{this.headers.set(xe,we.headers.get(xe)),this.normalizedNames.set(xe,we.normalizedNames.get(xe))})}clone(we){const xe=new Q;return xe.lazyInit=this.lazyInit&&this.lazyInit instanceof Q?this.lazyInit:this,xe.lazyUpdate=(this.lazyUpdate||[]).concat([we]),xe}applyUpdate(we){const xe=we.name.toLowerCase();switch(we.op){case"a":case"s":let ze=we.value;if("string"==typeof ze&&(ze=[ze]),0===ze.length)return;this.maybeSetNormalizedName(we.name,xe);const Et=("a"===we.op?this.headers.get(xe):void 0)||[];Et.push(...ze),this.headers.set(xe,Et);break;case"d":const Ht=we.value;if(Ht){let on=this.headers.get(xe);if(!on)return;on=on.filter(Dn=>-1===Ht.indexOf(Dn)),0===on.length?(this.headers.delete(xe),this.normalizedNames.delete(xe)):this.headers.set(xe,on)}else this.headers.delete(xe),this.normalizedNames.delete(xe)}}forEach(we){this.init(),Array.from(this.normalizedNames.keys()).forEach(xe=>we(this.normalizedNames.get(xe),this.headers.get(xe)))}}class se{encodeKey(we){return je(we)}encodeValue(we){return je(we)}decodeKey(we){return decodeURIComponent(we)}decodeValue(we){return decodeURIComponent(we)}}const Ie=/%(\d[a-f0-9])/gi,ct={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function je(Ot){return encodeURIComponent(Ot).replace(Ie,(we,xe)=>ct[xe]??we)}function Ee(Ot){return`${Ot}`}class ye{constructor(we={}){if(this.updates=null,this.cloneFrom=null,this.encoder=we.encoder||new se,we.fromString){if(we.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ee(Ot,we){const xe=new Map;return Ot.length>0&&Ot.replace(/^\?/,"").split("&").forEach(Et=>{const Ht=Et.indexOf("="),[on,Dn]=-1==Ht?[we.decodeKey(Et),""]:[we.decodeKey(Et.slice(0,Ht)),we.decodeValue(Et.slice(Ht+1))],nn=xe.get(on)||[];nn.push(Dn),xe.set(on,nn)}),xe}(we.fromString,this.encoder)}else we.fromObject?(this.map=new Map,Object.keys(we.fromObject).forEach(xe=>{const ze=we.fromObject[xe],Et=Array.isArray(ze)?ze.map(Ee):[Ee(ze)];this.map.set(xe,Et)})):this.map=null}has(we){return this.init(),this.map.has(we)}get(we){this.init();const xe=this.map.get(we);return xe?xe[0]:null}getAll(we){return this.init(),this.map.get(we)||null}keys(){return this.init(),Array.from(this.map.keys())}append(we,xe){return this.clone({param:we,value:xe,op:"a"})}appendAll(we){const xe=[];return Object.keys(we).forEach(ze=>{const Et=we[ze];Array.isArray(Et)?Et.forEach(Ht=>{xe.push({param:ze,value:Ht,op:"a"})}):xe.push({param:ze,value:Et,op:"a"})}),this.clone(xe)}set(we,xe){return this.clone({param:we,value:xe,op:"s"})}delete(we,xe){return this.clone({param:we,value:xe,op:"d"})}toString(){return this.init(),this.keys().map(we=>{const xe=this.encoder.encodeKey(we);return this.map.get(we).map(ze=>xe+"="+this.encoder.encodeValue(ze)).join("&")}).filter(we=>""!==we).join("&")}clone(we){const xe=new ye({encoder:this.encoder});return xe.cloneFrom=this.cloneFrom||this,xe.updates=(this.updates||[]).concat(we),xe}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(we=>this.map.set(we,this.cloneFrom.map.get(we))),this.updates.forEach(we=>{switch(we.op){case"a":case"s":const xe=("a"===we.op?this.map.get(we.param):void 0)||[];xe.push(Ee(we.value)),this.map.set(we.param,xe);break;case"d":if(void 0===we.value){this.map.delete(we.param);break}{let ze=this.map.get(we.param)||[];const Et=ze.indexOf(Ee(we.value));-1!==Et&&ze.splice(Et,1),ze.length>0?this.map.set(we.param,ze):this.map.delete(we.param)}}}),this.cloneFrom=this.updates=null)}}class Se{constructor(){this.map=new Map}set(we,xe){return this.map.set(we,xe),this}get(we){return this.map.has(we)||this.map.set(we,we.defaultValue()),this.map.get(we)}delete(we){return this.map.delete(we),this}has(we){return this.map.has(we)}keys(){return this.map.keys()}}function Ue(Ot){return typeof ArrayBuffer<"u"&&Ot instanceof ArrayBuffer}function dt(Ot){return typeof Blob<"u"&&Ot instanceof Blob}function qe(Ot){return typeof FormData<"u"&&Ot instanceof FormData}class ge{constructor(we,xe,ze,Et){let Ht;if(this.url=xe,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=we.toUpperCase(),function Ve(Ot){switch(Ot){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Et?(this.body=void 0!==ze?ze:null,Ht=Et):Ht=ze,Ht&&(this.reportProgress=!!Ht.reportProgress,this.withCredentials=!!Ht.withCredentials,Ht.responseType&&(this.responseType=Ht.responseType),Ht.headers&&(this.headers=Ht.headers),Ht.context&&(this.context=Ht.context),Ht.params&&(this.params=Ht.params)),this.headers||(this.headers=new Q),this.context||(this.context=new Se),this.params){const on=this.params.toString();if(0===on.length)this.urlWithParams=xe;else{const Dn=xe.indexOf("?");this.urlWithParams=xe+(-1===Dn?"?":Dn<xe.length-1?"&":"")+on}}else this.params=new ye,this.urlWithParams=xe}serializeBody(){return null===this.body?null:Ue(this.body)||dt(this.body)||qe(this.body)||function nt(Ot){return typeof URLSearchParams<"u"&&Ot instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ye?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||qe(this.body)?null:dt(this.body)?this.body.type||null:Ue(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ye?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(we={}){const xe=we.method||this.method,ze=we.url||this.url,Et=we.responseType||this.responseType,Ht=void 0!==we.body?we.body:this.body,on=void 0!==we.withCredentials?we.withCredentials:this.withCredentials,Dn=void 0!==we.reportProgress?we.reportProgress:this.reportProgress;let nn=we.headers||this.headers,rn=we.params||this.params;const Tn=we.context??this.context;return void 0!==we.setHeaders&&(nn=Object.keys(we.setHeaders).reduce((sr,Sn)=>sr.set(Sn,we.setHeaders[Sn]),nn)),we.setParams&&(rn=Object.keys(we.setParams).reduce((sr,Sn)=>sr.set(Sn,we.setParams[Sn]),rn)),new ge(xe,ze,Ht,{params:rn,headers:nn,context:Tn,reportProgress:Dn,responseType:Et,withCredentials:on})}}var Re=(()=>((Re=Re||{})[Re.Sent=0]="Sent",Re[Re.UploadProgress=1]="UploadProgress",Re[Re.ResponseHeader=2]="ResponseHeader",Re[Re.DownloadProgress=3]="DownloadProgress",Re[Re.Response=4]="Response",Re[Re.User=5]="User",Re))();class he{constructor(we,xe=200,ze="OK"){this.headers=we.headers||new Q,this.status=void 0!==we.status?we.status:xe,this.statusText=we.statusText||ze,this.url=we.url||null,this.ok=this.status>=200&&this.status<300}}class re extends he{constructor(we={}){super(we),this.type=Re.ResponseHeader}clone(we={}){return new re({headers:we.headers||this.headers,status:void 0!==we.status?we.status:this.status,statusText:we.statusText||this.statusText,url:we.url||this.url||void 0})}}class Y extends he{constructor(we={}){super(we),this.type=Re.Response,this.body=void 0!==we.body?we.body:null}clone(we={}){return new Y({body:void 0!==we.body?we.body:this.body,headers:we.headers||this.headers,status:void 0!==we.status?we.status:this.status,statusText:we.statusText||this.statusText,url:we.url||this.url||void 0})}}class J extends he{constructor(we){super(we,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${we.url||"(unknown url)"}`:`Http failure response for ${we.url||"(unknown url)"}: ${we.status} ${we.statusText}`,this.error=we.error||null}}function Ke(Ot,we){return{body:we,headers:Ot.headers,context:Ot.context,observe:Ot.observe,params:Ot.params,reportProgress:Ot.reportProgress,responseType:Ot.responseType,withCredentials:Ot.withCredentials}}let ot=(()=>{class Ot{constructor(xe){this.handler=xe}request(xe,ze,Et={}){let Ht;if(xe instanceof ge)Ht=xe;else{let nn,rn;nn=Et.headers instanceof Q?Et.headers:new Q(Et.headers),Et.params&&(rn=Et.params instanceof ye?Et.params:new ye({fromObject:Et.params})),Ht=new ge(xe,ze,void 0!==Et.body?Et.body:null,{headers:nn,context:Et.context,params:rn,reportProgress:Et.reportProgress,responseType:Et.responseType||"json",withCredentials:Et.withCredentials})}const on=(0,j.of)(Ht).pipe((0,Ce.b)(nn=>this.handler.handle(nn)));if(xe instanceof ge||"events"===Et.observe)return on;const Dn=on.pipe((0,z.h)(nn=>nn instanceof Y));switch(Et.observe||"body"){case"body":switch(Ht.responseType){case"arraybuffer":return Dn.pipe((0,ue.U)(nn=>{if(null!==nn.body&&!(nn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return nn.body}));case"blob":return Dn.pipe((0,ue.U)(nn=>{if(null!==nn.body&&!(nn.body instanceof Blob))throw new Error("Response is not a Blob.");return nn.body}));case"text":return Dn.pipe((0,ue.U)(nn=>{if(null!==nn.body&&"string"!=typeof nn.body)throw new Error("Response is not a string.");return nn.body}));default:return Dn.pipe((0,ue.U)(nn=>nn.body))}case"response":return Dn;default:throw new Error(`Unreachable: unhandled observe type ${Et.observe}}`)}}delete(xe,ze={}){return this.request("DELETE",xe,ze)}get(xe,ze={}){return this.request("GET",xe,ze)}head(xe,ze={}){return this.request("HEAD",xe,ze)}jsonp(xe,ze){return this.request("JSONP",xe,{params:(new ye).append(ze,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(xe,ze={}){return this.request("OPTIONS",xe,ze)}patch(xe,ze,Et={}){return this.request("PATCH",xe,Ke(Et,ze))}post(xe,ze,Et={}){return this.request("POST",xe,Ke(Et,ze))}put(xe,ze,Et={}){return this.request("PUT",xe,Ke(Et,ze))}}return Ot.\u0275fac=function(xe){return new(xe||Ot)(F.LFG(fe))},Ot.\u0275prov=F.Yz7({token:Ot,factory:Ot.\u0275fac}),Ot})();class wt{constructor(we,xe){this.next=we,this.interceptor=xe}handle(we){return this.interceptor.intercept(we,this.next)}}const rt=new F.OlP("HTTP_INTERCEPTORS");let Ge=(()=>{class Ot{intercept(xe,ze){return ze.handle(xe)}}return Ot.\u0275fac=function(xe){return new(xe||Ot)},Ot.\u0275prov=F.Yz7({token:Ot,factory:Ot.\u0275fac}),Ot})();const vn=/^\)\]\}',?\n/;let mn=(()=>{class Ot{constructor(xe){this.xhrFactory=xe}handle(xe){if("JSONP"===xe.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new De.y(ze=>{const Et=this.xhrFactory.build();if(Et.open(xe.method,xe.urlWithParams),xe.withCredentials&&(Et.withCredentials=!0),xe.headers.forEach((fn,Fn)=>Et.setRequestHeader(fn,Fn.join(","))),xe.headers.has("Accept")||Et.setRequestHeader("Accept","application/json, text/plain, */*"),!xe.headers.has("Content-Type")){const fn=xe.detectContentTypeHeader();null!==fn&&Et.setRequestHeader("Content-Type",fn)}if(xe.responseType){const fn=xe.responseType.toLowerCase();Et.responseType="json"!==fn?fn:"text"}const Ht=xe.serializeBody();let on=null;const Dn=()=>{if(null!==on)return on;const fn=Et.statusText||"OK",Fn=new Q(Et.getAllResponseHeaders()),Qt=function Ln(Ot){return"responseURL"in Ot&&Ot.responseURL?Ot.responseURL:/^X-Request-URL:/m.test(Ot.getAllResponseHeaders())?Ot.getResponseHeader("X-Request-URL"):null}(Et)||xe.url;return on=new re({headers:Fn,status:Et.status,statusText:fn,url:Qt}),on},nn=()=>{let{headers:fn,status:Fn,statusText:Qt,url:Mt}=Dn(),Yt=null;204!==Fn&&(Yt=typeof Et.response>"u"?Et.responseText:Et.response),0===Fn&&(Fn=Yt?200:0);let an=Fn>=200&&Fn<300;if("json"===xe.responseType&&"string"==typeof Yt){const Cn=Yt;Yt=Yt.replace(vn,"");try{Yt=""!==Yt?JSON.parse(Yt):null}catch(yn){Yt=Cn,an&&(an=!1,Yt={error:yn,text:Yt})}}an?(ze.next(new Y({body:Yt,headers:fn,status:Fn,statusText:Qt,url:Mt||void 0})),ze.complete()):ze.error(new J({error:Yt,headers:fn,status:Fn,statusText:Qt,url:Mt||void 0}))},rn=fn=>{const{url:Fn}=Dn(),Qt=new J({error:fn,status:Et.status||0,statusText:Et.statusText||"Unknown Error",url:Fn||void 0});ze.error(Qt)};let Tn=!1;const sr=fn=>{Tn||(ze.next(Dn()),Tn=!0);let Fn={type:Re.DownloadProgress,loaded:fn.loaded};fn.lengthComputable&&(Fn.total=fn.total),"text"===xe.responseType&&!!Et.responseText&&(Fn.partialText=Et.responseText),ze.next(Fn)},Sn=fn=>{let Fn={type:Re.UploadProgress,loaded:fn.loaded};fn.lengthComputable&&(Fn.total=fn.total),ze.next(Fn)};return Et.addEventListener("load",nn),Et.addEventListener("error",rn),Et.addEventListener("timeout",rn),Et.addEventListener("abort",rn),xe.reportProgress&&(Et.addEventListener("progress",sr),null!==Ht&&Et.upload&&Et.upload.addEventListener("progress",Sn)),Et.send(Ht),ze.next({type:Re.Sent}),()=>{Et.removeEventListener("error",rn),Et.removeEventListener("abort",rn),Et.removeEventListener("load",nn),Et.removeEventListener("timeout",rn),xe.reportProgress&&(Et.removeEventListener("progress",sr),null!==Ht&&Et.upload&&Et.upload.removeEventListener("progress",Sn)),Et.readyState!==Et.DONE&&Et.abort()}})}}return Ot.\u0275fac=function(xe){return new(xe||Ot)(F.LFG(u.JF))},Ot.\u0275prov=F.Yz7({token:Ot,factory:Ot.\u0275fac}),Ot})();const wn=new F.OlP("XSRF_COOKIE_NAME"),Bn=new F.OlP("XSRF_HEADER_NAME");class Hn{}let kn=(()=>{class Ot{constructor(xe,ze,Et){this.doc=xe,this.platform=ze,this.cookieName=Et,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const xe=this.doc.cookie||"";return xe!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,u.Mx)(xe,this.cookieName),this.lastCookieString=xe),this.lastToken}}return Ot.\u0275fac=function(xe){return new(xe||Ot)(F.LFG(u.K0),F.LFG(F.Lbi),F.LFG(wn))},Ot.\u0275prov=F.Yz7({token:Ot,factory:Ot.\u0275fac}),Ot})(),_n=(()=>{class Ot{constructor(xe,ze){this.tokenService=xe,this.headerName=ze}intercept(xe,ze){const Et=xe.url.toLowerCase();if("GET"===xe.method||"HEAD"===xe.method||Et.startsWith("http://")||Et.startsWith("https://"))return ze.handle(xe);const Ht=this.tokenService.getToken();return null!==Ht&&!xe.headers.has(this.headerName)&&(xe=xe.clone({headers:xe.headers.set(this.headerName,Ht)})),ze.handle(xe)}}return Ot.\u0275fac=function(xe){return new(xe||Ot)(F.LFG(Hn),F.LFG(Bn))},Ot.\u0275prov=F.Yz7({token:Ot,factory:Ot.\u0275fac}),Ot})(),In=(()=>{class Ot{constructor(xe,ze){this.backend=xe,this.injector=ze,this.chain=null}handle(xe){if(null===this.chain){const ze=this.injector.get(rt,[]);this.chain=ze.reduceRight((Et,Ht)=>new wt(Et,Ht),this.backend)}return this.chain.handle(xe)}}return Ot.\u0275fac=function(xe){return new(xe||Ot)(F.LFG(pe),F.LFG(F.zs3))},Ot.\u0275prov=F.Yz7({token:Ot,factory:Ot.\u0275fac}),Ot})(),Jn=(()=>{class Ot{static disable(){return{ngModule:Ot,providers:[{provide:_n,useClass:Ge}]}}static withOptions(xe={}){return{ngModule:Ot,providers:[xe.cookieName?{provide:wn,useValue:xe.cookieName}:[],xe.headerName?{provide:Bn,useValue:xe.headerName}:[]]}}}return Ot.\u0275fac=function(xe){return new(xe||Ot)},Ot.\u0275mod=F.oAB({type:Ot}),Ot.\u0275inj=F.cJS({providers:[_n,{provide:rt,useExisting:_n,multi:!0},{provide:Hn,useClass:kn},{provide:wn,useValue:"XSRF-TOKEN"},{provide:Bn,useValue:"X-XSRF-TOKEN"}]}),Ot})(),Wn=(()=>{class Ot{}return Ot.\u0275fac=function(xe){return new(xe||Ot)},Ot.\u0275mod=F.oAB({type:Ot}),Ot.\u0275inj=F.cJS({providers:[ot,{provide:fe,useClass:In},mn,{provide:pe,useExisting:mn}],imports:[Jn.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),Ot})()},5062:(Zt,ht,P)=>{"use strict";P.d(ht,{tb:()=>Yv,AFp:()=>kE,ip1:()=>NE,CZH:()=>Jf,hGG:()=>SD,z2F:()=>am,sBO:()=>fI,Sil:()=>qv,_Vd:()=>Dl,EJc:()=>Zw,Xts:()=>xp,SBq:()=>Ad,lqb:()=>Lu,qLn:()=>af,vpe:()=>$o,XFs:()=>Lt,OlP:()=>Vr,zs3:()=>Cc,ZZ4:()=>gI,aQg:()=>mI,soG:()=>rm,YKP:()=>mv,h0i:()=>hh,PXZ:()=>cI,R0b:()=>Uo,FiY:()=>Mo,Lbi:()=>Yw,g9A:()=>LE,Qsj:()=>ab,FYo:()=>Sm,JOm:()=>Oo,tp0:()=>xu,Rgc:()=>Vc,dDg:()=>cD,eoX:()=>aI,q4F:()=>p_,GfV:()=>Tm,s_b:()=>qg,ifc:()=>nn,MMx:()=>vv,Lck:()=>yw,eFA:()=>Qv,G48:()=>hI,Gpc:()=>je,f3M:()=>Sh,X6Q:()=>tp,_c5:()=>CD,c2e:()=>nm,zSh:()=>tu,wAp:()=>Qn,GuJ:()=>Mt,vHH:()=>Se,lri:()=>sI,rWj:()=>oI,D6c:()=>TD,cg1:()=>Lf,kL8:()=>F0,dqk:()=>rn,Z0I:()=>Bn,sIi:()=>wf,CqO:()=>Mf,QGY:()=>Oc,QP$:()=>ve,F4k:()=>lg,RDi:()=>Z,AaK:()=>ee,qOj:()=>Wd,TTD:()=>Qi,_Bn:()=>iE,jDz:()=>_v,xp6:()=>km,uIk:()=>Fl,Tol:()=>uu,ekj:()=>bg,Suo:()=>Nv,Xpm:()=>Le,lG2:()=>Be,Yz7:()=>vn,cJS:()=>mn,oAB:()=>ke,Yjl:()=>pt,Y36:()=>Tl,_UZ:()=>gy,GkF:()=>my,BQk:()=>xf,ynx:()=>cg,qZA:()=>Jd,TgZ:()=>Af,EpF:()=>$l,n5z:()=>bu,LFG:()=>$r,$8M:()=>ri,$Z:()=>xa,NdJ:()=>dg,CRH:()=>kv,oxw:()=>fg,Hsn:()=>pg,F$t:()=>vy,Q6J:()=>ug,DdM:()=>cE,VKq:()=>Gg,iGM:()=>_E,MAs:()=>ag,KtG:()=>ca,CHM:()=>ao,LSH:()=>Dm,YNc:()=>Tf,W1O:()=>Qg,_uU:()=>Sg,Oqu:()=>Ry,hij:()=>th,Gf:()=>EE});var u=P(8929),F=P(2654),j=P(6498),De=P(6787),Ce=P(1762);class ue{constructor(i,o){this.subjectFactory=i,this.selector=o}call(i,o){const{selector:c}=this,d=this.subjectFactory(),p=c(d).subscribe(i);return p.add(o.subscribe(d)),p}}var fe=P(4327);function pe(){return new u.xQ}function K(r){for(let i in r)if(r[i]===K)return i;throw Error("Could not find renamed property on target object.")}function se(r,i){for(const o in i)i.hasOwnProperty(o)&&!r.hasOwnProperty(o)&&(r[o]=i[o])}function ee(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(ee).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const i=r.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function Ie(r,i){return null==r||""===r?null===i?"":i:null==i||""===i?r:r+" "+i}const ct=K({__forward_ref__:K});function je(r){return r.__forward_ref__=je,r.toString=function(){return ee(this())},r}function Ee(r){return ye(r)?r():r}function ye(r){return"function"==typeof r&&r.hasOwnProperty(ct)&&r.__forward_ref__===je}class Se extends Error{constructor(i,o){super(function Ve(r,i){return`NG0${Math.abs(r)}${i?": "+i.trim():""}`}(i,o)),this.code=i}}function Ue(r){return"string"==typeof r?r:null==r?"":String(r)}function Re(r,i){throw new Se(-201,!1)}function bt(r,i){null==r&&function tt(r,i,o,c){throw new Error(`ASSERTION ERROR: ${r}`+(null==c?"":` [Expected=> ${o} ${c} ${i} <=Actual]`))}(i,r,null,"!=")}function vn(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function mn(r){return{providers:r.providers||[],imports:r.imports||[]}}function wn(r){return Hn(r,zn)||Hn(r,Jn)}function Bn(r){return null!==wn(r)}function Hn(r,i){return r.hasOwnProperty(i)?r[i]:null}function In(r){return r&&(r.hasOwnProperty(Zn)||r.hasOwnProperty(Wn))?r[Zn]:null}const zn=K({\u0275prov:K}),Zn=K({\u0275inj:K}),Jn=K({ngInjectableDef:K}),Wn=K({ngInjectorDef:K});var Lt=(()=>((Lt=Lt||{})[Lt.Default=0]="Default",Lt[Lt.Host=1]="Host",Lt[Lt.Self=2]="Self",Lt[Lt.SkipSelf=4]="SkipSelf",Lt[Lt.Optional=8]="Optional",Lt))();let gn;function we(r){const i=gn;return gn=r,i}function xe(r,i,o){const c=wn(r);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:o&Lt.Optional?null:void 0!==i?i:void Re(ee(r))}function Et(r){return{toString:r}.toString()}var Ht=(()=>((Ht=Ht||{})[Ht.OnPush=0]="OnPush",Ht[Ht.Default=1]="Default",Ht))(),nn=(()=>{return(r=nn||(nn={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",nn;var r})();const rn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Sn={},fn=[],Fn=K({\u0275cmp:K}),Qt=K({\u0275dir:K}),Mt=K({\u0275pipe:K}),Yt=K({\u0275mod:K}),an=K({\u0275fac:K}),Cn=K({__NG_ELEMENT_ID__:K});let yn=0;function Le(r){return Et(()=>{const o=!0===r.standalone,c={},d={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===Ht.OnPush,directiveDefs:null,pipeDefs:null,standalone:o,dependencies:o&&r.dependencies||null,getStandaloneInjector:null,selectors:r.selectors||fn,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||nn.Emulated,id:"c"+yn++,styles:r.styles||fn,_:null,setInput:null,schemas:r.schemas||null,tView:null},p=r.dependencies,E=r.features;return d.inputs=We(r.inputs,c),d.outputs=We(r.outputs),E&&E.forEach(C=>C(d)),d.directiveDefs=p?()=>("function"==typeof p?p():p).map(X).filter(He):null,d.pipeDefs=p?()=>("function"==typeof p?p():p).map(me).filter(He):null,d})}function X(r){return Ct(r)||Ae(r)}function He(r){return null!==r}function ke(r){return Et(()=>({type:r.type,bootstrap:r.bootstrap||fn,declarations:r.declarations||fn,imports:r.imports||fn,exports:r.exports||fn,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function We(r,i){if(null==r)return Sn;const o={};for(const c in r)if(r.hasOwnProperty(c)){let d=r[c],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),o[d]=c,i&&(i[d]=p)}return o}const Be=Le;function pt(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function Ct(r){return r[Fn]||null}function Ae(r){return r[Qt]||null}function me(r){return r[Mt]||null}function ve(r){const i=Ct(r)||Ae(r)||me(r);return null!==i&&i.standalone}function at(r,i){const o=r[Yt]||null;if(!o&&!0===i)throw new Error(`Type ${ee(r)} does not have '\u0275mod' property.`);return o}function Qe(r){return Array.isArray(r)&&"object"==typeof r[1]}function yt(r){return Array.isArray(r)&&!0===r[1]}function Ut(r){return 0!=(8&r.flags)}function Xt(r){return 2==(2&r.flags)}function dn(r){return 1==(1&r.flags)}function Rn(r){return null!==r.template}function jn(r){return 0!=(256&r[2])}function Yr(r,i){return r.hasOwnProperty(an)?r[an]:null}class Vi{constructor(i,o,c){this.previousValue=i,this.currentValue=o,this.firstChange=c}isFirstChange(){return this.firstChange}}function Qi(){return cs}function cs(r){return r.type.prototype.ngOnChanges&&(r.setInput=zs),Ms}function Ms(){const r=Rs(this),i=r?.current;if(i){const o=r.previous;if(o===Sn)r.previous=i;else for(let c in i)o[c]=i[c];r.current=null,this.ngOnChanges(i)}}function zs(r,i,o,c){const d=Rs(r)||function wo(r,i){return r[$i]=i}(r,{previous:Sn,current:null}),p=d.current||(d.current={}),E=d.previous,C=this.declaredInputs[o],x=E[C];p[C]=new Vi(x&&x.currentValue,i,E===Sn),r[c]=i}Qi.ngInherit=!0;const $i="__ngSimpleChanges__";function Rs(r){return r[$i]||null}function Pr(r){for(;Array.isArray(r);)r=r[0];return r}function Sr(r,i){return Pr(i[r])}function jr(r,i){return Pr(i[r.index])}function Wi(r,i){return r.data[i]}function Rr(r,i){const o=i[r];return Qe(o)?o:o[0]}function hs(r){return 64==(64&r[2])}function hi(r,i){return null==i?null:r[i]}function fs(r){r[18]=0}function Ks(r,i){r[5]+=i;let o=r,c=r[3];for(;null!==c&&(1===i&&1===o[5]||-1===i&&0===o[5]);)c[5]+=i,o=c,c=c[3]}const Xn={lFrame:ae(null),bindingsEnabled:!0};function Ys(){return Xn.bindingsEnabled}function Gt(){return Xn.lFrame.lView}function dr(){return Xn.lFrame.tView}function ao(r){return Xn.lFrame.contextLView=r,r[8]}function ca(r){return Xn.lFrame.contextLView=null,r}function B(){let r=L();for(;null!==r&&64===r.type;)r=r.parent;return r}function L(){return Xn.lFrame.currentTNode}function f(r,i){const o=Xn.lFrame;o.currentTNode=r,o.isParent=i}function S(){return Xn.lFrame.isParent}function y(){Xn.lFrame.isParent=!1}function cn(){const r=Xn.lFrame;let i=r.bindingRootIndex;return-1===i&&(i=r.bindingRootIndex=r.tView.bindingStartIndex),i}function Ar(){return Xn.lFrame.bindingIndex++}function gr(r){const i=Xn.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+r,o}function pi(r,i){const o=Xn.lFrame;o.bindingIndex=o.bindingRootIndex=r,rs(i)}function rs(r){Xn.lFrame.currentDirectiveIndex=r}function uo(){return Xn.lFrame.currentQueryIndex}function Qu(r){Xn.lFrame.currentQueryIndex=r}function Ba(r){const i=r[1];return 2===i.type?i.declTNode:1===i.type?r[6]:null}function M(r,i,o){if(o&Lt.SkipSelf){let d=i,p=r;for(;!(d=d.parent,null!==d||o&Lt.Host||(d=Ba(p),null===d||(p=p[15],10&d.type))););if(null===d)return!1;i=d,r=p}const c=Xn.lFrame=N();return c.currentTNode=i,c.lView=r,!0}function W(r){const i=N(),o=r[1];Xn.lFrame=i,i.currentTNode=o.firstChild,i.lView=r,i.tView=o,i.contextLView=r,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function N(){const r=Xn.lFrame,i=null===r?null:r.child;return null===i?ae(r):i}function ae(r){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=i),i}function et(){const r=Xn.lFrame;return Xn.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Nt=et;function Kt(){const r=et();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function rr(){return Xn.lFrame.selectedIndex}function hr(r){Xn.lFrame.selectedIndex=r}function Un(){const r=Xn.lFrame;return Wi(r.tView,r.selectedIndex)}function ps(r,i){for(let o=i.directiveStart,c=i.directiveEnd;o<c;o++){const p=r.data[o].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:C,ngAfterViewInit:x,ngAfterViewChecked:H,ngOnDestroy:le}=p;E&&(r.contentHooks||(r.contentHooks=[])).push(-o,E),C&&((r.contentHooks||(r.contentHooks=[])).push(o,C),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(o,C)),x&&(r.viewHooks||(r.viewHooks=[])).push(-o,x),H&&((r.viewHooks||(r.viewHooks=[])).push(o,H),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(o,H)),null!=le&&(r.destroyHooks||(r.destroyHooks=[])).push(o,le)}}function Do(r,i,o){mu(r,i,3,o)}function is(r,i,o,c){(3&r[2])===o&&mu(r,i,o,c)}function wi(r,i){let o=r[2];(3&o)===i&&(o&=2047,o+=1,r[2]=o)}function mu(r,i,o,c){const p=c??-1,E=i.length-1;let C=0;for(let x=void 0!==c?65535&r[18]:0;x<E;x++)if("number"==typeof i[x+1]){if(C=i[x],null!=c&&C>=c)break}else i[x]<0&&(r[18]+=65536),(C<p||-1==p)&&(Co(r,o,i,x),r[18]=(4294901760&r[18])+x+2),x++}function Co(r,i,o,c){const d=o[c]<0,p=o[c+1],C=r[d?-o[c]:o[c]];if(d){if(r[2]>>11<r[18]>>16&&(3&r[2])===i){r[2]+=2048;try{p.call(C)}finally{}}}else try{p.call(C)}finally{}}class yu{constructor(i,o,c){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=c}}function Vn(r,i,o){let c=0;for(;c<o.length;){const d=o[c];if("number"==typeof d){if(0!==d)break;c++;const p=o[c++],E=o[c++],C=o[c++];r.setAttribute(i,E,C,p)}else{const p=d,E=o[++c];er(p)?r.setProperty(i,p,E):r.setAttribute(i,p,E),c++}}return c}function Gc(r){return 3===r||4===r||6===r}function er(r){return 64===r.charCodeAt(0)}function $a(r,i){if(null!==i&&0!==i.length)if(null===r||0===r.length)r=i.slice();else{let o=-1;for(let c=0;c<i.length;c++){const d=i[c];"number"==typeof d?o=d:0===o||gs(r,o,d,null,-1===o||2===o?i[++c]:null)}}return r}function gs(r,i,o,c,d){let p=0,E=r.length;if(-1===i)E=-1;else for(;p<r.length;){const C=r[p++];if("number"==typeof C){if(C===i){E=-1;break}if(C>i){E=p-1;break}}}for(;p<r.length;){const C=r[p];if("number"==typeof C)break;if(C===o){if(null===c)return void(null!==d&&(r[p+1]=d));if(c===r[p+1])return void(r[p+2]=d)}p++,null!==c&&p++,null!==d&&p++}-1!==E&&(r.splice(E,0,i),p=E+1),r.splice(p++,0,o),null!==c&&r.splice(p++,0,c),null!==d&&r.splice(p++,0,d)}function Ua(r){return-1!==r}function ha(r){return 32767&r}function fa(r,i){let o=function Ko(r){return r>>16}(r),c=i;for(;o>0;)c=c[15],o--;return c}let ei=!0;function _u(r){const i=ei;return ei=r,i}let Yo=0;const lo={};function qo(r,i){const o=li(r,i);if(-1!==o)return o;const c=i[1];c.firstCreatePass&&(r.injectorIndex=i.length,So(c.data,r),So(i,null),So(c.blueprint,null));const d=To(r,i),p=r.injectorIndex;if(Ua(d)){const E=ha(d),C=fa(d,i),x=C[1].data;for(let H=0;H<8;H++)i[p+H]=C[E+H]|x[E+H]}return i[p+8]=d,p}function So(r,i){r.push(0,0,0,0,0,0,0,0,i)}function li(r,i){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===i[r.injectorIndex+8]?-1:r.injectorIndex}function To(r,i){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let o=0,c=null,d=i;for(;null!==d;){if(c=za(d),null===c)return-1;if(o++,d=d[15],-1!==c.injectorIndex)return c.injectorIndex|o<<16}return-1}function Ao(r,i,o){!function zc(r,i,o){let c;"string"==typeof o?c=o.charCodeAt(0)||0:o.hasOwnProperty(Cn)&&(c=o[Cn]),null==c&&(c=o[Cn]=Yo++);const d=255&c;i.data[r+(d>>5)]|=1<<d}(r,i,o)}function ja(r,i,o){if(o&Lt.Optional||void 0!==r)return r;Re()}function Ha(r,i,o,c){if(o&Lt.Optional&&void 0===c&&(c=null),0==(o&(Lt.Self|Lt.Host))){const d=r[9],p=we(void 0);try{return d?d.get(i,c,o&Lt.Optional):xe(i,c,o&Lt.Optional)}finally{we(p)}}return ja(c,0,o)}function ms(r,i,o,c=Lt.Default,d){if(null!==r){if(1024&i[2]){const E=function Yc(r,i,o,c,d){let p=r,E=i;for(;null!==p&&null!==E&&1024&E[2]&&!(256&E[2]);){const C=pa(p,E,o,c|Lt.Self,lo);if(C!==lo)return C;let x=p.parent;if(!x){const H=E[21];if(H){const le=H.get(o,lo,c);if(le!==lo)return le}x=za(E),E=E[15]}p=x}return d}(r,i,o,c,lo);if(E!==lo)return E}const p=pa(r,i,o,c,lo);if(p!==lo)return p}return Ha(i,o,c,d)}function pa(r,i,o,c,d){const p=function ed(r){if("string"==typeof r)return r.charCodeAt(0)||0;const i=r.hasOwnProperty(Cn)?r[Cn]:void 0;return"number"==typeof i?i>=0?255&i:td:i}(o);if("function"==typeof p){if(!M(i,r,c))return c&Lt.Host?ja(d,0,c):Ha(i,o,c,d);try{const E=p(c);if(null!=E||c&Lt.Optional)return E;Re()}finally{Nt()}}else if("number"==typeof p){let E=null,C=li(r,i),x=-1,H=c&Lt.Host?i[16][6]:null;for((-1===C||c&Lt.SkipSelf)&&(x=-1===C?To(r,i):i[C+8],-1!==x&&Xs(c,!1)?(E=i[1],C=ha(x),i=fa(x,i)):C=-1);-1!==C;){const le=i[1];if(Kc(p,C,le.data)){const Te=Ju(C,i,o,E,c,H);if(Te!==lo)return Te}x=i[C+8],-1!==x&&Xs(c,i[1].data[C+8]===H)&&Kc(p,C,i)?(E=le,C=ha(x),i=fa(x,i)):C=-1}}return d}function Ju(r,i,o,c,d,p){const E=i[1],C=E.data[r+8],le=ga(C,E,o,null==c?Xt(C)&&ei:c!=E&&0!=(3&C.type),d&Lt.Host&&p===C);return null!==le?Ls(i,E,le,C):lo}function ga(r,i,o,c,d){const p=r.providerIndexes,E=i.data,C=1048575&p,x=r.directiveStart,le=p>>20,lt=d?C+le:r.directiveEnd;for(let xt=c?C:C+le;xt<lt;xt++){const Wt=E[xt];if(xt<x&&o===Wt||xt>=x&&Wt.type===o)return xt}if(d){const xt=E[x];if(xt&&Rn(xt)&&xt.type===o)return x}return null}function Ls(r,i,o,c){let d=r[o];const p=i.data;if(function wh(r){return r instanceof yu}(d)){const E=d;E.resolving&&function qe(r,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${r}`:"";throw new Se(-200,`Circular dependency in DI detected for ${r}${o}`)}(function dt(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Ue(r)}(p[o]));const C=_u(E.canSeeViewProviders);E.resolving=!0;const x=E.injectImpl?we(E.injectImpl):null;M(r,c,Lt.Default);try{d=r[o]=E.factory(void 0,p,r,c),i.firstCreatePass&&o>=c.directiveStart&&function Zs(r,i,o){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:p}=i.type.prototype;if(c){const E=cs(i);(o.preOrderHooks||(o.preOrderHooks=[])).push(r,E),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,E)}d&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-r,d),p&&((o.preOrderHooks||(o.preOrderHooks=[])).push(r,p),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,p))}(o,p[o],i)}finally{null!==x&&we(x),_u(C),E.resolving=!1,Nt()}}return d}function Kc(r,i,o){return!!(o[i+(r>>5)]&1<<r)}function Xs(r,i){return!(r&Lt.Self||r&Lt.Host&&i)}class Ga{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,c){return ms(this._tNode,this._lView,i,c,o)}}function td(){return new Ga(B(),Gt())}function bu(r){return Et(()=>{const i=r.prototype.constructor,o=i[an]||ma(i),c=Object.prototype;let d=Object.getPrototypeOf(r.prototype).constructor;for(;d&&d!==c;){const p=d[an]||ma(d);if(p&&p!==o)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function ma(r){return ye(r)?()=>{const i=ma(Ee(r));return i&&i()}:Yr(r)}function za(r){const i=r[1],o=i.type;return 2===o?i.declTNode:1===o?r[6]:null}function ri(r){return function Wc(r,i){if("class"===i)return r.classes;if("style"===i)return r.styles;const o=r.attrs;if(o){const c=o.length;let d=0;for(;d<c;){const p=o[d];if(Gc(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<c&&"string"==typeof o[d];)d++;else{if(p===i)return o[d+1];d+=2}}}return null}(B(),r)}const xo="__parameters__";function Ka(r,i,o){return Et(()=>{const c=function Zo(r){return function(...o){if(r){const c=r(...o);for(const d in c)this[d]=c[d]}}}(i);function d(...p){if(this instanceof d)return c.apply(this,p),this;const E=new d(...p);return C.annotation=E,C;function C(x,H,le){const Te=x.hasOwnProperty(xo)?x[xo]:Object.defineProperty(x,xo,{value:[]})[xo];for(;Te.length<=le;)Te.push(null);return(Te[le]=Te[le]||[]).push(E),x}}return o&&(d.prototype=Object.create(o.prototype)),d.prototype.ngMetadataName=r,d.annotationCls=d,d})}class Vr{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=vn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ii(r,i){void 0===i&&(i=r);for(let o=0;o<r.length;o++){let c=r[o];Array.isArray(c)?(i===r&&(i=r.slice(0,o)),Ii(c,i)):i!==r&&i.push(c)}return i}function ho(r,i){r.forEach(o=>Array.isArray(o)?ho(o,i):i(o))}function Xc(r,i,o){i>=r.length?r.push(o):r.splice(i,0,o)}function vs(r,i){return i>=r.length-1?r.pop():r.splice(i,1)[0]}function Bs(r,i){const o=[];for(let c=0;c<r;c++)o.push(i);return o}function _s(r,i,o){let c=Qo(r,i);return c>=0?r[1|c]=o:(c=~c,function Ni(r,i,o,c){let d=r.length;if(d==i)r.push(o,c);else if(1===d)r.push(c,r[0]),r[0]=o;else{for(d--,r.push(r[d-1],r[d]);d>i;)r[d]=r[d-2],d--;r[i]=o,r[i+1]=c}}(r,c,i,o)),c}function rc(r,i){const o=Qo(r,i);if(o>=0)return r[1|o]}function Qo(r,i){return function Tu(r,i,o){let c=0,d=r.length>>o;for(;d!==c;){const p=c+(d-c>>1),E=r[p<<o];if(i===E)return p<<o;E>i?d=p:c=p+1}return~(d<<o)}(r,i,1)}const Ft={},pn="__NG_DI_FLAG__",ir="ngTempTokenPath",Tr=/\n/gm,fo="__source";let Es;function si(r){const i=Es;return Es=r,i}function id(r,i=Lt.Default){if(void 0===Es)throw new Se(-203,!1);return null===Es?xe(r,void 0,i):Es.get(r,i&Lt.Optional?null:void 0,i)}function $r(r,i=Lt.Default){return(function Ot(){return gn}()||id)(Ee(r),i)}function Sh(r,i=Lt.Default){return"number"!=typeof i&&(i=0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)),$r(r,i)}function Ya(r){const i=[];for(let o=0;o<r.length;o++){const c=Ee(r[o]);if(Array.isArray(c)){if(0===c.length)throw new Se(900,!1);let d,p=Lt.Default;for(let E=0;E<c.length;E++){const C=c[E],x=Au(C);"number"==typeof x?-1===x?d=C.token:p|=x:d=C}i.push($r(d,p))}else i.push($r(c))}return i}function ic(r,i){return r[pn]=i,r.prototype[pn]=i,r}function Au(r){return r[pn]}const Mo=ic(Ka("Optional"),8),xu=ic(Ka("SkipSelf"),4);var Oo=(()=>((Oo=Oo||{})[Oo.Important=1]="Important",Oo[Oo.DashCase=2]="DashCase",Oo))();const dd=new Map;let pp=0;const Ru="__ngContext__";function Ui(r,i){Qe(i)?(r[Ru]=i[20],function lc(r){dd.set(r[20],r)}(i)):r[Ru]=i}function Ou(r,i){return undefined(r,i)}function hl(r){const i=r[3];return yt(i)?i[3]:i}function gd(r){return Lh(r[13])}function md(r){return Lh(r[4])}function Lh(r){for(;null!==r&&!yt(r);)r=r[4];return r}function Pu(r,i,o,c,d){if(null!=c){let p,E=!1;yt(c)?p=c:Qe(c)&&(E=!0,c=c[0]);const C=Pr(c);0===r&&null!==o?null==d?bd(i,o,C):Vs(i,o,C,d||null,!0):1===r&&null!==o?Vs(i,o,C,d||null,!0):2===r?function vl(r,i,o){const c=ml(r,i);c&&function Sa(r,i,o,c){r.removeChild(i,o,c)}(r,c,i,o)}(i,C,E):3===r&&i.destroyNode(C),null!=p&&function _p(r,i,o,c,d){const p=o[7];p!==Pr(o)&&Pu(i,r,c,p,d);for(let C=10;C<o.length;C++){const x=o[C];$s(x[1],x,r,i,c,p)}}(i,r,p,o,d)}}function Ca(r,i,o){return r.createElement(i,o)}function Uh(r,i){const o=r[9],c=o.indexOf(i),d=i[3];512&i[2]&&(i[2]&=-513,Ks(d,-1)),o.splice(c,1)}function fc(r,i){if(r.length<=10)return;const o=10+i,c=r[o];if(c){const d=c[17];null!==d&&d!==r&&Uh(d,c),i>0&&(r[o-1][4]=c[4]);const p=vs(r,10+i);!function fl(r,i){$s(r,i,i[11],2,null,null),i[0]=null,i[6]=null}(c[1],c);const E=p[19];null!==E&&E.detachView(p[1]),c[3]=null,c[4]=null,c[2]&=-65}return c}function Xa(r,i){if(!(128&i[2])){const o=i[11];o.destroyNode&&$s(r,i,o,3,null,null),function vd(r){let i=r[13];if(!i)return pl(r[1],r);for(;i;){let o=null;if(Qe(i))o=i[13];else{const c=i[10];c&&(o=c)}if(!o){for(;i&&!i[4]&&i!==r;)Qe(i)&&pl(i[1],i),i=i[3];null===i&&(i=r),Qe(i)&&pl(i[1],i),o=i&&i[4]}i=o}}(i)}}function pl(r,i){if(!(128&i[2])){i[2]&=-65,i[2]|=128,function gl(r,i){let o;if(null!=r&&null!=(o=r.destroyHooks))for(let c=0;c<o.length;c+=2){const d=i[o[c]];if(!(d instanceof yu)){const p=o[c+1];if(Array.isArray(p))for(let E=0;E<p.length;E+=2){const C=d[p[E]],x=p[E+1];try{x.call(C)}finally{}}else try{p.call(d)}finally{}}}}(r,i),function vp(r,i){const o=r.cleanup,c=i[7];let d=-1;if(null!==o)for(let p=0;p<o.length-1;p+=2)if("string"==typeof o[p]){const E=o[p+1],C="function"==typeof E?E(i):Pr(i[E]),x=c[d=o[p+2]],H=o[p+3];"boolean"==typeof H?C.removeEventListener(o[p],x,H):H>=0?c[d=H]():c[d=-H].unsubscribe(),p+=2}else{const E=c[d=o[p+1]];o[p].call(E)}if(null!==c){for(let p=d+1;p<c.length;p++)(0,c[p])();i[7]=null}}(r,i),1===i[1].type&&i[11].destroy();const o=i[17];if(null!==o&&yt(i[3])){o!==i[3]&&Uh(o,i);const c=i[19];null!==c&&c.detachView(r)}!function Mu(r){dd.delete(r[20])}(i)}}function Ed(r,i,o){return function ws(r,i,o){let c=i;for(;null!==c&&40&c.type;)c=(i=c).parent;if(null===c)return o[0];if(2&c.flags){const d=r.data[c.directiveStart].encapsulation;if(d===nn.None||d===nn.Emulated)return null}return jr(c,o)}(r,i.parent,o)}function Vs(r,i,o,c,d){r.insertBefore(i,o,c,d)}function bd(r,i,o){r.appendChild(i,o)}function jh(r,i,o,c,d){null!==c?Vs(r,i,o,c,d):bd(r,i,o)}function ml(r,i){return r.parentNode(i)}function zh(r,i,o){return Is(r,i,o)}let $,Is=function po(r,i,o){return 40&r.type?jr(r,o):null};function Ta(r,i,o,c){const d=Ed(r,c,i),p=i[11],C=zh(c.parent||i[6],c,i);if(null!=d)if(Array.isArray(o))for(let x=0;x<o.length;x++)jh(p,d,o[x],C,!1);else jh(p,d,o,C,!1)}function yl(r,i){if(null!==i){const o=i.type;if(3&o)return jr(i,r);if(4&o)return Nu(-1,r[i.index]);if(8&o){const c=i.child;if(null!==c)return yl(r,c);{const d=r[i.index];return yt(d)?Nu(-1,d):Pr(d)}}if(32&o)return Ou(i,r)()||Pr(r[i.index]);{const c=Ds(r,i);return null!==c?Array.isArray(c)?c[0]:yl(hl(r[16]),c):yl(r,i.next)}}return null}function Ds(r,i){return null!==i?r[16][6].projection[i.projection]:null}function Nu(r,i){const o=10+r+1;if(o<i.length){const c=i[o],d=c[1].firstChild;if(null!==d)return yl(c,d)}return i[7]}function Kh(r,i,o,c,d,p,E){for(;null!=o;){const C=c[o.index],x=o.type;if(E&&0===i&&(C&&Ui(Pr(C),c),o.flags|=4),64!=(64&o.flags))if(8&x)Kh(r,i,o.child,c,d,p,!1),Pu(i,r,d,C,p);else if(32&x){const H=Ou(o,c);let le;for(;le=H();)Pu(i,r,d,le,p);Pu(i,r,d,C,p)}else 16&x?pc(r,i,c,o,d,p):Pu(i,r,d,C,p);o=E?o.projectionNext:o.next}}function $s(r,i,o,c,d,p){Kh(o,c,r.firstChild,i,d,p,!1)}function pc(r,i,o,c,d,p){const E=o[16],x=E[6].projection[c.projection];if(Array.isArray(x))for(let H=0;H<x.length;H++)Pu(i,r,d,x[H],p);else Kh(r,i,x,E[3],d,p,!0)}function mi(r,i,o){r.setAttribute(i,"style",o)}function Qa(r,i,o){""===o?r.removeAttribute(i,"class"):r.setAttribute(i,"class",o)}function Z(r){$=r}class Ci{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Aa(r){return r instanceof Ci?r.changingThisBreaksApplicationSecurity:r}const Si=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var ti=(()=>((ti=ti||{})[ti.NONE=0]="NONE",ti[ti.HTML=1]="HTML",ti[ti.STYLE=2]="STYLE",ti[ti.SCRIPT=3]="SCRIPT",ti[ti.URL=4]="URL",ti[ti.RESOURCE_URL=5]="RESOURCE_URL",ti))();function Dm(r){const i=function Fu(){const r=Gt();return r&&r[12]}();return i?i.sanitize(ti.URL,r)||"":function gc(r,i){const o=function wp(r){return r instanceof Ci&&r.getTypeName()||null}(r);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===i}(r,"URL")?Aa(r):function En(r){return(r=String(r)).match(Si)?r:"unsafe:"+r}(Ue(r))}const xp=new Vr("ENVIRONMENT_INITIALIZER"),s_=new Vr("INJECTOR",-1),ji=new Vr("INJECTOR_DEF_TYPES");class o_{get(i,o=Ft){if(o===Ft){const c=new Error(`NullInjectorError: No provider for ${ee(i)}!`);throw c.name="NullInjectorError",c}return o}}function Ec(...r){return{\u0275providers:yi(0,r)}}function yi(r,...i){const o=[],c=new Set;let d;return ho(i,p=>{const E=p;Jh(E,o,[],c)&&(d||(d=[]),d.push(E))}),void 0!==d&&bc(d,o),o}function bc(r,i){for(let o=0;o<r.length;o++){const{providers:d}=r[o];ho(d,p=>{i.push(p)})}}function Jh(r,i,o,c){if(!(r=Ee(r)))return!1;let d=null,p=In(r);const E=!p&&Ct(r);if(p||E){if(E&&!E.standalone)return!1;d=r}else{const x=r.ngModule;if(p=In(x),!p)return!1;d=x}const C=c.has(d);if(E){if(C)return!1;if(c.add(d),E.dependencies){const x="function"==typeof E.dependencies?E.dependencies():E.dependencies;for(const H of x)Jh(H,i,o,c)}}else{if(!p)return!1;{if(null!=p.imports&&!C){let H;c.add(d);try{ho(p.imports,le=>{Jh(le,i,o,c)&&(H||(H=[]),H.push(le))})}finally{}void 0!==H&&bc(H,i)}if(!C){const H=Yr(d)||(()=>new d);i.push({provide:d,useFactory:H,deps:fn},{provide:ji,useValue:d,multi:!0},{provide:xp,useValue:()=>$r(d),multi:!0})}const x=p.providers;null==x||C||ho(x,le=>{i.push(le)})}}return d!==r&&void 0!==r.providers}const ef=K({provide:String,useValue:K});function eu(r){return null!==r&&"object"==typeof r&&ef in r}function Us(r){return"function"==typeof r}const tu=new Vr("Set Injector scope."),rf={},Dd={};let sf;function nu(){return void 0===sf&&(sf=new o_),sf}class Lu{}class Cd extends Lu{constructor(i,o,c,d){super(),this.parent=o,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ru(i,E=>this.processProvider(E)),this.records.set(s_,Il(void 0,this)),d.has("environment")&&this.records.set(Lu,Il(void 0,this));const p=this.records.get(tu);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(ji.multi,fn,Lt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const o=si(this),c=we(void 0);try{return i()}finally{si(o),we(c)}}get(i,o=Ft,c=Lt.Default){this.assertNotDestroyed();const d=si(this),p=we(void 0);try{if(!(c&Lt.SkipSelf)){let C=this.records.get(i);if(void 0===C){const x=function u_(r){return"function"==typeof r||"object"==typeof r&&r instanceof Vr}(i)&&wn(i);C=x&&this.injectableDefInScope(x)?Il(Mp(i),rf):null,this.records.set(i,C)}if(null!=C)return this.hydrate(i,C)}return(c&Lt.Self?nu():this.parent).get(i,o=c&Lt.Optional&&o===Ft?null:o)}catch(E){if("NullInjectorError"===E.name){if((E[ir]=E[ir]||[]).unshift(ee(i)),d)throw E;return function el(r,i,o,c){const d=r[ir];throw i[fo]&&d.unshift(i[fo]),r.message=function Yi(r,i,o,c=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let d=ee(i);if(Array.isArray(i))d=i.map(ee).join(" -> ");else if("object"==typeof i){let p=[];for(let E in i)if(i.hasOwnProperty(E)){let C=i[E];p.push(E+":"+("string"==typeof C?JSON.stringify(C):ee(C)))}d=`{${p.join(", ")}}`}return`${o}${c?"("+c+")":""}[${d}]: ${r.replace(Tr,"\n  ")}`}("\n"+r.message,d,o,c),r.ngTokenPath=d,r[ir]=null,r}(E,i,"R3InjectorError",this.source)}throw E}finally{we(p),si(d)}}resolveInjectorInitializers(){const i=si(this),o=we(void 0);try{const c=this.get(xp.multi,fn,Lt.Self);for(const d of c)d()}finally{si(i),we(o)}}toString(){const i=[],o=this.records;for(const c of o.keys())i.push(ee(c));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Se(205,!1)}processProvider(i){let o=Us(i=Ee(i))?i:Ee(i&&i.provide);const c=function Rp(r){return eu(r)?Il(void 0,r.useValue):Il(Sd(r),rf)}(i);if(Us(i)||!0!==i.multi)this.records.get(o);else{let d=this.records.get(o);d||(d=Il(void 0,rf,!0),d.factory=()=>Ya(d.multi),this.records.set(o,d)),o=i,d.multi.push(i)}this.records.set(o,c)}hydrate(i,o){return o.value===rf&&(o.value=Dd,o.value=o.factory()),"object"==typeof o.value&&o.value&&function sb(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=Ee(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function Mp(r){const i=wn(r),o=null!==i?i.factory:Yr(r);if(null!==o)return o;if(r instanceof Vr)throw new Se(204,!1);if(r instanceof Function)return function a_(r){const i=r.length;if(i>0)throw Bs(i,"?"),new Se(204,!1);const o=function kn(r){const i=r&&(r[zn]||r[Jn]);if(i){const o=function _n(r){if(r.hasOwnProperty("name"))return r.name;const i=(""+r).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),i}return null}(r);return null!==o?()=>o.factory(r):()=>new r}(r);throw new Se(204,!1)}function Sd(r,i,o){let c;if(Us(r)){const d=Ee(r);return Yr(d)||Mp(d)}if(eu(r))c=()=>Ee(r.useValue);else if(function wc(r){return!(!r||!r.useFactory)}(r))c=()=>r.useFactory(...Ya(r.deps||[]));else if(function tf(r){return!(!r||!r.useExisting)}(r))c=()=>$r(Ee(r.useExisting));else{const d=Ee(r&&(r.useClass||r.provide));if(!function ib(r){return!!r.deps}(r))return Yr(d)||Mp(d);c=()=>new d(...Ya(r.deps))}return c}function Il(r,i,o=!1){return{factory:r,value:i,multi:o?[]:void 0}}function c_(r){return!!r.\u0275providers}function ru(r,i){for(const o of r)Array.isArray(o)?ru(o,i):c_(o)?ru(o.\u0275providers,i):i(o)}class Cm{}class Td{resolveComponentFactory(i){throw function d_(r){const i=Error(`No component factory found for ${ee(r)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=r,i}(i)}}let Dl=(()=>{class r{}return r.NULL=new Td,r})();function h_(){return Cl(B(),Gt())}function Cl(r,i){return new Ad(jr(r,i))}let Ad=(()=>{class r{constructor(o){this.nativeElement=o}}return r.__NG_ELEMENT_ID__=h_,r})();function f_(r){return r instanceof Ad?r.nativeElement:r}class Sm{}let ab=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function ub(){const r=Gt(),o=Rr(B().index,r);return(Qe(o)?o:r)[11]}(),r})(),cb=(()=>{class r{}return r.\u0275prov=vn({token:r,providedIn:"root",factory:()=>null}),r})();class Tm{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const p_=new Tm("14.2.12"),Op={};function Ic(r){return r.ngOriginalError}class af{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&Ic(i);for(;o&&Ic(o);)o=Ic(o);return o||null}}function iu(r){return r instanceof Function?r():r}function uf(r,i,o){let c=r.length;for(;;){const d=r.indexOf(i,o);if(-1===d)return d;if(0===d||r.charCodeAt(d-1)<=32){const p=i.length;if(d+p===c||r.charCodeAt(d+p)<=32)return d}o=d+1}}const Mm="ng-template";function Bu(r,i,o){let c=0;for(;c<r.length;){let d=r[c++];if(o&&"class"===d){if(d=r[c],-1!==uf(d.toLowerCase(),i,0))return!0}else if(1===d){for(;c<r.length&&"string"==typeof(d=r[c++]);)if(d.toLowerCase()===i)return!0;return!1}}return!1}function Rm(r){return 4===r.type&&r.value!==Mm}function Od(r,i,o){return i===(4!==r.type||o?r.value:Mm)}function y_(r,i,o){let c=4;const d=r.attrs||[],p=function eo(r){for(let i=0;i<r.length;i++)if(Gc(r[i]))return i;return r.length}(d);let E=!1;for(let C=0;C<i.length;C++){const x=i[C];if("number"!=typeof x){if(!E)if(4&c){if(c=2|1&c,""!==x&&!Od(r,x,o)||""===x&&1===i.length){if(Bo(c))return!1;E=!0}}else{const H=8&c?x:i[++C];if(8&c&&null!==r.attrs){if(!Bu(r.attrs,H,o)){if(Bo(c))return!1;E=!0}continue}const Te=Np(8&c?"class":x,d,Rm(r),o);if(-1===Te){if(Bo(c))return!1;E=!0;continue}if(""!==H){let lt;lt=Te>p?"":d[Te+1].toLowerCase();const xt=8&c?lt:null;if(xt&&-1!==uf(xt,H,0)||2&c&&H!==lt){if(Bo(c))return!1;E=!0}}}}else{if(!E&&!Bo(c)&&!Bo(x))return!1;if(E&&Bo(x))continue;E=!1,c=x|1&c}}return Bo(c)||E}function Bo(r){return 0==(1&r)}function Np(r,i,o,c){if(null===i)return-1;let d=0;if(c||!o){let p=!1;for(;d<i.length;){const E=i[d];if(E===r)return d;if(3===E||6===E)p=!0;else{if(1===E||2===E){let C=i[++d];for(;"string"==typeof C;)C=i[++d];continue}if(4===E)break;if(0===E){d+=4;continue}}d+=p?1:2}return-1}return function Om(r,i){let o=r.indexOf(4);if(o>-1)for(o++;o<r.length;){const c=r[o];if("number"==typeof c)return-1;if(c===i)return o;o++}return-1}(i,r)}function kp(r,i,o=!1){for(let c=0;c<i.length;c++)if(y_(r,i[c],o))return!0;return!1}function Fp(r,i){e:for(let o=0;o<i.length;o++){const c=i[o];if(r.length===c.length){for(let d=0;d<r.length;d++)if(r[d]!==c[d])continue e;return!0}}return!1}function Pd(r,i){return r?":not("+i.trim()+")":i}function v_(r){let i=r[0],o=1,c=2,d="",p=!1;for(;o<r.length;){let E=r[o];if("string"==typeof E)if(2&c){const C=r[++o];d+="["+E+(C.length>0?'="'+C+'"':"")+"]"}else 8&c?d+="."+E:4&c&&(d+=" "+E);else""!==d&&!Bo(E)&&(i+=Pd(p,d),d=""),c=E,p=p||!Bo(c);o++}return""!==d&&(i+=Pd(p,d)),i}const ur={};function km(r){__(dr(),Gt(),rr()+r,!1)}function __(r,i,o,c){if(!c)if(3==(3&i[2])){const p=r.preOrderCheckHooks;null!==p&&Do(i,p,o)}else{const p=r.preOrderHooks;null!==p&&is(i,p,0,o)}hr(o)}function Lm(r,i=null,o=null,c){const d=Dc(r,i,o,c);return d.resolveInjectorInitializers(),d}function Dc(r,i=null,o=null,c,d=new Set){const p=[o||fn,Ec(r)];return c=c||("object"==typeof r?void 0:ee(r)),new Cd(p,i||nu(),c||null,d)}let Cc=(()=>{class r{static create(o,c){if(Array.isArray(o))return Lm({name:""},c,o,"");{const d=o.name??"";return Lm({name:d},o.parent,o.providers,d)}}}return r.THROW_IF_NOT_FOUND=Ft,r.NULL=new o_,r.\u0275prov=vn({token:r,providedIn:"any",factory:()=>$r(s_)}),r.__NG_ELEMENT_ID__=-1,r})();function Tl(r,i=Lt.Default){const o=Gt();return null===o?$r(r,i):ms(B(),o,Ee(r),i)}function xa(){throw new Error("invalid")}function Sc(r,i){return r<<17|i<<2}function Ma(r){return r>>17&32767}function Gm(r){return 2|r}function ra(r){return(131068&r)>>2}function Al(r,i){return-131069&r|i<<2}function Vd(r){return 1|r}function V_(r,i){const o=r.contentQueries;if(null!==o)for(let c=0;c<o.length;c+=2){const d=o[c],p=o[c+1];if(-1!==p){const E=r.data[p];Qu(d),E.contentQueries(2,i[p],p)}}}function ff(r,i,o,c,d,p,E,C,x,H,le){const Te=i.blueprint.slice();return Te[0]=d,Te[2]=76|c,(null!==le||r&&1024&r[2])&&(Te[2]|=1024),fs(Te),Te[3]=Te[15]=r,Te[8]=o,Te[10]=E||r&&r[10],Te[11]=C||r&&r[11],Te[12]=x||r&&r[12]||null,Te[9]=H||r&&r[9]||null,Te[6]=p,Te[20]=function Oh(){return pp++}(),Te[21]=le,Te[16]=2==i.type?r[16]:Te,Te}function Hu(r,i,o,c,d){let p=r.data[i];if(null===p)p=function Wp(r,i,o,c,d){const p=L(),E=S(),x=r.data[i]=function Ab(r,i,o,c,d,p){return{type:o,index:c,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?p:p&&p.parent,o,i,c,d);return null===r.firstChild&&(r.firstChild=x),null!==p&&(E?null==p.child&&null!==x.parent&&(p.child=x):null===p.next&&(p.next=x)),x}(r,i,o,c,d),function fi(){return Xn.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=o,p.value=c,p.attrs=d;const E=function R(){const r=Xn.lFrame,i=r.currentTNode;return r.isParent?i:i.parent}();p.injectorIndex=null===E?-1:E.injectorIndex}return f(p,!0),p}function jd(r,i,o,c){if(0===o)return-1;const d=i.length;for(let p=0;p<o;p++)i.push(c),r.blueprint.push(c),r.data.push(null);return d}function Zm(r,i,o){W(i);try{const c=r.viewQuery;null!==c&&zu(1,c,o);const d=r.template;null!==d&&U_(r,i,d,1,o),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&V_(r,i),r.staticViewQueries&&zu(2,r.viewQuery,o);const p=r.components;null!==p&&function au(r,i){for(let o=0;o<i.length;o++)Rb(r,i[o])}(i,p)}catch(c){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),c}finally{i[2]&=-5,Kt()}}function Kp(r,i,o,c){const d=i[2];if(128!=(128&d)){W(i);try{fs(i),function yr(r){return Xn.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==o&&U_(r,i,o,2,c);const E=3==(3&d);if(E){const H=r.preOrderCheckHooks;null!==H&&Do(i,H,null)}else{const H=r.preOrderHooks;null!==H&&is(i,H,0,null),wi(i,0)}if(function qp(r){for(let i=gd(r);null!==i;i=md(i)){if(!i[2])continue;const o=i[9];for(let c=0;c<o.length;c++){const d=o[c],p=d[3];0==(512&d[2])&&Ks(p,1),d[2]|=512}}}(i),function J_(r){for(let i=gd(r);null!==i;i=md(i))for(let o=10;o<i.length;o++){const c=i[o],d=c[1];hs(c)&&Kp(d,c,d.template,c[8])}}(i),null!==r.contentQueries&&V_(r,i),E){const H=r.contentCheckHooks;null!==H&&Do(i,H)}else{const H=r.contentHooks;null!==H&&is(i,H,1),wi(i,1)}!function to(r,i){const o=r.hostBindingOpCodes;if(null!==o)try{for(let c=0;c<o.length;c++){const d=o[c];if(d<0)hr(~d);else{const p=d,E=o[++c],C=o[++c];pi(E,p),C(2,i[p])}}}finally{hr(-1)}}(r,i);const C=r.components;null!==C&&function $_(r,i){for(let o=0;o<i.length;o++)yf(r,i[o])}(i,C);const x=r.viewQuery;if(null!==x&&zu(2,x,c),E){const H=r.viewCheckHooks;null!==H&&Do(i,H)}else{const H=r.viewHooks;null!==H&&is(i,H,2),wi(i,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),i[2]&=-41,512&i[2]&&(i[2]&=-513,Ks(i[3],-1))}finally{Kt()}}}function U_(r,i,o,c,d){const p=rr(),E=2&c;try{hr(-1),E&&i.length>22&&__(r,i,22,!1),o(c,d)}finally{hr(p)}}function j_(r,i,o){if(Ut(i)){const d=i.directiveEnd;for(let p=i.directiveStart;p<d;p++){const E=r.data[p];E.contentQueries&&E.contentQueries(1,o[p],p)}}}function Xm(r,i,o){!Ys()||(function Ac(r,i,o,c){const d=o.directiveStart,p=o.directiveEnd;r.firstCreatePass||qo(o,i),Ui(c,i);const E=o.initialInputs;for(let C=d;C<p;C++){const x=r.data[C],H=Rn(x);H&&Z_(i,o,x);const le=Ls(i,r,C,o);Ui(le,i),null!==E&&X_(0,C-d,le,x,0,E),H&&(Rr(o.index,i)[8]=le)}}(r,i,o,jr(o,i)),128==(128&o.flags)&&function K_(r,i,o){const c=o.directiveStart,d=o.directiveEnd,p=o.index,E=function Io(){return Xn.lFrame.currentDirectiveIndex}();try{hr(p);for(let C=c;C<d;C++){const x=r.data[C],H=i[C];rs(C),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&Y_(x,H)}}finally{hr(-1),rs(E)}}(r,i,o))}function Qm(r,i,o=jr){const c=i.localNames;if(null!==c){let d=i.index+1;for(let p=0;p<c.length;p+=2){const E=c[p+1],C=-1===E?o(i,r):r[E];r[d++]=C}}}function H_(r){const i=r.tView;return null===i||i.incompleteFirstPass?r.tView=Jm(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):i}function Jm(r,i,o,c,d,p,E,C,x,H){const le=22+c,Te=le+d,lt=function Sb(r,i){const o=[];for(let c=0;c<i;c++)o.push(c<r?null:ur);return o}(le,Te),xt="function"==typeof H?H():H;return lt[1]={type:r,blueprint:lt,template:o,queries:null,viewQuery:C,declTNode:i,data:lt.slice().fill(null,le),bindingStartIndex:le,expandoStartIndex:Te,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:x,consts:xt,incompleteFirstPass:!1}}function G_(r,i,o,c){const d=sy(i);null===o?d.push(c):(d.push(o),r.firstCreatePass&&t0(r).push(c,d.length-1))}function z_(r,i,o){for(let c in r)if(r.hasOwnProperty(c)){const d=r[c];(o=null===o?{}:o).hasOwnProperty(c)?o[c].push(i,d):o[c]=[i,d]}return o}function ey(r,i){const c=i.directiveEnd,d=r.data,p=i.attrs,E=[];let C=null,x=null;for(let H=i.directiveStart;H<c;H++){const le=d[H],Te=le.inputs,lt=null===p||Rm(i)?null:Q_(Te,p);E.push(lt),C=z_(Te,H,C),x=z_(le.outputs,H,x)}null!==C&&(C.hasOwnProperty("class")&&(i.flags|=16),C.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=E,i.inputs=C,i.outputs=x}function ty(r,i){const o=Rr(i,r);16&o[2]||(o[2]|=32)}function pf(r,i,o,c){let d=!1;if(Ys()){const p=function q_(r,i,o){const c=r.directiveRegistry;let d=null;if(c)for(let p=0;p<c.length;p++){const E=c[p];kp(o,E.selectors,!1)&&(d||(d=[]),Ao(qo(o,i),r,E.type),Rn(E)?(gf(r,o),d.unshift(E)):d.push(E))}return d}(r,i,o),E=null===c?null:{"":-1};if(null!==p){d=!0,xc(o,r.data.length,p.length);for(let le=0;le<p.length;le++){const Te=p[le];Te.providersResolver&&Te.providersResolver(Te)}let C=!1,x=!1,H=jd(r,i,p.length,null);for(let le=0;le<p.length;le++){const Te=p[le];o.mergedAttrs=$a(o.mergedAttrs,Te.hostAttrs),Hd(r,o,i,H,Te),Rl(H,Te,E),null!==Te.contentQueries&&(o.flags|=8),(null!==Te.hostBindings||null!==Te.hostAttrs||0!==Te.hostVars)&&(o.flags|=128);const lt=Te.type.prototype;!C&&(lt.ngOnChanges||lt.ngOnInit||lt.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(o.index),C=!0),!x&&(lt.ngOnChanges||lt.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(o.index),x=!0),H++}ey(r,o)}E&&function Ml(r,i,o){if(i){const c=r.localNames=[];for(let d=0;d<i.length;d+=2){const p=o[i[d+1]];if(null==p)throw new Se(-301,!1);c.push(i[d],p)}}}(o,c,E)}return o.mergedAttrs=$a(o.mergedAttrs,o.attrs),d}function Yp(r,i,o,c,d,p){const E=p.hostBindings;if(E){let C=r.hostBindingOpCodes;null===C&&(C=r.hostBindingOpCodes=[]);const x=~i.index;(function ny(r){let i=r.length;for(;i>0;){const o=r[--i];if("number"==typeof o&&o<0)return o}return 0})(C)!=x&&C.push(x),C.push(c,d,E)}}function Y_(r,i){null!==r.hostBindings&&r.hostBindings(1,i)}function gf(r,i){i.flags|=2,(r.components||(r.components=[])).push(i.index)}function Rl(r,i,o){if(o){if(i.exportAs)for(let c=0;c<i.exportAs.length;c++)o[i.exportAs[c]]=r;Rn(i)&&(o[""]=r)}}function xc(r,i,o){r.flags|=1,r.directiveStart=i,r.directiveEnd=i+o,r.providerIndexes=i}function Hd(r,i,o,c,d){r.data[c]=d;const p=d.factory||(d.factory=Yr(d.type)),E=new yu(p,Rn(d),Tl);r.blueprint[c]=E,o[c]=E,Yp(r,i,0,c,jd(r,o,d.hostVars,ur),d)}function Z_(r,i,o){const c=jr(i,r),d=H_(o),p=r[10],E=Zp(r,ff(r,d,null,o.onPush?32:16,c,i,p,p.createRenderer(c,o),null,null,null));r[i.index]=E}function ia(r,i,o,c,d,p){const E=jr(r,i);!function mf(r,i,o,c,d,p,E){if(null==p)r.removeAttribute(i,d,o);else{const C=null==E?Ue(p):E(p,c||"",d);r.setAttribute(i,d,C,o)}}(i[11],E,p,r.value,o,c,d)}function X_(r,i,o,c,d,p){const E=p[i];if(null!==E){const C=c.setInput;for(let x=0;x<E.length;){const H=E[x++],le=E[x++],Te=E[x++];null!==C?c.setInput(o,Te,H,le):o[le]=Te}}}function Q_(r,i){let o=null,c=0;for(;c<i.length;){const d=i[c];if(0!==d)if(5!==d){if("number"==typeof d)break;r.hasOwnProperty(d)&&(null===o&&(o=[]),o.push(d,r[d],i[c+1])),c+=2}else c+=2;else c+=4}return o}function ry(r,i,o,c){return new Array(r,!0,!1,i,null,0,c,o,null,null)}function yf(r,i){const o=Rr(i,r);if(hs(o)){const c=o[1];48&o[2]?Kp(c,o,c.template,o[8]):o[5]>0&&Gu(o)}}function Gu(r){for(let c=gd(r);null!==c;c=md(c))for(let d=10;d<c.length;d++){const p=c[d];if(hs(p))if(512&p[2]){const E=p[1];Kp(E,p,E.template,p[8])}else p[5]>0&&Gu(p)}const o=r[1].components;if(null!==o)for(let c=0;c<o.length;c++){const d=Rr(o[c],r);hs(d)&&d[5]>0&&Gu(d)}}function Rb(r,i){const o=Rr(i,r),c=o[1];(function e0(r,i){for(let o=i.length;o<r.blueprint.length;o++)i.push(r.blueprint[o])})(c,o),Zm(c,o,o[8])}function Zp(r,i){return r[13]?r[14][4]=i:r[13]=i,r[14]=i,i}function iy(r){for(;r;){r[2]|=32;const i=hl(r);if(jn(r)&&!i)return r;r=i}return null}function Xp(r,i,o,c=!0){const d=i[10];d.begin&&d.begin();try{Kp(r,i,r.template,o)}catch(E){throw c&&n0(i,E),E}finally{d.end&&d.end()}}function zu(r,i,o){Qu(0),i(r,o)}function sy(r){return r[7]||(r[7]=[])}function t0(r){return r.cleanup||(r.cleanup=[])}function n0(r,i){const o=r[9],c=o?o.get(af,null):null;c&&c.handleError(i)}function vf(r,i,o,c,d){for(let p=0;p<o.length;){const E=o[p++],C=o[p++],x=i[E],H=r.data[E];null!==H.setInput?H.setInput(x,d,c,C):x[C]=d}}function _f(r,i,o){let c=o?r.styles:null,d=o?r.classes:null,p=0;if(null!==i)for(let E=0;E<i.length;E++){const C=i[E];"number"==typeof C?p=C:1==p?d=Ie(d,C):2==p&&(c=Ie(c,C+": "+i[++E]+";"))}o?r.styles=c:r.stylesWithoutHost=c,o?r.classes=d:r.classesWithoutHost=d}function Gd(r,i,o,c,d=!1){for(;null!==o;){const p=i[o.index];if(null!==p&&c.push(Pr(p)),yt(p))for(let C=10;C<p.length;C++){const x=p[C],H=x[1].firstChild;null!==H&&Gd(x[1],x,H,c)}const E=o.type;if(8&E)Gd(r,i,o.child,c);else if(32&E){const C=Ou(o,i);let x;for(;x=C();)c.push(x)}else if(16&E){const C=Ds(i,o);if(Array.isArray(C))c.push(...C);else{const x=hl(i[16]);Gd(x[1],x,C,c,!0)}}o=d?o.projectionNext:o.next}return c}class Pl{constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,o=i[1];return Gd(o,i,o.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(yt(i)){const o=i[8],c=o?o.indexOf(this):-1;c>-1&&(fc(i,c),vs(o,c))}this._attachedToViewContainer=!1}Xa(this._lView[1],this._lView)}onDestroy(i){G_(this._lView[1],this._lView,null,i)}markForCheck(){iy(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Xp(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Se(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function $h(r,i){$s(r,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Se(902,!1);this._appRef=i}}class r0 extends Pl{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;Xp(i[1],i,i[8],!1)}checkNoChanges(){}get context(){return null}}class zd extends Dl{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=Ct(i);return new Ef(o,this.ngModule)}}function s0(r){const i=[];for(let o in r)r.hasOwnProperty(o)&&i.push({propName:r[o],templateName:o});return i}class Jp{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,c){const d=this.injector.get(i,Op,c);return d!==Op||o===Op?d:this.parentInjector.get(i,o,c)}}class Ef extends Cm{constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function Pm(r){return r.map(v_).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return s0(this.componentDef.inputs)}get outputs(){return s0(this.componentDef.outputs)}create(i,o,c,d){let p=(d=d||this.ngModule)instanceof Lu?d:d?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const E=p?new Jp(i,p):i,C=E.get(Sm,null);if(null===C)throw new Se(407,!1);const x=E.get(cb,null),H=C.createRenderer(null,this.componentDef),le=this.componentDef.selectors[0][0]||"div",Te=c?function Tb(r,i,o){return r.selectRootElement(i,o===nn.ShadowDom)}(H,c,this.componentDef.encapsulation):Ca(H,le,function ay(r){const i=r.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(le)),lt=this.componentDef.onPush?288:272,xt=Jm(0,null,null,1,0,null,null,null,null,null),Wt=ff(null,xt,null,lt,null,null,C,H,x,E,null);let hn,An;W(Wt);try{const Gn=function a0(r,i,o,c,d,p){const E=o[1];o[22]=r;const x=Hu(E,22,2,"#host",null),H=x.mergedAttrs=i.hostAttrs;null!==H&&(_f(x,H,!0),null!==r&&(Vn(d,r,H),null!==x.classes&&Qa(d,r,x.classes),null!==x.styles&&mi(d,r,x.styles)));const le=c.createRenderer(r,i),Te=ff(o,H_(i),null,i.onPush?32:16,o[22],x,c,le,p||null,null,null);return E.firstCreatePass&&(Ao(qo(x,o),E,i.type),gf(E,x),xc(x,o.length,1)),Zp(o,Te),o[22]=Te}(Te,this.componentDef,Wt,C,H);if(Te)if(c)Vn(H,Te,["ng-version",p_.full]);else{const{attrs:nr,classes:Jt}=function Nm(r){const i=[],o=[];let c=1,d=2;for(;c<r.length;){let p=r[c];if("string"==typeof p)2===d?""!==p&&i.push(p,r[++c]):8===d&&o.push(p);else{if(!Bo(d))break;d=p}c++}return{attrs:i,classes:o}}(this.componentDef.selectors[0]);nr&&Vn(H,Te,nr),Jt&&Jt.length>0&&Qa(H,Te,Jt.join(" "))}if(An=Wi(xt,22),void 0!==o){const nr=An.projection=[];for(let Jt=0;Jt<this.ngContentSelectors.length;Jt++){const ar=o[Jt];nr.push(null!=ar?Array.from(ar):null)}}hn=function u0(r,i,o,c){const d=o[1],p=function ss(r,i,o){const c=B();r.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),Hd(r,c,i,jd(r,i,1,null),o),ey(r,c));const d=Ls(i,r,c.directiveStart,c);Ui(d,i);const p=jr(c,i);return p&&Ui(p,i),d}(d,o,i);if(r[8]=o[8]=p,null!==c)for(const C of c)C(p,i);if(i.contentQueries){const C=B();i.contentQueries(1,p,C.directiveStart)}const E=B();return!d.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(hr(E.index),Yp(o[1],E,0,E.directiveStart,E.directiveEnd,i),Y_(i,p)),p}(Gn,this.componentDef,Wt,[mo]),Zm(xt,Wt,null)}finally{Kt()}return new tg(this.componentType,hn,Cl(An,Wt),Wt,An)}}class tg extends class l_{}{constructor(i,o,c,d,p){super(),this.location=c,this._rootLView=d,this._tNode=p,this.instance=o,this.hostView=this.changeDetectorRef=new r0(d),this.componentType=i}setInput(i,o){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[i])){const p=this._rootLView;vf(p[1],p,d,i,o),ty(p,this._tNode.index)}}get injector(){return new Ga(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function mo(){const r=B();ps(Gt()[1],r)}function Wd(r){let i=function uy(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),o=!0;const c=[r];for(;i;){let d;if(Rn(r))d=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Se(903,!1);d=i.\u0275dir}if(d){if(o){c.push(d);const E=r;E.inputs=ig(r.inputs),E.declaredInputs=ig(r.declaredInputs),E.outputs=ig(r.outputs);const C=d.hostBindings;C&&c0(r,C);const x=d.viewQuery,H=d.contentQueries;if(x&&Mc(r,x),H&&Kd(r,H),se(r.inputs,d.inputs),se(r.declaredInputs,d.declaredInputs),se(r.outputs,d.outputs),Rn(d)&&d.data.animation){const le=r.data;le.animation=(le.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let E=0;E<p.length;E++){const C=p[E];C&&C.ngInherit&&C(r),C===Wd&&(o=!1)}}i=Object.getPrototypeOf(i)}!function rg(r){let i=0,o=null;for(let c=r.length-1;c>=0;c--){const d=r[c];d.hostVars=i+=d.hostVars,d.hostAttrs=$a(d.hostAttrs,o=$a(o,d.hostAttrs))}}(c)}function ig(r){return r===Sn?{}:r===fn?[]:r}function Mc(r,i){const o=r.viewQuery;r.viewQuery=o?(c,d)=>{i(c,d),o(c,d)}:i}function Kd(r,i){const o=r.contentQueries;r.contentQueries=o?(c,d,p)=>{i(c,d,p),o(c,d,p)}:i}function c0(r,i){const o=r.hostBindings;r.hostBindings=o?(c,d)=>{i(c,d),o(c,d)}:i}let bf=null;function yo(){if(!bf){const r=rn.Symbol;if(r&&r.iterator)bf=r.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<i.length;++o){const c=i[o];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(bf=c)}}}return bf}function wf(r){return!!cy(r)&&(Array.isArray(r)||!(r instanceof Map)&&yo()in r)}function cy(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Pa(r,i,o){return r[i]=o}function Ss(r,i,o){return!Object.is(r[i],o)&&(r[i]=o,!0)}function Fl(r,i,o,c){const d=Gt();return Ss(d,Ar(),i)&&(dr(),ia(Un(),d,r,i,o,c)),Fl}function Tf(r,i,o,c,d,p,E,C){const x=Gt(),H=dr(),le=r+22,Te=H.firstCreatePass?function Sf(r,i,o,c,d,p,E,C,x){const H=i.consts,le=Hu(i,r,4,E||null,hi(H,C));pf(i,o,le,hi(H,x)),ps(i,le);const Te=le.tViews=Jm(2,le,c,d,p,i.directiveRegistry,i.pipeRegistry,null,i.schemas,H);return null!==i.queries&&(i.queries.template(i,le),Te.queries=i.queries.embeddedTView(le)),le}(le,H,x,i,o,c,d,p,E):H.data[le];f(Te,!1);const lt=x[11].createComment("");Ta(H,x,lt,Te),Ui(lt,x),Zp(x,x[le]=ry(lt,x,lt,Te)),dn(Te)&&Xm(H,x,Te),null!=E&&Qm(x,Te,C)}function ag(r){return function Ki(r,i){return r[i]}(function de(){return Xn.lFrame.contextLView}(),22+r)}function ug(r,i,o){const c=Gt();return Ss(c,Ar(),i)&&function go(r,i,o,c,d,p,E,C){const x=jr(i,o);let le,H=i.inputs;!C&&null!=H&&(le=H[c])?(vf(r,o,le,c,d),Xt(i)&&ty(o,i.index)):3&i.type&&(c=function xb(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(c),d=null!=E?E(d,i.value||"",c):d,p.setProperty(x,c,d))}(dr(),Un(),c,r,i,c[11],o,!1),ug}function py(r,i,o,c,d){const E=d?"class":"style";vf(r,o,i.inputs[E],E,c)}function Af(r,i,o,c){const d=Gt(),p=dr(),E=22+r,C=d[11],x=d[E]=Ca(C,i,function qs(){return Xn.lFrame.currentNamespace}()),H=p.firstCreatePass?function g0(r,i,o,c,d,p,E){const C=i.consts,H=Hu(i,r,2,d,hi(C,p));return pf(i,o,H,hi(C,E)),null!==H.attrs&&_f(H,H.attrs,!1),null!==H.mergedAttrs&&_f(H,H.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,H),H}(E,p,d,0,i,o,c):p.data[E];f(H,!0);const le=H.mergedAttrs;null!==le&&Vn(C,x,le);const Te=H.classes;null!==Te&&Qa(C,x,Te);const lt=H.styles;return null!==lt&&mi(C,x,lt),64!=(64&H.flags)&&Ta(p,d,x,H),0===function ks(){return Xn.lFrame.elementDepthCount}()&&Ui(x,d),function Fs(){Xn.lFrame.elementDepthCount++}(),dn(H)&&(Xm(p,d,H),j_(p,H,d)),null!==c&&Qm(d,H),Af}function Jd(){let r=B();S()?y():(r=r.parent,f(r,!1));const i=r;!function so(){Xn.lFrame.elementDepthCount--}();const o=dr();return o.firstCreatePass&&(ps(o,r),Ut(r)&&o.queries.elementEnd(r)),null!=i.classesWithoutHost&&function Va(r){return 0!=(16&r.flags)}(i)&&py(o,i,Gt(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function Jl(r){return 0!=(32&r.flags)}(i)&&py(o,i,Gt(),i.stylesWithoutHost,!1),Jd}function gy(r,i,o,c){return Af(r,i,o,c),Jd(),gy}function cg(r,i,o){const c=Gt(),d=dr(),p=r+22,E=d.firstCreatePass?function m0(r,i,o,c,d){const p=i.consts,E=hi(p,c),C=Hu(i,r,8,"ng-container",E);return null!==E&&_f(C,E,!0),pf(i,o,C,hi(p,d)),null!==i.queries&&i.queries.elementStart(i,C),C}(p,d,c,i,o):d.data[p];f(E,!0);const C=c[p]=c[11].createComment("");return Ta(d,c,C,E),Ui(C,c),dn(E)&&(Xm(d,c,E),j_(d,E,c)),null!=o&&Qm(c,E),cg}function xf(){let r=B();const i=dr();return S()?y():(r=r.parent,f(r,!1)),i.firstCreatePass&&(ps(i,r),Ut(r)&&i.queries.elementEnd(r)),xf}function my(r,i,o){return cg(r,i,o),xf(),my}function $l(){return Gt()}function Oc(r){return!!r&&"function"==typeof r.then}function lg(r){return!!r&&"function"==typeof r.subscribe}const Mf=lg;function dg(r,i,o,c){const d=Gt(),p=dr(),E=B();return function v0(r,i,o,c,d,p,E,C){const x=dn(c),le=r.firstCreatePass&&t0(r),Te=i[8],lt=sy(i);let xt=!0;if(3&c.type||C){const An=jr(c,i),Gn=C?C(An):An,nr=lt.length,Jt=C?Gr=>C(Pr(Gr[c.index])):c.index;let ar=null;if(!C&&x&&(ar=function y0(r,i,o,c){const d=r.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const E=d[p];if(E===o&&d[p+1]===c){const C=i[7],x=d[p+2];return C.length>x?C[x]:null}"string"==typeof E&&(p+=2)}return null}(r,i,d,c.index)),null!==ar)(ar.__ngLastListenerFn__||ar).__ngNextListenerFn__=p,ar.__ngLastListenerFn__=p,xt=!1;else{p=_0(c,i,Te,p,!1);const Gr=o.listen(Gn,d,p);lt.push(p,Gr),le&&le.push(d,Jt,nr,nr+1)}}else p=_0(c,i,Te,p,!1);const Wt=c.outputs;let hn;if(xt&&null!==Wt&&(hn=Wt[d])){const An=hn.length;if(An)for(let Gn=0;Gn<An;Gn+=2){const Ri=i[hn[Gn]][hn[Gn+1]].subscribe(p),np=lt.length;lt.push(p,Ri),le&&le.push(d,c.index,np,-(np+1))}}}(p,d,d[11],E,r,i,0,c),dg}function hg(r,i,o,c){try{return!1!==o(c)}catch(d){return n0(r,d),!1}}function _0(r,i,o,c,d){return function p(E){if(E===Function)return c;iy(2&r.flags?Rr(r.index,i):i);let x=hg(i,0,c,E),H=p.__ngNextListenerFn__;for(;H;)x=hg(i,0,H,E)&&x,H=H.__ngNextListenerFn__;return d&&!1===x&&(E.preventDefault(),E.returnValue=!1),x}}function fg(r=1){return function On(r){return(Xn.lFrame.contextLView=function Cr(r,i){for(;r>0;)i=i[15],r--;return i}(r,Xn.lFrame.contextLView))[8]}(r)}function E0(r,i){let o=null;const c=function Sl(r){const i=r.attrs;if(null!=i){const o=i.indexOf(5);if(0==(1&o))return i[o+1]}return null}(r);for(let d=0;d<i.length;d++){const p=i[d];if("*"!==p){if(null===c?kp(r,p,!0):Fp(c,p))return d}else o=d}return o}function vy(r){const i=Gt()[16][6];if(!i.projection){const c=i.projection=Bs(r?r.length:1,null),d=c.slice();let p=i.child;for(;null!==p;){const E=r?E0(p,r):0;null!==E&&(d[E]?d[E].projectionNext=p:c[E]=p,d[E]=p),p=p.next}}}function pg(r,i=0,o){const c=Gt(),d=dr(),p=Hu(d,22+r,16,null,o||null);null===p.projection&&(p.projection=i),y(),64!=(64&p.flags)&&function _l(r,i,o){pc(i[11],0,i,o,Ed(r,o,i),zh(o.parent||i[6],o,i))}(d,c,p)}function Pf(r,i,o,c,d){const p=r[o+1],E=null===i;let C=c?Ma(p):ra(p),x=!1;for(;0!==C&&(!1===x||E);){const le=r[C+1];Nf(r[C],i)&&(x=!0,r[C+1]=c?Vd(le):Gm(le)),C=c?Ma(le):ra(le)}x&&(r[o+1]=c?Gm(p):Vd(p))}function Nf(r,i){return null===r||null==i||(Array.isArray(r)?r[1]:r)===i||!(!Array.isArray(r)||"string"!=typeof i)&&Qo(r,i)>=0}const Li={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function by(r){return r.substring(Li.key,Li.keyEnd)}function D0(r,i){const o=Li.textEnd;return o===i?-1:(i=Li.keyEnd=function kf(r,i,o){for(;i<o&&r.charCodeAt(i)>32;)i++;return i}(r,Li.key=i,o),eh(r,i,o))}function eh(r,i,o){for(;i<o&&r.charCodeAt(i)<=32;)i++;return i}function bg(r,i){return function ka(r,i,o,c){const d=Gt(),p=dr(),E=gr(2);p.firstUpdatePass&&wg(p,r,E,c),i!==ur&&Ss(d,E,i)&&Ay(p,p.data[rr()],d,d[11],r,d[E+1]=function My(r,i){return null==r||("string"==typeof i?r+=i:"object"==typeof r&&(r=ee(Aa(r)))),r}(i,o),c,E)}(r,i,null,!0),bg}function uu(r){!function Vo(r,i,o,c){const d=dr(),p=gr(2);d.firstUpdatePass&&wg(d,null,p,c);const E=Gt();if(o!==ur&&Ss(E,p,o)){const C=d.data[rr()];if(A0(C,c)&&!S0(d,p)){let x=c?C.classesWithoutHost:C.stylesWithoutHost;null!==x&&(o=Ie(x,o||"")),py(d,C,E,o,c)}else!function Ub(r,i,o,c,d,p,E,C){d===ur&&(d=fn);let x=0,H=0,le=0<d.length?d[0]:null,Te=0<p.length?p[0]:null;for(;null!==le||null!==Te;){const lt=x<d.length?d[x+1]:void 0,xt=H<p.length?p[H+1]:void 0;let hn,Wt=null;le===Te?(x+=2,H+=2,lt!==xt&&(Wt=Te,hn=xt)):null===Te||null!==le&&le<Te?(x+=2,Wt=le):(H+=2,Wt=Te,hn=xt),null!==Wt&&Ay(r,i,o,c,Wt,hn,E,C),le=x<d.length?d[x]:null,Te=H<p.length?p[H]:null}}(d,C,E,E[11],E[p+1],E[p+1]=function Ty(r,i,o){if(null==o||""===o)return fn;const c=[],d=Aa(o);if(Array.isArray(d))for(let p=0;p<d.length;p++)r(c,d[p],!0);else if("object"==typeof d)for(const p in d)d.hasOwnProperty(p)&&r(c,p,d[p]);else"string"==typeof d&&i(c,d);return c}(r,i,o),c,p)}}(_s,Na,r,!0)}function Na(r,i){for(let o=function Bb(r){return function C0(r){Li.key=0,Li.keyEnd=0,Li.value=0,Li.valueEnd=0,Li.textEnd=r.length}(r),D0(r,eh(r,0,Li.textEnd))}(i);o>=0;o=D0(i,o))_s(r,by(i),!0)}function S0(r,i){return i>=r.expandoStartIndex}function wg(r,i,o,c){const d=r.data;if(null===d[o+1]){const p=d[rr()],E=S0(r,o);A0(p,c)&&null===i&&!E&&(i=!1),i=function $b(r,i,o,c){const d=function la(r){const i=Xn.lFrame.currentDirectiveIndex;return-1===i?null:r[i]}(r);let p=c?i.residualClasses:i.residualStyles;if(null===d)0===(c?i.classBindings:i.styleBindings)&&(o=cu(o=Dg(null,r,i,o,c),i.attrs,c),p=null);else{const E=i.directiveStylingLast;if(-1===E||r[E]!==d)if(o=Dg(d,r,i,o,c),null===p){let x=function Cy(r,i,o){const c=o?i.classBindings:i.styleBindings;if(0!==ra(c))return r[Ma(c)]}(r,i,c);void 0!==x&&Array.isArray(x)&&(x=Dg(null,r,i,x[1],c),x=cu(x,i.attrs,c),function Ig(r,i,o,c){r[Ma(o?i.classBindings:i.styleBindings)]=c}(r,i,c,x))}else p=function Sy(r,i,o){let c;const d=i.directiveEnd;for(let p=1+i.directiveStylingLast;p<d;p++)c=cu(c,r[p].hostAttrs,o);return cu(c,i.attrs,o)}(r,i,c)}return void 0!==p&&(c?i.residualClasses=p:i.residualStyles=p),o}(d,p,i,c),function Fb(r,i,o,c,d,p){let E=p?i.classBindings:i.styleBindings,C=Ma(E),x=ra(E);r[c]=o;let le,H=!1;if(Array.isArray(o)){const Te=o;le=Te[1],(null===le||Qo(Te,le)>0)&&(H=!0)}else le=o;if(d)if(0!==x){const lt=Ma(r[C+1]);r[c+1]=Sc(lt,C),0!==lt&&(r[lt+1]=Al(r[lt+1],c)),r[C+1]=function pr(r,i){return 131071&r|i<<17}(r[C+1],c)}else r[c+1]=Sc(C,0),0!==C&&(r[C+1]=Al(r[C+1],c)),C=c;else r[c+1]=Sc(x,0),0===C?C=c:r[x+1]=Al(r[x+1],c),x=c;H&&(r[c+1]=Gm(r[c+1])),Pf(r,le,c,!0),Pf(r,le,c,!1),function I0(r,i,o,c,d){const p=d?r.residualClasses:r.residualStyles;null!=p&&"string"==typeof i&&Qo(p,i)>=0&&(o[c+1]=Vd(o[c+1]))}(i,le,r,c,p),E=Sc(C,x),p?i.classBindings=E:i.styleBindings=E}(d,p,i,o,E,c)}}function Dg(r,i,o,c,d){let p=null;const E=o.directiveEnd;let C=o.directiveStylingLast;for(-1===C?C=o.directiveStart:C++;C<E&&(p=i[C],c=cu(c,p.hostAttrs,d),p!==r);)C++;return null!==r&&(o.directiveStylingLast=C),c}function cu(r,i,o){const c=o?1:2;let d=-1;if(null!==i)for(let p=0;p<i.length;p++){const E=i[p];"number"==typeof E?d=E:d===c&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),_s(r,E,!!o||i[++p]))}return void 0===r?null:r}function Ay(r,i,o,c,d,p,E,C){if(!(3&i.type))return;const x=r.data,H=x[C+1];Cg(function Bd(r){return 1==(1&r)}(H)?xy(x,i,o,d,ra(H),E):void 0)||(Cg(p)||function T_(r){return 2==(2&r)}(H)&&(p=xy(x,null,o,d,C,E)),function Ep(r,i,o,c,d){if(i)d?r.addClass(o,c):r.removeClass(o,c);else{let p=-1===c.indexOf("-")?void 0:Oo.DashCase;null==d?r.removeStyle(o,c,p):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),p|=Oo.Important),r.setStyle(o,c,d,p))}}(c,E,Sr(rr(),o),d,p))}function xy(r,i,o,c,d,p){const E=null===i;let C;for(;d>0;){const x=r[d],H=Array.isArray(x),le=H?x[1]:x,Te=null===le;let lt=o[d+1];lt===ur&&(lt=Te?fn:void 0);let xt=Te?rc(lt,c):le===c?lt:void 0;if(H&&!Cg(xt)&&(xt=rc(x,c)),Cg(xt)&&(C=xt,E))return C;const Wt=r[d+1];d=E?Ma(Wt):ra(Wt)}if(null!==i){let x=p?i.residualClasses:i.residualStyles;null!=x&&(C=rc(x,c))}return C}function Cg(r){return void 0!==r}function A0(r,i){return 0!=(r.flags&(i?16:32))}function Sg(r,i=""){const o=Gt(),c=dr(),d=r+22,p=c.firstCreatePass?Hu(c,d,1,i,null):c.data[d],E=o[d]=function Po(r,i){return r.createText(i)}(o[11],i);Ta(c,o,E,p),f(p,!1)}function Ry(r){return th("",r,""),Ry}function th(r,i,o){const c=Gt(),d=function Bl(r,i,o,c){return Ss(r,Ar(),o)?i+Ue(o)+c:ur}(c,r,i,o);return d!==ur&&function Oa(r,i,o){const c=Sr(i,r);!function Bh(r,i,o){r.setValue(i,o)}(r[11],c,o)}(c,rr(),d),th}const Gl=void 0;var Yb=["en",[["a","p"],["AM","PM"],Gl],[["AM","PM"],Gl,Gl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Gl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Gl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Gl,"{1} 'at' {0}",Gl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Gy(r){const o=Math.floor(Math.abs(r)),c=r.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===c?1:5}];let Pc={};function Lf(r){const i=function Xb(r){return r.toLowerCase().replace(/_/g,"-")}(r);let o=Ng(i);if(o)return o;const c=i.split("-")[0];if(o=Ng(c),o)return o;if("en"===c)return Yb;throw new Se(701,!1)}function F0(r){return Lf(r)[Qn.PluralCase]}function Ng(r){return r in Pc||(Pc[r]=rn.ng&&rn.ng.common&&rn.ng.common.locales&&rn.ng.common.locales[r]),Pc[r]}var Qn=(()=>((Qn=Qn||{})[Qn.LocaleId=0]="LocaleId",Qn[Qn.DayPeriodsFormat=1]="DayPeriodsFormat",Qn[Qn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Qn[Qn.DaysFormat=3]="DaysFormat",Qn[Qn.DaysStandalone=4]="DaysStandalone",Qn[Qn.MonthsFormat=5]="MonthsFormat",Qn[Qn.MonthsStandalone=6]="MonthsStandalone",Qn[Qn.Eras=7]="Eras",Qn[Qn.FirstDayOfWeek=8]="FirstDayOfWeek",Qn[Qn.WeekendRange=9]="WeekendRange",Qn[Qn.DateFormat=10]="DateFormat",Qn[Qn.TimeFormat=11]="TimeFormat",Qn[Qn.DateTimeFormat=12]="DateTimeFormat",Qn[Qn.NumberSymbols=13]="NumberSymbols",Qn[Qn.NumberFormats=14]="NumberFormats",Qn[Qn.CurrencyCode=15]="CurrencyCode",Qn[Qn.CurrencySymbol=16]="CurrencySymbol",Qn[Qn.CurrencyName=17]="CurrencyName",Qn[Qn.Currencies=18]="Currencies",Qn[Qn.Directionality=19]="Directionality",Qn[Qn.PluralCase=20]="PluralCase",Qn[Qn.ExtraData=21]="ExtraData",Qn))();const Nc="en-US";let B0=Nc;function Uf(r,i,o,c,d){if(r=Ee(r),Array.isArray(r))for(let p=0;p<r.length;p++)Uf(r[p],i,o,c,d);else{const p=dr(),E=Gt();let C=Us(r)?r:Ee(r.provide),x=Sd(r);const H=B(),le=1048575&H.providerIndexes,Te=H.directiveStart,lt=H.providerIndexes>>20;if(Us(r)||!r.multi){const xt=new yu(x,d,Tl),Wt=Qr(C,i,d?le:le+lt,Te);-1===Wt?(Ao(qo(H,E),p,C),gv(p,r,i.length),i.push(C),H.directiveStart++,H.directiveEnd++,d&&(H.providerIndexes+=1048576),o.push(xt),E.push(xt)):(o[Wt]=xt,E[Wt]=xt)}else{const xt=Qr(C,i,le+lt,Te),Wt=Qr(C,i,le,le+lt),hn=xt>=0&&o[xt],An=Wt>=0&&o[Wt];if(d&&!An||!d&&!hn){Ao(qo(H,E),p,C);const Gn=function rE(r,i,o,c,d){const p=new yu(r,o,Tl);return p.multi=[],p.index=i,p.componentProviders=0,nE(p,d,c&&!o),p}(d?$I:VI,o.length,d,c,x);!d&&An&&(o[Wt].providerFactory=Gn),gv(p,r,i.length,0),i.push(C),H.directiveStart++,H.directiveEnd++,d&&(H.providerIndexes+=1048576),o.push(Gn),E.push(Gn)}else gv(p,r,xt>-1?xt:Wt,nE(o[d?Wt:xt],x,!d&&c));!d&&c&&An&&o[Wt].componentProviders++}}}function gv(r,i,o,c){const d=Us(i),p=function nf(r){return!!r.useClass}(i);if(d||p){const x=(p?Ee(i.useClass):i).prototype.ngOnDestroy;if(x){const H=r.destroyHooks||(r.destroyHooks=[]);if(!d&&i.multi){const le=H.indexOf(o);-1===le?H.push(o,[c,x]):H[le+1].push(c,x)}else H.push(o,x)}}}function nE(r,i,o){return o&&r.componentProviders++,r.multi.push(i)-1}function Qr(r,i,o,c){for(let d=o;d<c;d++)if(i[d]===r)return d;return-1}function VI(r,i,o,c){return bi(this.multi,[])}function $I(r,i,o,c){const d=this.multi;let p;if(this.providerFactory){const E=this.providerFactory.componentProviders,C=Ls(o,o[1],this.providerFactory.index,c);p=C.slice(0,E),bi(d,p);for(let x=E;x<C.length;x++)p.push(C[x])}else p=[],bi(d,p);return p}function bi(r,i){for(let o=0;o<r.length;o++)i.push((0,r[o])());return i}function iE(r,i=[]){return o=>{o.providersResolver=(c,d)=>function mw(r,i,o){const c=dr();if(c.firstCreatePass){const d=Rn(r);Uf(o,c.data,c.blueprint,d,!0),Uf(i,c.data,c.blueprint,d,!1)}}(c,d?d(r):r,i)}}class hh{}class mv{}function yw(r,i){return new sE(r,i??null)}class sE extends hh{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new zd(this);const c=at(i);this._bootstrapComponents=iu(c.bootstrap),this._r3Injector=Dc(i,o,[{provide:hh,useValue:this},{provide:Dl,useValue:this.componentFactoryResolver}],ee(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class yv extends mv{constructor(i){super(),this.moduleType=i}create(i){return new sE(this.moduleType,i)}}class jI extends hh{constructor(i,o,c){super(),this.componentFactoryResolver=new zd(this),this.instance=null;const d=new Cd([...i,{provide:hh,useValue:this},{provide:Dl,useValue:this.componentFactoryResolver}],o||nu(),c,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function vv(r,i,o=null){return new jI(r,i,o).injector}let vw=(()=>{class r{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const c=yi(0,o.type),d=c.length>0?vv([c],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,d)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return r.\u0275prov=vn({token:r,providedIn:"environment",factory:()=>new r($r(Lu))}),r})();function _v(r){r.getStandaloneInjector=i=>i.get(vw).getOrCreateStandaloneInjector(r)}function cE(r,i,o){const c=cn()+r,d=Gt();return d[c]===ur?Pa(d,c,o?i.call(o):i()):function If(r,i){return r[i]}(d,c)}function Gg(r,i,o,c){return function zf(r,i,o,c,d,p){const E=i+o;return Ss(r,E,d)?Pa(r,E+1,p?c.call(p,d):c(d)):function Lc(r,i){const o=r[i];return o===ur?void 0:o}(r,E+1)}(Gt(),cn(),r,i,o,c)}function Sv(r){return i=>{setTimeout(r,void 0,i)}}const $o=class Cv extends u.xQ{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,c){let d=i,p=o||(()=>null),E=c;if(i&&"object"==typeof i){const x=i;d=x.next?.bind(x),p=x.error?.bind(x),E=x.complete?.bind(x)}this.__isAsync&&(p=Sv(p),d&&(d=Sv(d)),E&&(E=Sv(E)));const C=super.subscribe({next:d,error:p,complete:E});return i instanceof F.w&&i.add(C),C}};function Tw(){return this._results[yo()]()}class Tv{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=yo(),c=Tv.prototype;c[o]||(c[o]=Tw)}get changes(){return this._changes||(this._changes=new $o)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const c=this;c.dirty=!1;const d=Ii(i);(this._changesDetected=!function Su(r,i,o){if(r.length!==i.length)return!1;for(let c=0;c<r.length;c++){let d=r[c],p=i[c];if(o&&(d=o(d),p=o(p)),p!==d)return!1}return!0}(c._results,d,o))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Vc=(()=>{class r{}return r.__NG_ELEMENT_ID__=Kg,r})();const Aw=Vc,xw=class extends Aw{constructor(i,o,c){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=c}createEmbeddedView(i,o){const c=this._declarationTContainer.tViews,d=ff(this._declarationLView,c,i,16,null,c.declTNode,null,null,null,null,o||null);d[17]=this._declarationLView[this._declarationTContainer.index];const E=this._declarationLView[19];return null!==E&&(d[19]=E.createEmbeddedView(c)),Zm(c,d,i),new Pl(d)}};function Kg(){return Yg(B(),Gt())}function Yg(r,i){return 4&r.type?new xw(i,r,Cl(r,i)):null}let qg=(()=>{class r{}return r.__NG_ELEMENT_ID__=gE,r})();function gE(){return Mv(B(),Gt())}const mE=qg,Av=class extends mE{constructor(i,o,c){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=c}get element(){return Cl(this._hostTNode,this._hostLView)}get injector(){return new Ga(this._hostTNode,this._hostLView)}get parentInjector(){const i=To(this._hostTNode,this._hostLView);if(Ua(i)){const o=fa(i,this._hostLView),c=ha(i);return new Ga(o[1].data[c+8],o)}return new Ga(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=xv(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,o,c){let d,p;"number"==typeof c?d=c:null!=c&&(d=c.index,p=c.injector);const E=i.createEmbeddedView(o||{},p);return this.insert(E,d),E}createComponent(i,o,c,d,p){const E=i&&!function Cu(r){return"function"==typeof r}(i);let C;if(E)C=o;else{const Te=o||{};C=Te.index,c=Te.injector,d=Te.projectableNodes,p=Te.environmentInjector||Te.ngModuleRef}const x=E?i:new Ef(Ct(i)),H=c||this.parentInjector;if(!p&&null==x.ngModule){const lt=(E?H:this.parentInjector).get(Lu,null);lt&&(p=lt)}const le=x.create(H,d,void 0,p);return this.insert(le.hostView,C),le}insert(i,o){const c=i._lView,d=c[1];if(function Ho(r){return yt(r[3])}(c)){const le=this.indexOf(i);if(-1!==le)this.detach(le);else{const Te=c[3],lt=new Av(Te,Te[6],Te[3]);lt.detach(lt.indexOf(i))}}const p=this._adjustIndex(o),E=this._lContainer;!function yp(r,i,o,c){const d=10+c,p=o.length;c>0&&(o[d-1][4]=i),c<p-10?(i[4]=o[d],Xc(o,10+c,i)):(o.push(i),i[4]=null),i[3]=o;const E=i[17];null!==E&&o!==E&&function _d(r,i){const o=r[9];i[16]!==i[3][3][16]&&(r[2]=!0),null===o?r[9]=[i]:o.push(i)}(E,i);const C=i[19];null!==C&&C.insertView(r),i[2]|=64}(d,c,E,p);const C=Nu(p,E),x=c[11],H=ml(x,E[7]);return null!==H&&function Vh(r,i,o,c,d,p){c[0]=d,c[6]=i,$s(r,c,o,1,d,p)}(d,E[6],x,c,H,C),i.attachToViewContainerRef(),Xc(Zg(E),p,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=xv(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),c=fc(this._lContainer,o);c&&(vs(Zg(this._lContainer),o),Xa(c[1],c))}detach(i){const o=this._adjustIndex(i,-1),c=fc(this._lContainer,o);return c&&null!=vs(Zg(this._lContainer),o)?new Pl(c):null}_adjustIndex(i,o=0){return i??this.length+o}};function xv(r){return r[8]}function Zg(r){return r[8]||(r[8]=[])}function Mv(r,i){let o;const c=i[r.index];if(yt(c))o=c;else{let d;if(8&r.type)d=Pr(c);else{const p=i[11];d=p.createComment("");const E=jr(r,i);Vs(p,ml(p,E),d,function Gh(r,i){return r.nextSibling(i)}(p,E),!1)}i[r.index]=o=ry(c,i,d,r),Zp(i,o)}return new Av(o,r,i)}class qu{constructor(i){this.queryList=i,this.matches=null}clone(){return new qu(this.queryList)}setDirty(){this.queryList.setDirty()}}class Fa{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const c=null!==i.contentQueries?i.contentQueries[0]:o.length,d=[];for(let p=0;p<c;p++){const E=o.getByIndex(p);d.push(this.queries[E.indexInDeclarationView].clone())}return new Fa(d)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==Yl(i,o).matches&&this.queries[o].setDirty()}}class gh{constructor(i,o,c=null){this.predicate=i,this.flags=o,this.read=c}}class hu{constructor(i=[]){this.queries=i}elementStart(i,o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let c=0;c<this.length;c++){const d=null!==o?o.length:0,p=this.getByIndex(c).embeddedTView(i,d);p&&(p.indexInDeclarationView=c,null!==o?o.push(p):o=[p])}return null!==o?new hu(o):null}template(i,o){for(let c=0;c<this.queries.length;c++)this.queries[c].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class Ov{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new Ov(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let c=i.parent;for(;null!==c&&8&c.type&&c.index!==o;)c=c.parent;return o===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const p=c[d];this.matchTNodeWithReadOption(i,o,yE(o,p)),this.matchTNodeWithReadOption(i,o,ga(o,i,p,!1,!1))}else c===Vc?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,ga(o,i,c,!1,!1))}matchTNodeWithReadOption(i,o,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===Ad||d===qg||d===Vc&&4&o.type)this.addMatch(o.index,-2);else{const p=ga(o,i,d,!1,!1);null!==p&&this.addMatch(o.index,p)}else this.addMatch(o.index,c)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function yE(r,i){const o=r.localNames;if(null!==o)for(let c=0;c<o.length;c+=2)if(o[c]===i)return o[c+1];return null}function $c(r,i,o,c){return-1===o?function Mw(r,i){return 11&r.type?Cl(r,i):4&r.type?Yg(r,i):null}(i,r):-2===o?function Rw(r,i,o){return o===Ad?Cl(i,r):o===Vc?Yg(i,r):o===qg?Mv(i,r):void 0}(r,i,c):Ls(r,r[1],o,i)}function vE(r,i,o,c){const d=i[19].queries[c];if(null===d.matches){const p=r.data,E=o.matches,C=[];for(let x=0;x<E.length;x+=2){const H=E[x];C.push(H<0?null:$c(i,p[H],E[x+1],o.metadata.read))}d.matches=C}return d.matches}function Pv(r,i,o,c){const d=r.queries.getByIndex(o),p=d.matches;if(null!==p){const E=vE(r,i,d,o);for(let C=0;C<p.length;C+=2){const x=p[C];if(x>0)c.push(E[C/2]);else{const H=p[C+1],le=i[-x];for(let Te=10;Te<le.length;Te++){const lt=le[Te];lt[17]===lt[3]&&Pv(lt[1],lt,H,c)}if(null!==le[9]){const Te=le[9];for(let lt=0;lt<Te.length;lt++){const xt=Te[lt];Pv(xt[1],xt,H,c)}}}}}return c}function _E(r){const i=Gt(),o=dr(),c=uo();Qu(c+1);const d=Yl(o,c);if(r.dirty&&function ts(r){return 4==(4&r[2])}(i)===(2==(2&d.metadata.flags))){if(null===d.matches)r.reset([]);else{const p=d.crossesNgTemplate?Pv(o,i,c,[]):vE(o,i,d,c);r.reset(p,f_),r.notifyOnChanges()}return!0}return!1}function EE(r,i,o){const c=dr();c.firstCreatePass&&(Fv(c,new gh(r,i,o),-1),2==(2&i)&&(c.staticViewQueries=!0)),bE(c,Gt(),i)}function Nv(r,i,o,c){const d=dr();if(d.firstCreatePass){const p=B();Fv(d,new gh(i,o,c),p.index),function Pw(r,i){const o=r.contentQueries||(r.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(r.queries.length-1,i)}(d,r),2==(2&o)&&(d.staticContentQueries=!0)}bE(d,Gt(),o)}function kv(){return function Ow(r,i){return r[19].queries[i].queryList}(Gt(),uo())}function bE(r,i,o){const c=new Tv(4==(4&o));G_(r,i,c,c.destroy),null===i[19]&&(i[19]=new Fa),i[19].queries.push(new qu(c))}function Fv(r,i,o){null===r.queries&&(r.queries=new hu),r.queries.track(new Ov(i,o))}function Yl(r,i){return r.queries.getByIndex(i)}function Qg(r,i){return Yg(r,i)}function Qf(...r){}const NE=new Vr("Application Initializer");let Jf=(()=>{class r{constructor(o){this.appInits=o,this.resolve=Qf,this.reject=Qf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const o=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const p=this.appInits[d]();if(Oc(p))o.push(p);else if(Mf(p)){const E=new Promise((C,x)=>{p.subscribe({complete:C,error:x})});o.push(E)}}Promise.all(o).then(()=>{c()}).catch(d=>{this.reject(d)}),0===o.length&&c(),this.initialized=!0}}return r.\u0275fac=function(o){return new(o||r)($r(NE,8))},r.\u0275prov=vn({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const kE=new Vr("AppId",{providedIn:"root",factory:function FE(){return`${Kv()}${Kv()}${Kv()}`}});function Kv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const LE=new Vr("Platform Initializer"),Yw=new Vr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Yv=new Vr("appBootstrapListener");let nm=(()=>{class r{log(o){console.log(o)}warn(o){console.warn(o)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=vn({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();const rm=new Vr("LocaleId",{providedIn:"root",factory:()=>Sh(rm,Lt.Optional|Lt.SkipSelf)||function qw(){return typeof $localize<"u"&&$localize.locale||Nc}()}),Zw=new Vr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Qw{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let qv=(()=>{class r{compileModuleSync(o){return new yv(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const c=this.compileModuleSync(o),p=iu(at(o).declarations).reduce((E,C)=>{const x=Ct(C);return x&&E.push(new Ef(x)),E},[]);return new Qw(c,p)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=vn({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const sD=(()=>Promise.resolve(0))();function BE(r){typeof Zone>"u"?sD.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class Uo{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $o(!1),this.onMicrotaskEmpty=new $o(!1),this.onStable=new $o(!1),this.onError=new $o(!1),typeof Zone>"u")throw new Se(908,!1);Zone.assertZonePatched();const d=this;if(d._nesting=0,d._outer=d._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const p=Zone.AsyncStackTaggingZoneSpec;d._inner=d._inner.fork(new p("Angular"))}Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&o,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function oD(){let r=rn.requestAnimationFrame,i=rn.cancelAnimationFrame;if(typeof Zone<"u"&&r&&i){const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o);const c=i[Zone.__symbol__("OriginalDelegate")];c&&(i=c)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function im(r){const i=()=>{!function aD(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(rn,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,$E(r),r.isCheckStableRunning=!0,VE(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),$E(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,c,d,p,E,C)=>{try{return rI(r),o.invokeTask(d,p,E,C)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||r.shouldCoalesceRunChangeDetection)&&i(),iI(r)}},onInvoke:(o,c,d,p,E,C,x)=>{try{return rI(r),o.invoke(d,p,E,C,x)}finally{r.shouldCoalesceRunChangeDetection&&i(),iI(r)}},onHasTask:(o,c,d,p)=>{o.hasTask(d,p),c===d&&("microTask"==p.change?(r._hasPendingMicrotasks=p.microTask,$E(r),VE(r)):"macroTask"==p.change&&(r.hasPendingMacrotasks=p.macroTask))},onHandleError:(o,c,d,p)=>(o.handleError(d,p),r.runOutsideAngular(()=>r.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Uo.isInAngularZone())throw new Se(909,!1)}static assertNotInAngularZone(){if(Uo.isInAngularZone())throw new Se(909,!1)}run(i,o,c){return this._inner.run(i,o,c)}runTask(i,o,c,d){const p=this._inner,E=p.scheduleEventTask("NgZoneEvent: "+d,i,nI,Qf,Qf);try{return p.runTask(E,o,c)}finally{p.cancelTask(E)}}runGuarded(i,o,c){return this._inner.runGuarded(i,o,c)}runOutsideAngular(i){return this._outer.run(i)}}const nI={};function VE(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function $E(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function rI(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function iI(r){r._nesting--,VE(r)}class uD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $o,this.onMicrotaskEmpty=new $o,this.onStable=new $o,this.onError=new $o}run(i,o,c){return i.apply(o,c)}runGuarded(i,o,c){return i.apply(o,c)}runOutsideAngular(i){return i()}runTask(i,o,c,d){return i.apply(o,c)}}const sI=new Vr(""),oI=new Vr("");let sm,cD=(()=>{class r{constructor(o,c,d){this._ngZone=o,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,sm||(function Zv(r){sm=r}(d),d.addToWindow(c)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Uo.assertNotInAngularZone(),BE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())BE(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(o)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,c,d){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==p),o(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:o,timeoutId:p,updateCb:d})}whenStable(o,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,c,d){return[]}}return r.\u0275fac=function(o){return new(o||r)($r(Uo),$r(aI),$r(oI))},r.\u0275prov=vn({token:r,factory:r.\u0275fac}),r})(),aI=(()=>{class r{constructor(){this._applications=new Map}registerApplication(o,c){this._applications.set(o,c)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,c=!0){return sm?.findTestabilityInTree(this,o,c)??null}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=vn({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})(),Xu=null;const UE=new Vr("AllowMultipleToken"),Xv=new Vr("PlatformDestroyListeners");class cI{constructor(i,o){this.name=i,this.token=o}}function Qv(r,i,o=[]){const c=`Platform: ${i}`,d=new Vr(c);return(p=[])=>{let E=om();if(!E||E.injector.get(UE,!1)){const C=[...o,...p,{provide:d,useValue:!0}];r?r(C):function lI(r){if(Xu&&!Xu.get(UE,!1))throw new Se(400,!1);Xu=r;const i=r.get(ep);(function HE(r){const i=r.get(LE,null);i&&i.forEach(o=>o())})(r)}(function zE(r=[],i){return Cc.create({name:i,providers:[{provide:tu,useValue:"platform"},{provide:Xv,useValue:new Set([()=>Xu=null])},...r]})}(C,c))}return function GE(r){const i=om();if(!i)throw new Se(401,!1);return i}()}}function om(){return Xu?.get(ep)??null}let ep=(()=>{class r{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,c){const d=function vh(r,i){let o;return o="noop"===r?new uD:("zone.js"===r?void 0:r)||new Uo(i),o}(c?.ngZone,function WE(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!r||!r.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!r||!r.ngZoneRunCoalescing)||!1}}(c)),p=[{provide:Uo,useValue:d}];return d.run(()=>{const E=Cc.create({providers:p,parent:this.injector,name:o.moduleType.name}),C=o.create(E),x=C.injector.get(af,null);if(!x)throw new Se(402,!1);return d.runOutsideAngular(()=>{const H=d.onError.subscribe({next:le=>{x.handleError(le)}});C.onDestroy(()=>{jc(this._modules,C),H.unsubscribe()})}),function KE(r,i,o){try{const c=o();return Oc(c)?c.catch(d=>{throw i.runOutsideAngular(()=>r.handleError(d)),d}):c}catch(c){throw i.runOutsideAngular(()=>r.handleError(c)),c}}(x,d,()=>{const H=C.injector.get(Jf);return H.runInitializers(),H.donePromise.then(()=>(function kg(r){bt(r,"Expected localeId to be defined"),"string"==typeof r&&(B0=r.toLowerCase().replace(/_/g,"-"))}(C.injector.get(rm,Nc)||Nc),this._moduleDoBootstrap(C),C))})})}bootstrapModule(o,c=[]){const d=_h({},c);return function fu(r,i,o){const c=new yv(o);return Promise.resolve(c)}(0,0,o).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(o){const c=o.injector.get(am);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!o.instance.ngDoBootstrap)throw new Se(403,!1);o.instance.ngDoBootstrap(c)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Se(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const o=this._injector.get(Xv,null);o&&(o.forEach(c=>c()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(o){return new(o||r)($r(Cc))},r.\u0275prov=vn({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();function _h(r,i){return Array.isArray(i)?i.reduce(_h,r):{...r,...i}}let am=(()=>{class r{constructor(o,c,d){this._zone=o,this._injector=c,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new j.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),E=new j.y(C=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{Uo.assertNotInAngularZone(),BE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const H=this._zone.onUnstable.subscribe(()=>{Uo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{x.unsubscribe(),H.unsubscribe()}});this.isStable=(0,De.T)(p,E.pipe(function Q(){return r=>(0,fe.x)()(function z(r,i){return function(c){let d;if(d="function"==typeof r?r:function(){return r},"function"==typeof i)return c.lift(new ue(d,i));const p=Object.create(c,Ce.N);return p.source=c,p.subjectFactory=d,p}}(pe)(r))}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,c){const d=o instanceof Cm;if(!this._injector.get(Jf).done)throw!d&&ve(o),new Se(405,false);let E;E=d?o:this._injector.get(Dl).resolveComponentFactory(o),this.componentTypes.push(E.componentType);const C=function uI(r){return r.isBoundToModule}(E)?void 0:this._injector.get(hh),H=E.create(Cc.NULL,[],c||E.selector,C),le=H.location.nativeElement,Te=H.injector.get(sI,null);return Te?.registerApplication(le),H.onDestroy(()=>{this.detachView(H.hostView),jc(this.components,H),Te?.unregisterApplication(le)}),this._loadComponent(H),H}tick(){if(this._runningTick)throw new Se(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const c=o;this._views.push(c),c.attachToAppRef(this)}detachView(o){const c=o;jc(this._views,c),c.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(Yv,[]).concat(this._bootstrapListeners).forEach(d=>d(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>jc(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Se(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return r.\u0275fac=function(o){return new(o||r)($r(Uo),$r(Lu),$r(af))},r.\u0275prov=vn({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function jc(r,i){const o=r.indexOf(i);o>-1&&r.splice(o,1)}let Eh=!0,qE=!1;function tp(){return qE=!0,Eh}function hI(){if(qE)throw new Error("Cannot enable prod mode after platform setup.");Eh=!1}let fI=(()=>{class r{}return r.__NG_ELEMENT_ID__=cm,r})();function cm(r){return function pI(r,i,o){if(Xt(r)&&!o){const c=Rr(r.index,i);return new Pl(c,c)}return 47&r.type?new Pl(i[16],i):null}(B(),Gt(),16==(16&r))}class Hr{constructor(){}supports(i){return wf(i)}create(i){return new mr(i)}}const Er=(r,i)=>i;class mr{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||Er}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,c=this._removalsHead,d=0,p=null;for(;o||c;){const E=!c||o&&o.currentIndex<bh(c,d,p)?o:c,C=bh(E,d,p),x=E.currentIndex;if(E===c)d--,c=c._nextRemoved;else if(o=o._next,null==E.previousIndex)d++;else{p||(p=[]);const H=C-d,le=x-d;if(H!=le){for(let lt=0;lt<H;lt++){const xt=lt<p.length?p[lt]:p[lt]=0,Wt=xt+lt;le<=Wt&&Wt<H&&(p[lt]=xt+1)}p[E.previousIndex]=le-H}}C!==x&&i(E,C,x)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!wf(i))throw new Se(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let d,p,E,o=this._itHead,c=!1;if(Array.isArray(i)){this.length=i.length;for(let C=0;C<this.length;C++)p=i[C],E=this._trackByFn(C,p),null!==o&&Object.is(o.trackById,E)?(c&&(o=this._verifyReinsertion(o,p,E,C)),Object.is(o.item,p)||this._addIdentityChange(o,p)):(o=this._mismatch(o,p,E,C),c=!0),o=o._next}else d=0,function kb(r,i){if(Array.isArray(r))for(let o=0;o<r.length;o++)i(r[o]);else{const o=r[yo()]();let c;for(;!(c=o.next()).done;)i(c.value)}}(i,C=>{E=this._trackByFn(d,C),null!==o&&Object.is(o.trackById,E)?(c&&(o=this._verifyReinsertion(o,C,E,d)),Object.is(o.item,C)||this._addIdentityChange(o,C)):(o=this._mismatch(o,C,E,d),c=!0),o=o._next,d++}),this.length=d;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,c,d){let p;return null===i?p=this._itTail:(p=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,p,d)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,p,d)):i=this._addAfter(new fr(o,c),p,d),i}_verifyReinsertion(i,o,c,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?i=this._reinsertAfter(p,i._prev,d):i.currentIndex!=d&&(i.currentIndex=d,this._addToMoves(i,d)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const d=i._prevRemoved,p=i._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(i,o,c),this._addToMoves(i,c),i}_moveAfter(i,o,c){return this._unlink(i),this._insertAfter(i,o,c),this._addToMoves(i,c),i}_addAfter(i,o,c){return this._insertAfter(i,o,c),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,c){const d=null===o?this._itHead:o._next;return i._next=d,i._prev=o,null===d?this._itTail=i:d._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new Hi),this._linkedRecords.put(i),i.currentIndex=c,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,c=i._next;return null===o?this._itHead=c:o._next=c,null===c?this._itTail=o:c._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Hi),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class fr{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vr{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===o||o<=c.currentIndex)&&Object.is(c.trackById,i))return c;return null}remove(i){const o=i._prevDup,c=i._nextDup;return null===o?this._head=c:o._nextDup=c,null===c?this._tail=o:c._prevDup=o,null===this._head}}class Hi{constructor(){this.map=new Map}put(i){const o=i.trackById;let c=this.map.get(o);c||(c=new vr,this.map.set(o,c)),c.add(i)}get(i,o){const d=this.map.get(i);return d?d.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function bh(r,i,o){const c=r.previousIndex;if(null===c)return c;let d=0;return o&&c<o.length&&(d=o[c]),c+i+d}class mD{constructor(){}supports(i){return i instanceof Map||cy(i)}create(){return new bD}}class bD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||cy(i)))throw new Se(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(c,d)=>{if(o&&o.key===d)this._maybeAddToChanges(o,c),this._appendAfter=o,o=o._next;else{const p=this._getOrCreateRecordForKey(d,c);o=this._insertBeforeOrAppend(o,p)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let c=o;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const c=i._prev;return o._next=i,o._prev=c,i._prev=o,c&&(c._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const d=this._records.get(i);this._maybeAddToChanges(d,o);const p=d._prev,E=d._next;return p&&(p._next=E),E&&(E._prev=p),d._next=null,d._prev=null,d}const c=new wD(i);return this._records.set(i,c),c.currentValue=o,this._addToAdditions(c),c}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(c=>o(i[c],c))}}class wD{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function yD(){return new gI([new Hr])}let gI=(()=>{class r{constructor(o){this.factories=o}static create(o,c){if(null!=c){const d=c.factories.slice();o=o.concat(d)}return new r(o)}static extend(o){return{provide:r,useFactory:c=>r.create(o,c||yD()),deps:[[r,new xu,new Mo]]}}find(o){const c=this.factories.find(d=>d.supports(o));if(null!=c)return c;throw new Se(901,!1)}}return r.\u0275prov=vn({token:r,providedIn:"root",factory:yD}),r})();function vD(){return new mI([new mD])}let mI=(()=>{class r{constructor(o){this.factories=o}static create(o,c){if(c){const d=c.factories.slice();o=o.concat(d)}return new r(o)}static extend(o){return{provide:r,useFactory:c=>r.create(o,c||vD()),deps:[[r,new xu,new Mo]]}}find(o){const c=this.factories.find(d=>d.supports(o));if(c)return c;throw new Se(901,!1)}}return r.\u0275prov=vn({token:r,providedIn:"root",factory:vD}),r})();const CD=Qv(null,"core",[]);let SD=(()=>{class r{constructor(o){}}return r.\u0275fac=function(o){return new(o||r)($r(am))},r.\u0275mod=ke({type:r}),r.\u0275inj=mn({}),r})();function TD(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}},4719:(Zt,ht,P)=>{"use strict";P.d(ht,{qu:()=>Gt,u:()=>Yr,sg:()=>us,u5:()=>ks,JU:()=>se,a5:()=>In,JJ:()=>Wn,JL:()=>Lt,On:()=>lr,UX:()=>Fs,kI:()=>nt,_Y:()=>Br});var u=P(5062),F=P(6895),j=P(5254),De=P(6498),Ce=P(6688),z=P(4850),ue=P(7830);function pe(B,L){return new De.y(R=>{const f=B.length;if(0===f)return void R.complete();const S=new Array(f);let y=0,k=0;for(let de=0;de<f;de++){const At=(0,j.D)(B[de]);let en=!1;R.add(At.subscribe({next:cn=>{en||(en=!0,k++),S[de]=cn},error:cn=>R.error(cn),complete:()=>{y++,(y===f||!en)&&(k===f&&R.next(L?L.reduce((cn,Kn,yr)=>(cn[Kn]=S[yr],cn),{}):S),R.complete())}}))}})}let Q=(()=>{class B{constructor(R,f){this._renderer=R,this._elementRef=f,this.onChange=S=>{},this.onTouched=()=>{}}setProperty(R,f){this._renderer.setProperty(this._elementRef.nativeElement,R,f)}registerOnTouched(R){this.onTouched=R}registerOnChange(R){this.onChange=R}setDisabledState(R){this.setProperty("disabled",R)}}return B.\u0275fac=function(R){return new(R||B)(u.Y36(u.Qsj),u.Y36(u.SBq))},B.\u0275dir=u.lG2({type:B}),B})(),K=(()=>{class B extends Q{}return B.\u0275fac=function(){let L;return function(f){return(L||(L=u.n5z(B)))(f||B)}}(),B.\u0275dir=u.lG2({type:B,features:[u.qOj]}),B})();const se=new u.OlP("NgValueAccessor"),ct={provide:se,useExisting:(0,u.Gpc)(()=>ye),multi:!0},Ee=new u.OlP("CompositionEventMode");let ye=(()=>{class B extends Q{constructor(R,f,S){super(R,f),this._compositionMode=S,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function je(){const B=(0,F.q)()?(0,F.q)().getUserAgent():"";return/android (\d+)/.test(B.toLowerCase())}())}writeValue(R){this.setProperty("value",R??"")}_handleInput(R){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(R)}_compositionStart(){this._composing=!0}_compositionEnd(R){this._composing=!1,this._compositionMode&&this.onChange(R)}}return B.\u0275fac=function(R){return new(R||B)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(Ee,8))},B.\u0275dir=u.lG2({type:B,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(R,f){1&R&&u.NdJ("input",function(y){return f._handleInput(y.target.value)})("blur",function(){return f.onTouched()})("compositionstart",function(){return f._compositionStart()})("compositionend",function(y){return f._compositionEnd(y.target.value)})},features:[u._Bn([ct]),u.qOj]}),B})();function Se(B){return null==B||("string"==typeof B||Array.isArray(B))&&0===B.length}function Ve(B){return null!=B&&"number"==typeof B.length}const Ue=new u.OlP("NgValidators"),dt=new u.OlP("NgAsyncValidators"),qe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class nt{static min(L){return function ge(B){return L=>{if(Se(L.value)||Se(B))return null;const R=parseFloat(L.value);return!isNaN(R)&&R<B?{min:{min:B,actual:L.value}}:null}}(L)}static max(L){return function Re(B){return L=>{if(Se(L.value)||Se(B))return null;const R=parseFloat(L.value);return!isNaN(R)&&R>B?{max:{max:B,actual:L.value}}:null}}(L)}static required(L){return function he(B){return Se(B.value)?{required:!0}:null}(L)}static requiredTrue(L){return function re(B){return!0===B.value?null:{required:!0}}(L)}static email(L){return function Y(B){return Se(B.value)||qe.test(B.value)?null:{email:!0}}(L)}static minLength(L){return function J(B){return L=>Se(L.value)||!Ve(L.value)?null:L.value.length<B?{minlength:{requiredLength:B,actualLength:L.value.length}}:null}(L)}static maxLength(L){return function Ke(B){return L=>Ve(L.value)&&L.value.length>B?{maxlength:{requiredLength:B,actualLength:L.value.length}}:null}(L)}static pattern(L){return function ot(B){if(!B)return wt;let L,R;return"string"==typeof B?(R="","^"!==B.charAt(0)&&(R+="^"),R+=B,"$"!==B.charAt(B.length-1)&&(R+="$"),L=new RegExp(R)):(R=B.toString(),L=B),f=>{if(Se(f.value))return null;const S=f.value;return L.test(S)?null:{pattern:{requiredPattern:R,actualValue:S}}}}(L)}static nullValidator(L){return null}static compose(L){return bt(L)}static composeAsync(L){return Vt(L)}}function wt(B){return null}function rt(B){return null!=B}function Ge(B){return(0,u.QGY)(B)?(0,j.D)(B):B}function Ze(B){let L={};return B.forEach(R=>{L=null!=R?{...L,...R}:L}),0===Object.keys(L).length?null:L}function mt(B,L){return L.map(R=>R(B))}function _t(B){return B.map(L=>function St(B){return!B.validate}(L)?L:R=>L.validate(R))}function bt(B){if(!B)return null;const L=B.filter(rt);return 0==L.length?null:function(R){return Ze(mt(R,L))}}function tt(B){return null!=B?bt(_t(B)):null}function Vt(B){if(!B)return null;const L=B.filter(rt);return 0==L.length?null:function(R){return function fe(...B){if(1===B.length){const L=B[0];if((0,Ce.k)(L))return pe(L,null);if((0,ue.K)(L)&&Object.getPrototypeOf(L)===Object.prototype){const R=Object.keys(L);return pe(R.map(f=>L[f]),R)}}if("function"==typeof B[B.length-1]){const L=B.pop();return pe(B=1===B.length&&(0,Ce.k)(B[0])?B[0]:B,null).pipe((0,z.U)(R=>L(...R)))}return pe(B,null)}(mt(R,L).map(Ge)).pipe((0,z.U)(Ze))}}function $t(B){return null!=B?Vt(_t(B)):null}function bn(B,L){return null===B?[L]:Array.isArray(B)?[...B,L]:[B,L]}function vn(B){return B._rawValidators}function Ln(B){return B._rawAsyncValidators}function mn(B){return B?Array.isArray(B)?B:[B]:[]}function wn(B,L){return Array.isArray(B)?B.includes(L):B===L}function Bn(B,L){const R=mn(L);return mn(B).forEach(S=>{wn(R,S)||R.push(S)}),R}function Hn(B,L){return mn(L).filter(R=>!wn(B,R))}class kn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(L){this._rawValidators=L||[],this._composedValidatorFn=tt(this._rawValidators)}_setAsyncValidators(L){this._rawAsyncValidators=L||[],this._composedAsyncValidatorFn=$t(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(L){this._onDestroyCallbacks.push(L)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(L=>L()),this._onDestroyCallbacks=[]}reset(L){this.control&&this.control.reset(L)}hasError(L,R){return!!this.control&&this.control.hasError(L,R)}getError(L,R){return this.control?this.control.getError(L,R):null}}class _n extends kn{get formDirective(){return null}get path(){return null}}class In extends kn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class zn{constructor(L){this._cd=L}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Wn=(()=>{class B extends zn{constructor(R){super(R)}}return B.\u0275fac=function(R){return new(R||B)(u.Y36(In,2))},B.\u0275dir=u.lG2({type:B,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(R,f){2&R&&u.ekj("ng-untouched",f.isUntouched)("ng-touched",f.isTouched)("ng-pristine",f.isPristine)("ng-dirty",f.isDirty)("ng-valid",f.isValid)("ng-invalid",f.isInvalid)("ng-pending",f.isPending)},features:[u.qOj]}),B})(),Lt=(()=>{class B extends zn{constructor(R){super(R)}}return B.\u0275fac=function(R){return new(R||B)(u.Y36(_n,10))},B.\u0275dir=u.lG2({type:B,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(R,f){2&R&&u.ekj("ng-untouched",f.isUntouched)("ng-touched",f.isTouched)("ng-pristine",f.isPristine)("ng-dirty",f.isDirty)("ng-valid",f.isValid)("ng-invalid",f.isInvalid)("ng-pending",f.isPending)("ng-submitted",f.isSubmitted)},features:[u.qOj]}),B})();const Yt="VALID",an="INVALID",Cn="PENDING",yn="DISABLED";function Le(B){return(ke(B)?B.validators:B)||null}function Me(B){return Array.isArray(B)?tt(B):B||null}function X(B,L){return(ke(L)?L.asyncValidators:B)||null}function He(B){return Array.isArray(B)?$t(B):B||null}function ke(B){return null!=B&&!Array.isArray(B)&&"object"==typeof B}function Pt(B,L,R){const f=B.controls;if(!(L?Object.keys(f):f).length)throw new u.vHH(1e3,"");if(!f[R])throw new u.vHH(1001,"")}function We(B,L,R){B._forEachChild((f,S)=>{if(void 0===R[S])throw new u.vHH(1002,"")})}class Be{constructor(L,R){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=L,this._rawAsyncValidators=R,this._composedValidatorFn=Me(this._rawValidators),this._composedAsyncValidatorFn=He(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(L){this._rawValidators=this._composedValidatorFn=L}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(L){this._rawAsyncValidators=this._composedAsyncValidatorFn=L}get parent(){return this._parent}get valid(){return this.status===Yt}get invalid(){return this.status===an}get pending(){return this.status==Cn}get disabled(){return this.status===yn}get enabled(){return this.status!==yn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(L){this._rawValidators=L,this._composedValidatorFn=Me(L)}setAsyncValidators(L){this._rawAsyncValidators=L,this._composedAsyncValidatorFn=He(L)}addValidators(L){this.setValidators(Bn(L,this._rawValidators))}addAsyncValidators(L){this.setAsyncValidators(Bn(L,this._rawAsyncValidators))}removeValidators(L){this.setValidators(Hn(L,this._rawValidators))}removeAsyncValidators(L){this.setAsyncValidators(Hn(L,this._rawAsyncValidators))}hasValidator(L){return wn(this._rawValidators,L)}hasAsyncValidator(L){return wn(this._rawAsyncValidators,L)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(L={}){this.touched=!0,this._parent&&!L.onlySelf&&this._parent.markAsTouched(L)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(L=>L.markAllAsTouched())}markAsUntouched(L={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(R=>{R.markAsUntouched({onlySelf:!0})}),this._parent&&!L.onlySelf&&this._parent._updateTouched(L)}markAsDirty(L={}){this.pristine=!1,this._parent&&!L.onlySelf&&this._parent.markAsDirty(L)}markAsPristine(L={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(R=>{R.markAsPristine({onlySelf:!0})}),this._parent&&!L.onlySelf&&this._parent._updatePristine(L)}markAsPending(L={}){this.status=Cn,!1!==L.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!L.onlySelf&&this._parent.markAsPending(L)}disable(L={}){const R=this._parentMarkedDirty(L.onlySelf);this.status=yn,this.errors=null,this._forEachChild(f=>{f.disable({...L,onlySelf:!0})}),this._updateValue(),!1!==L.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...L,skipPristineCheck:R}),this._onDisabledChange.forEach(f=>f(!0))}enable(L={}){const R=this._parentMarkedDirty(L.onlySelf);this.status=Yt,this._forEachChild(f=>{f.enable({...L,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:L.emitEvent}),this._updateAncestors({...L,skipPristineCheck:R}),this._onDisabledChange.forEach(f=>f(!1))}_updateAncestors(L){this._parent&&!L.onlySelf&&(this._parent.updateValueAndValidity(L),L.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(L){this._parent=L}getRawValue(){return this.value}updateValueAndValidity(L={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Yt||this.status===Cn)&&this._runAsyncValidator(L.emitEvent)),!1!==L.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!L.onlySelf&&this._parent.updateValueAndValidity(L)}_updateTreeValidity(L={emitEvent:!0}){this._forEachChild(R=>R._updateTreeValidity(L)),this.updateValueAndValidity({onlySelf:!0,emitEvent:L.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?yn:Yt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(L){if(this.asyncValidator){this.status=Cn,this._hasOwnPendingAsyncValidator=!0;const R=Ge(this.asyncValidator(this));this._asyncValidationSubscription=R.subscribe(f=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(f,{emitEvent:L})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(L,R={}){this.errors=L,this._updateControlsErrors(!1!==R.emitEvent)}get(L){let R=L;return null==R||(Array.isArray(R)||(R=R.split(".")),0===R.length)?null:R.reduce((f,S)=>f&&f._find(S),this)}getError(L,R){const f=R?this.get(R):this;return f&&f.errors?f.errors[L]:null}hasError(L,R){return!!this.getError(L,R)}get root(){let L=this;for(;L._parent;)L=L._parent;return L}_updateControlsErrors(L){this.status=this._calculateStatus(),L&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(L)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?yn:this.errors?an:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Cn)?Cn:this._anyControlsHaveStatus(an)?an:Yt}_anyControlsHaveStatus(L){return this._anyControls(R=>R.status===L)}_anyControlsDirty(){return this._anyControls(L=>L.dirty)}_anyControlsTouched(){return this._anyControls(L=>L.touched)}_updatePristine(L={}){this.pristine=!this._anyControlsDirty(),this._parent&&!L.onlySelf&&this._parent._updatePristine(L)}_updateTouched(L={}){this.touched=this._anyControlsTouched(),this._parent&&!L.onlySelf&&this._parent._updateTouched(L)}_registerOnCollectionChange(L){this._onCollectionChange=L}_setUpdateStrategy(L){ke(L)&&null!=L.updateOn&&(this._updateOn=L.updateOn)}_parentMarkedDirty(L){return!L&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(L){return null}}class pt extends Be{constructor(L,R,f){super(Le(R),X(f,R)),this.controls=L,this._initObservables(),this._setUpdateStrategy(R),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(L,R){return this.controls[L]?this.controls[L]:(this.controls[L]=R,R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange),R)}addControl(L,R,f={}){this.registerControl(L,R),this.updateValueAndValidity({emitEvent:f.emitEvent}),this._onCollectionChange()}removeControl(L,R={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),delete this.controls[L],this.updateValueAndValidity({emitEvent:R.emitEvent}),this._onCollectionChange()}setControl(L,R,f={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),delete this.controls[L],R&&this.registerControl(L,R),this.updateValueAndValidity({emitEvent:f.emitEvent}),this._onCollectionChange()}contains(L){return this.controls.hasOwnProperty(L)&&this.controls[L].enabled}setValue(L,R={}){We(this,0,L),Object.keys(L).forEach(f=>{Pt(this,!0,f),this.controls[f].setValue(L[f],{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R)}patchValue(L,R={}){null!=L&&(Object.keys(L).forEach(f=>{const S=this.controls[f];S&&S.patchValue(L[f],{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R))}reset(L={},R={}){this._forEachChild((f,S)=>{f.reset(L[S],{onlySelf:!0,emitEvent:R.emitEvent})}),this._updatePristine(R),this._updateTouched(R),this.updateValueAndValidity(R)}getRawValue(){return this._reduceChildren({},(L,R,f)=>(L[f]=R.getRawValue(),L))}_syncPendingControls(){let L=this._reduceChildren(!1,(R,f)=>!!f._syncPendingControls()||R);return L&&this.updateValueAndValidity({onlySelf:!0}),L}_forEachChild(L){Object.keys(this.controls).forEach(R=>{const f=this.controls[R];f&&L(f,R)})}_setUpControls(){this._forEachChild(L=>{L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(L){for(const[R,f]of Object.entries(this.controls))if(this.contains(R)&&L(f))return!0;return!1}_reduceValue(){return this._reduceChildren({},(R,f,S)=>((f.enabled||this.disabled)&&(R[S]=f.value),R))}_reduceChildren(L,R){let f=L;return this._forEachChild((S,y)=>{f=R(f,S,y)}),f}_allControlsDisabled(){for(const L of Object.keys(this.controls))if(this.controls[L].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(L){return this.controls.hasOwnProperty(L)?this.controls[L]:null}}class me extends pt{}function at(B,L){return[...L.path,B]}function Rt(B,L){jt(B,L),L.valueAccessor.writeValue(B.value),B.disabled&&L.valueAccessor.setDisabledState?.(!0),function sn(B,L){L.valueAccessor.registerOnChange(R=>{B._pendingValue=R,B._pendingChange=!0,B._pendingDirty=!0,"change"===B.updateOn&&vt(B,L)})}(B,L),function Bt(B,L){const R=(f,S)=>{L.valueAccessor.writeValue(f),S&&L.viewToModelUpdate(f)};B.registerOnChange(R),L._registerOnDestroy(()=>{B._unregisterOnChange(R)})}(B,L),function $e(B,L){L.valueAccessor.registerOnTouched(()=>{B._pendingTouched=!0,"blur"===B.updateOn&&B._pendingChange&&vt(B,L),"submit"!==B.updateOn&&B.markAsTouched()})}(B,L),function ft(B,L){if(L.valueAccessor.setDisabledState){const R=f=>{L.valueAccessor.setDisabledState(f)};B.registerOnDisabledChange(R),L._registerOnDestroy(()=>{B._unregisterOnDisabledChange(R)})}}(B,L)}function It(B,L,R=!0){const f=()=>{};L.valueAccessor&&(L.valueAccessor.registerOnChange(f),L.valueAccessor.registerOnTouched(f)),qt(B,L),B&&(L._invokeOnDestroyCallbacks(),B._registerOnCollectionChange(()=>{}))}function be(B,L){B.forEach(R=>{R.registerOnValidatorChange&&R.registerOnValidatorChange(L)})}function jt(B,L){const R=vn(B);null!==L.validator?B.setValidators(bn(R,L.validator)):"function"==typeof R&&B.setValidators([R]);const f=Ln(B);null!==L.asyncValidator?B.setAsyncValidators(bn(f,L.asyncValidator)):"function"==typeof f&&B.setAsyncValidators([f]);const S=()=>B.updateValueAndValidity();be(L._rawValidators,S),be(L._rawAsyncValidators,S)}function qt(B,L){let R=!1;if(null!==B){if(null!==L.validator){const S=vn(B);if(Array.isArray(S)&&S.length>0){const y=S.filter(k=>k!==L.validator);y.length!==S.length&&(R=!0,B.setValidators(y))}}if(null!==L.asyncValidator){const S=Ln(B);if(Array.isArray(S)&&S.length>0){const y=S.filter(k=>k!==L.asyncValidator);y.length!==S.length&&(R=!0,B.setAsyncValidators(y))}}}const f=()=>{};return be(L._rawValidators,f),be(L._rawAsyncValidators,f),R}function vt(B,L){B._pendingDirty&&B.markAsDirty(),B.setValue(B._pendingValue,{emitModelToViewChange:!1}),L.viewToModelUpdate(B._pendingValue),B._pendingChange=!1}function tr(B,L){if(!B.hasOwnProperty("model"))return!1;const R=B.model;return!!R.isFirstChange()||!Object.is(L,R.currentValue)}function br(B,L){if(!L)return null;let R,f,S;return Array.isArray(L),L.forEach(y=>{y.constructor===ye?R=y:function kr(B){return Object.getPrototypeOf(B.constructor)===K}(y)?f=y:S=y}),S||f||R||null}function G(B,L){const R=B.indexOf(L);R>-1&&B.splice(R,1)}function te(B){return"object"==typeof B&&null!==B&&2===Object.keys(B).length&&"value"in B&&"disabled"in B}const ne=class extends Be{constructor(L=null,R,f){super(Le(R),X(f,R)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(L),this._setUpdateStrategy(R),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ke(R)&&(R.nonNullable||R.initialValueIsDefault)&&(this.defaultValue=te(L)?L.value:L)}setValue(L,R={}){this.value=this._pendingValue=L,this._onChange.length&&!1!==R.emitModelToViewChange&&this._onChange.forEach(f=>f(this.value,!1!==R.emitViewToModelChange)),this.updateValueAndValidity(R)}patchValue(L,R={}){this.setValue(L,R)}reset(L=this.defaultValue,R={}){this._applyFormState(L),this.markAsPristine(R),this.markAsUntouched(R),this.setValue(this.value,R),this._pendingChange=!1}_updateValue(){}_anyControls(L){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(L){this._onChange.push(L)}_unregisterOnChange(L){G(this._onChange,L)}registerOnDisabledChange(L){this._onDisabledChange.push(L)}_unregisterOnDisabledChange(L){G(this._onDisabledChange,L)}_forEachChild(L){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(L){te(L)?(this.value=this._pendingValue=L.value,L.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=L}},Rn={provide:In,useExisting:(0,u.Gpc)(()=>lr)},jn=(()=>Promise.resolve())();let lr=(()=>{class B extends In{constructor(R,f,S,y,k){super(),this._changeDetectorRef=k,this.control=new ne,this._registered=!1,this.update=new u.vpe,this._parent=R,this._setValidators(f),this._setAsyncValidators(S),this.valueAccessor=br(0,y)}ngOnChanges(R){if(this._checkForErrors(),!this._registered||"name"in R){if(this._registered&&(this._checkName(),this.formDirective)){const f=R.name.previousValue;this.formDirective.removeControl({name:f,path:this._getPath(f)})}this._setUpControl()}"isDisabled"in R&&this._updateDisabled(R),tr(R,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(R){this.viewModel=R,this.update.emit(R)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Rt(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(R){jn.then(()=>{this.control.setValue(R,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(R){const f=R.isDisabled.currentValue,S=0!==f&&(0,u.D6c)(f);jn.then(()=>{S&&!this.control.disabled?this.control.disable():!S&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(R){return this._parent?at(R,this._parent):[R]}}return B.\u0275fac=function(R){return new(R||B)(u.Y36(_n,9),u.Y36(Ue,10),u.Y36(dt,10),u.Y36(se,10),u.Y36(u.sBO,8))},B.\u0275dir=u.lG2({type:B,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([Rn]),u.qOj,u.TTD]}),B})(),Br=(()=>{class B{}return B.\u0275fac=function(R){return new(R||B)},B.\u0275dir=u.lG2({type:B,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),B})(),Zi=(()=>{class B{}return B.\u0275fac=function(R){return new(R||B)},B.\u0275mod=u.oAB({type:B}),B.\u0275inj=u.cJS({}),B})();const no=new u.OlP("NgModelWithFormControlWarning"),gu={provide:_n,useExisting:(0,u.Gpc)(()=>us)};let us=(()=>{class B extends _n{constructor(R,f){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(R),this._setAsyncValidators(f)}ngOnChanges(R){this._checkFormPresent(),R.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(qt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(R){const f=this.form.get(R.path);return Rt(f,R),f.updateValueAndValidity({emitEvent:!1}),this.directives.push(R),f}getControl(R){return this.form.get(R.path)}removeControl(R){It(R.control||null,R,!1),function Lr(B,L){const R=B.indexOf(L);R>-1&&B.splice(R,1)}(this.directives,R)}addFormGroup(R){this._setUpFormContainer(R)}removeFormGroup(R){this._cleanUpFormContainer(R)}getFormGroup(R){return this.form.get(R.path)}addFormArray(R){this._setUpFormContainer(R)}removeFormArray(R){this._cleanUpFormContainer(R)}getFormArray(R){return this.form.get(R.path)}updateModel(R,f){this.form.get(R.path).setValue(f)}onSubmit(R){return this.submitted=!0,function Fr(B,L){B._syncPendingControls(),L.forEach(R=>{const f=R.control;"submit"===f.updateOn&&f._pendingChange&&(R.viewToModelUpdate(f._pendingValue),f._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(R),"dialog"===R?.target?.method}onReset(){this.resetForm()}resetForm(R){this.form.reset(R),this.submitted=!1}_updateDomValue(){this.directives.forEach(R=>{const f=R.control,S=this.form.get(R.path);f!==S&&(It(f||null,R),(B=>B instanceof ne)(S)&&(Rt(S,R),R.control=S))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(R){const f=this.form.get(R.path);(function tn(B,L){jt(B,L)})(f,R),f.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(R){if(this.form){const f=this.form.get(R.path);f&&function un(B,L){return qt(B,L)}(f,R)&&f.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){jt(this.form,this),this._oldForm&&qt(this._oldForm,this)}_checkFormPresent(){}}return B.\u0275fac=function(R){return new(R||B)(u.Y36(Ue,10),u.Y36(dt,10))},B.\u0275dir=u.lG2({type:B,selectors:[["","formGroup",""]],hostBindings:function(R,f){1&R&&u.NdJ("submit",function(y){return f.onSubmit(y)})("reset",function(){return f.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([gu]),u.qOj,u.TTD]}),B})();const ro={provide:In,useExisting:(0,u.Gpc)(()=>Yr)};let Yr=(()=>{class B extends In{constructor(R,f,S,y,k){super(),this._ngModelWarningConfig=k,this._added=!1,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=R,this._setValidators(f),this._setAsyncValidators(S),this.valueAccessor=br(0,y)}set isDisabled(R){}ngOnChanges(R){this._added||this._setUpControl(),tr(R,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(R){this.viewModel=R,this.update.emit(R)}get path(){return at(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return B._ngModelWarningSentOnce=!1,B.\u0275fac=function(R){return new(R||B)(u.Y36(_n,13),u.Y36(Ue,10),u.Y36(dt,10),u.Y36(se,10),u.Y36(no,8))},B.\u0275dir=u.lG2({type:B,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([ro]),u.qOj,u.TTD]}),B})(),Go=(()=>{class B{}return B.\u0275fac=function(R){return new(R||B)},B.\u0275mod=u.oAB({type:B}),B.\u0275inj=u.cJS({imports:[Zi]}),B})(),ks=(()=>{class B{}return B.\u0275fac=function(R){return new(R||B)},B.\u0275mod=u.oAB({type:B}),B.\u0275inj=u.cJS({imports:[Go]}),B})(),Fs=(()=>{class B{static withConfig(R){return{ngModule:B,providers:[{provide:no,useValue:R.warnOnNgModelWithFormControl}]}}}return B.\u0275fac=function(R){return new(R||B)},B.\u0275mod=u.oAB({type:B}),B.\u0275inj=u.cJS({imports:[Go]}),B})();class so extends Be{constructor(L,R,f){super(Le(R),X(f,R)),this.controls=L,this._initObservables(),this._setUpdateStrategy(R),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(L){return this.controls[this._adjustIndex(L)]}push(L,R={}){this.controls.push(L),this._registerControl(L),this.updateValueAndValidity({emitEvent:R.emitEvent}),this._onCollectionChange()}insert(L,R,f={}){this.controls.splice(L,0,R),this._registerControl(R),this.updateValueAndValidity({emitEvent:f.emitEvent})}removeAt(L,R={}){let f=this._adjustIndex(L);f<0&&(f=0),this.controls[f]&&this.controls[f]._registerOnCollectionChange(()=>{}),this.controls.splice(f,1),this.updateValueAndValidity({emitEvent:R.emitEvent})}setControl(L,R,f={}){let S=this._adjustIndex(L);S<0&&(S=0),this.controls[S]&&this.controls[S]._registerOnCollectionChange(()=>{}),this.controls.splice(S,1),R&&(this.controls.splice(S,0,R),this._registerControl(R)),this.updateValueAndValidity({emitEvent:f.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(L,R={}){We(this,0,L),L.forEach((f,S)=>{Pt(this,!1,S),this.at(S).setValue(f,{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R)}patchValue(L,R={}){null!=L&&(L.forEach((f,S)=>{this.at(S)&&this.at(S).patchValue(f,{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R))}reset(L=[],R={}){this._forEachChild((f,S)=>{f.reset(L[S],{onlySelf:!0,emitEvent:R.emitEvent})}),this._updatePristine(R),this._updateTouched(R),this.updateValueAndValidity(R)}getRawValue(){return this.controls.map(L=>L.getRawValue())}clear(L={}){this.controls.length<1||(this._forEachChild(R=>R._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:L.emitEvent}))}_adjustIndex(L){return L<0?L+this.length:L}_syncPendingControls(){let L=this.controls.reduce((R,f)=>!!f._syncPendingControls()||R,!1);return L&&this.updateValueAndValidity({onlySelf:!0}),L}_forEachChild(L){this.controls.forEach((R,f)=>{L(R,f)})}_updateValue(){this.value=this.controls.filter(L=>L.enabled||this.disabled).map(L=>L.value)}_anyControls(L){return this.controls.some(R=>R.enabled&&L(R))}_setUpControls(){this._forEachChild(L=>this._registerControl(L))}_allControlsDisabled(){for(const L of this.controls)if(L.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(L){L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange)}_find(L){return this.at(L)??null}}function oo(B){return!!B&&(void 0!==B.asyncValidators||void 0!==B.validators||void 0!==B.updateOn)}let Gt=(()=>{class B{constructor(){this.useNonNullable=!1}get nonNullable(){const R=new B;return R.useNonNullable=!0,R}group(R,f=null){const S=this._reduceControls(R);let y={};return oo(f)?y=f:null!==f&&(y.validators=f.validator,y.asyncValidators=f.asyncValidator),new pt(S,y)}record(R,f=null){const S=this._reduceControls(R);return new me(S,f)}control(R,f,S){let y={};return this.useNonNullable?(oo(f)?y=f:(y.validators=f,y.asyncValidators=S),new ne(R,{...y,nonNullable:!0})):new ne(R,f,S)}array(R,f,S){const y=R.map(k=>this._createControl(k));return new so(y,f,S)}_reduceControls(R){const f={};return Object.keys(R).forEach(S=>{f[S]=this._createControl(R[S])}),f}_createControl(R){return R instanceof ne||R instanceof Be?R:Array.isArray(R)?this.control(R[0],R.length>1?R[1]:null,R.length>2?R[2]:null):this.control(R)}}return B.\u0275fac=function(R){return new(R||B)},B.\u0275prov=u.Yz7({token:B,factory:B.\u0275fac,providedIn:Fs}),B})()},1481:(Zt,ht,P)=>{"use strict";P.d(ht,{Dx:()=>Ot,b2:()=>Zn,q6:()=>kn});var u=P(6895),F=P(5062);class j extends u.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class De extends j{static makeCurrent(){(0,u.HT)(new De)}onAndCancel(me,ve,at){return me.addEventListener(ve,at,!1),()=>{me.removeEventListener(ve,at,!1)}}dispatchEvent(me,ve){me.dispatchEvent(ve)}remove(me){me.parentNode&&me.parentNode.removeChild(me)}createElement(me,ve){return(ve=ve||this.getDefaultDocument()).createElement(me)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(me){return me.nodeType===Node.ELEMENT_NODE}isShadowRoot(me){return me instanceof DocumentFragment}getGlobalEventTarget(me,ve){return"window"===ve?window:"document"===ve?me:"body"===ve?me.body:null}getBaseHref(me){const ve=function z(){return Ce=Ce||document.querySelector("base"),Ce?Ce.getAttribute("href"):null}();return null==ve?null:function fe(Ae){ue=ue||document.createElement("a"),ue.setAttribute("href",Ae);const me=ue.pathname;return"/"===me.charAt(0)?me:`/${me}`}(ve)}resetBaseElement(){Ce=null}getUserAgent(){return window.navigator.userAgent}getCookie(me){return(0,u.Mx)(document.cookie,me)}}let ue,Ce=null;const pe=new F.OlP("TRANSITION_ID"),K=[{provide:F.ip1,useFactory:function Q(Ae,me,ve){return()=>{ve.get(F.CZH).donePromise.then(()=>{const at=(0,u.q)(),Rt=me.querySelectorAll(`style[ng-transition="${Ae}"]`);for(let It=0;It<Rt.length;It++)at.remove(Rt[It])})}},deps:[pe,u.K0,F.zs3],multi:!0}];let ee=(()=>{class Ae{build(){return new XMLHttpRequest}}return Ae.\u0275fac=function(ve){return new(ve||Ae)},Ae.\u0275prov=F.Yz7({token:Ae,factory:Ae.\u0275fac}),Ae})();const Ie=new F.OlP("EventManagerPlugins");let ct=(()=>{class Ae{constructor(ve,at){this._zone=at,this._eventNameToPlugin=new Map,ve.forEach(Rt=>Rt.manager=this),this._plugins=ve.slice().reverse()}addEventListener(ve,at,Rt){return this._findPluginFor(at).addEventListener(ve,at,Rt)}addGlobalEventListener(ve,at,Rt){return this._findPluginFor(at).addGlobalEventListener(ve,at,Rt)}getZone(){return this._zone}_findPluginFor(ve){const at=this._eventNameToPlugin.get(ve);if(at)return at;const Rt=this._plugins;for(let It=0;It<Rt.length;It++){const be=Rt[It];if(be.supports(ve))return this._eventNameToPlugin.set(ve,be),be}throw new Error(`No event manager plugin found for event ${ve}`)}}return Ae.\u0275fac=function(ve){return new(ve||Ae)(F.LFG(Ie),F.LFG(F.R0b))},Ae.\u0275prov=F.Yz7({token:Ae,factory:Ae.\u0275fac}),Ae})();class je{constructor(me){this._doc=me}addGlobalEventListener(me,ve,at){const Rt=(0,u.q)().getGlobalEventTarget(this._doc,me);if(!Rt)throw new Error(`Unsupported event target ${Rt} for event ${ve}`);return this.addEventListener(Rt,ve,at)}}let Ee=(()=>{class Ae{constructor(){this._stylesSet=new Set}addStyles(ve){const at=new Set;ve.forEach(Rt=>{this._stylesSet.has(Rt)||(this._stylesSet.add(Rt),at.add(Rt))}),this.onStylesAdded(at)}onStylesAdded(ve){}getAllStyles(){return Array.from(this._stylesSet)}}return Ae.\u0275fac=function(ve){return new(ve||Ae)},Ae.\u0275prov=F.Yz7({token:Ae,factory:Ae.\u0275fac}),Ae})(),ye=(()=>{class Ae extends Ee{constructor(ve){super(),this._doc=ve,this._hostNodes=new Map,this._hostNodes.set(ve.head,[])}_addStylesToHost(ve,at,Rt){ve.forEach(It=>{const be=this._doc.createElement("style");be.textContent=It,Rt.push(at.appendChild(be))})}addHost(ve){const at=[];this._addStylesToHost(this._stylesSet,ve,at),this._hostNodes.set(ve,at)}removeHost(ve){const at=this._hostNodes.get(ve);at&&at.forEach(st),this._hostNodes.delete(ve)}onStylesAdded(ve){this._hostNodes.forEach((at,Rt)=>{this._addStylesToHost(ve,Rt,at)})}ngOnDestroy(){this._hostNodes.forEach(ve=>ve.forEach(st))}}return Ae.\u0275fac=function(ve){return new(ve||Ae)(F.LFG(u.K0))},Ae.\u0275prov=F.Yz7({token:Ae,factory:Ae.\u0275fac}),Ae})();function st(Ae){(0,u.q)().remove(Ae)}const Se={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ve=/%COMP%/g;function he(Ae,me,ve){for(let at=0;at<me.length;at++){let Rt=me[at];Array.isArray(Rt)?he(Ae,Rt,ve):(Rt=Rt.replace(Ve,Ae),ve.push(Rt))}return ve}function re(Ae){return me=>{if("__ngUnwrap__"===me)return Ae;!1===Ae(me)&&(me.preventDefault(),me.returnValue=!1)}}let J=(()=>{class Ae{constructor(ve,at,Rt){this.eventManager=ve,this.sharedStylesHost=at,this.appId=Rt,this.rendererByCompId=new Map,this.defaultRenderer=new Ke(ve)}createRenderer(ve,at){if(!ve||!at)return this.defaultRenderer;switch(at.encapsulation){case F.ifc.Emulated:{let Rt=this.rendererByCompId.get(at.id);return Rt||(Rt=new Ge(this.eventManager,this.sharedStylesHost,at,this.appId),this.rendererByCompId.set(at.id,Rt)),Rt.applyToHost(ve),Rt}case 1:case F.ifc.ShadowDom:return new Ze(this.eventManager,this.sharedStylesHost,ve,at);default:if(!this.rendererByCompId.has(at.id)){const Rt=he(at.id,at.styles,[]);this.sharedStylesHost.addStyles(Rt),this.rendererByCompId.set(at.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Ae.\u0275fac=function(ve){return new(ve||Ae)(F.LFG(ct),F.LFG(ye),F.LFG(F.AFp))},Ae.\u0275prov=F.Yz7({token:Ae,factory:Ae.\u0275fac}),Ae})();class Ke{constructor(me){this.eventManager=me,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(me,ve){return ve?document.createElementNS(Se[ve]||ve,me):document.createElement(me)}createComment(me){return document.createComment(me)}createText(me){return document.createTextNode(me)}appendChild(me,ve){(rt(me)?me.content:me).appendChild(ve)}insertBefore(me,ve,at){me&&(rt(me)?me.content:me).insertBefore(ve,at)}removeChild(me,ve){me&&me.removeChild(ve)}selectRootElement(me,ve){let at="string"==typeof me?document.querySelector(me):me;if(!at)throw new Error(`The selector "${me}" did not match any elements`);return ve||(at.textContent=""),at}parentNode(me){return me.parentNode}nextSibling(me){return me.nextSibling}setAttribute(me,ve,at,Rt){if(Rt){ve=Rt+":"+ve;const It=Se[Rt];It?me.setAttributeNS(It,ve,at):me.setAttribute(ve,at)}else me.setAttribute(ve,at)}removeAttribute(me,ve,at){if(at){const Rt=Se[at];Rt?me.removeAttributeNS(Rt,ve):me.removeAttribute(`${at}:${ve}`)}else me.removeAttribute(ve)}addClass(me,ve){me.classList.add(ve)}removeClass(me,ve){me.classList.remove(ve)}setStyle(me,ve,at,Rt){Rt&(F.JOm.DashCase|F.JOm.Important)?me.style.setProperty(ve,at,Rt&F.JOm.Important?"important":""):me.style[ve]=at}removeStyle(me,ve,at){at&F.JOm.DashCase?me.style.removeProperty(ve):me.style[ve]=""}setProperty(me,ve,at){me[ve]=at}setValue(me,ve){me.nodeValue=ve}listen(me,ve,at){return"string"==typeof me?this.eventManager.addGlobalEventListener(me,ve,re(at)):this.eventManager.addEventListener(me,ve,re(at))}}function rt(Ae){return"TEMPLATE"===Ae.tagName&&void 0!==Ae.content}class Ge extends Ke{constructor(me,ve,at,Rt){super(me),this.component=at;const It=he(Rt+"-"+at.id,at.styles,[]);ve.addStyles(It),this.contentAttr=function ge(Ae){return"_ngcontent-%COMP%".replace(Ve,Ae)}(Rt+"-"+at.id),this.hostAttr=function Re(Ae){return"_nghost-%COMP%".replace(Ve,Ae)}(Rt+"-"+at.id)}applyToHost(me){super.setAttribute(me,this.hostAttr,"")}createElement(me,ve){const at=super.createElement(me,ve);return super.setAttribute(at,this.contentAttr,""),at}}class Ze extends Ke{constructor(me,ve,at,Rt){super(me),this.sharedStylesHost=ve,this.hostEl=at,this.shadowRoot=at.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const It=he(Rt.id,Rt.styles,[]);for(let be=0;be<It.length;be++){const ft=document.createElement("style");ft.textContent=It[be],this.shadowRoot.appendChild(ft)}}nodeOrShadowRoot(me){return me===this.hostEl?this.shadowRoot:me}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(me,ve){return super.appendChild(this.nodeOrShadowRoot(me),ve)}insertBefore(me,ve,at){return super.insertBefore(this.nodeOrShadowRoot(me),ve,at)}removeChild(me,ve){return super.removeChild(this.nodeOrShadowRoot(me),ve)}parentNode(me){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(me)))}}let mt=(()=>{class Ae extends je{constructor(ve){super(ve)}supports(ve){return!0}addEventListener(ve,at,Rt){return ve.addEventListener(at,Rt,!1),()=>this.removeEventListener(ve,at,Rt)}removeEventListener(ve,at,Rt){return ve.removeEventListener(at,Rt)}}return Ae.\u0275fac=function(ve){return new(ve||Ae)(F.LFG(u.K0))},Ae.\u0275prov=F.Yz7({token:Ae,factory:Ae.\u0275fac}),Ae})();const St=["alt","control","meta","shift"],_t={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},bt={alt:Ae=>Ae.altKey,control:Ae=>Ae.ctrlKey,meta:Ae=>Ae.metaKey,shift:Ae=>Ae.shiftKey};let tt=(()=>{class Ae extends je{constructor(ve){super(ve)}supports(ve){return null!=Ae.parseEventName(ve)}addEventListener(ve,at,Rt){const It=Ae.parseEventName(at),be=Ae.eventCallback(It.fullKey,Rt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,u.q)().onAndCancel(ve,It.domEventName,be))}static parseEventName(ve){const at=ve.toLowerCase().split("."),Rt=at.shift();if(0===at.length||"keydown"!==Rt&&"keyup"!==Rt)return null;const It=Ae._normalizeKey(at.pop());let be="",ft=at.indexOf("code");if(ft>-1&&(at.splice(ft,1),be="code."),St.forEach(qt=>{const sn=at.indexOf(qt);sn>-1&&(at.splice(sn,1),be+=qt+".")}),be+=It,0!=at.length||0===It.length)return null;const jt={};return jt.domEventName=Rt,jt.fullKey=be,jt}static matchEventFullKeyCode(ve,at){let Rt=_t[ve.key]||ve.key,It="";return at.indexOf("code.")>-1&&(Rt=ve.code,It="code."),!(null==Rt||!Rt)&&(Rt=Rt.toLowerCase()," "===Rt?Rt="space":"."===Rt&&(Rt="dot"),St.forEach(be=>{be!==Rt&&(0,bt[be])(ve)&&(It+=be+".")}),It+=Rt,It===at)}static eventCallback(ve,at,Rt){return It=>{Ae.matchEventFullKeyCode(It,ve)&&Rt.runGuarded(()=>at(It))}}static _normalizeKey(ve){return"esc"===ve?"escape":ve}}return Ae.\u0275fac=function(ve){return new(ve||Ae)(F.LFG(u.K0))},Ae.\u0275prov=F.Yz7({token:Ae,factory:Ae.\u0275fac}),Ae})();const kn=(0,F.eFA)(F._c5,"browser",[{provide:F.Lbi,useValue:u.bD},{provide:F.g9A,useValue:function mn(){De.makeCurrent()},multi:!0},{provide:u.K0,useFactory:function Bn(){return(0,F.RDi)(document),document},deps:[]}]),_n=new F.OlP(""),In=[{provide:F.rWj,useClass:class se{addToWindow(me){F.dqk.getAngularTestability=(at,Rt=!0)=>{const It=me.findTestabilityInTree(at,Rt);if(null==It)throw new Error("Could not find testability for element.");return It},F.dqk.getAllAngularTestabilities=()=>me.getAllTestabilities(),F.dqk.getAllAngularRootElements=()=>me.getAllRootElements(),F.dqk.frameworkStabilizers||(F.dqk.frameworkStabilizers=[]),F.dqk.frameworkStabilizers.push(at=>{const Rt=F.dqk.getAllAngularTestabilities();let It=Rt.length,be=!1;const ft=function(jt){be=be||jt,It--,0==It&&at(be)};Rt.forEach(function(jt){jt.whenStable(ft)})})}findTestabilityInTree(me,ve,at){return null==ve?null:me.getTestability(ve)??(at?(0,u.q)().isShadowRoot(ve)?this.findTestabilityInTree(me,ve.host,!0):this.findTestabilityInTree(me,ve.parentElement,!0):null)}},deps:[]},{provide:F.lri,useClass:F.dDg,deps:[F.R0b,F.eoX,F.rWj]},{provide:F.dDg,useClass:F.dDg,deps:[F.R0b,F.eoX,F.rWj]}],zn=[{provide:F.zSh,useValue:"root"},{provide:F.qLn,useFactory:function wn(){return new F.qLn},deps:[]},{provide:Ie,useClass:mt,multi:!0,deps:[u.K0,F.R0b,F.Lbi]},{provide:Ie,useClass:tt,multi:!0,deps:[u.K0]},{provide:J,useClass:J,deps:[ct,ye,F.AFp]},{provide:F.FYo,useExisting:J},{provide:Ee,useExisting:ye},{provide:ye,useClass:ye,deps:[u.K0]},{provide:ct,useClass:ct,deps:[Ie,F.R0b]},{provide:u.JF,useClass:ee,deps:[]},[]];let Zn=(()=>{class Ae{constructor(ve){}static withServerTransition(ve){return{ngModule:Ae,providers:[{provide:F.AFp,useValue:ve.appId},{provide:pe,useExisting:F.AFp},K]}}}return Ae.\u0275fac=function(ve){return new(ve||Ae)(F.LFG(_n,12))},Ae.\u0275mod=F.oAB({type:Ae}),Ae.\u0275inj=F.cJS({providers:[...zn,...In],imports:[u.ez,F.hGG]}),Ae})(),Ot=(()=>{class Ae{constructor(ve){this._doc=ve}getTitle(){return this._doc.title}setTitle(ve){this._doc.title=ve||""}}return Ae.\u0275fac=function(ve){return new(ve||Ae)(F.LFG(u.K0))},Ae.\u0275prov=F.Yz7({token:Ae,factory:function(ve){let at=null;return at=ve?new ve:function gn(){return new Ot((0,F.LFG)(u.K0))}(),at},providedIn:"root"}),Ae})();typeof window<"u"&&window},7022:(Zt,ht,P)=>{"use strict";P.d(ht,{gz:()=>$i,jw:()=>Xi,y6:()=>Rr,OD:()=>zi,eC:()=>Lt,wm:()=>Ih,wN:()=>Wc,F0:()=>ri,rH:()=>ys,Od:()=>Zo,yS:()=>wu,Bz:()=>Qc,lC:()=>hs,Hx:()=>Be,fw:()=>fs});var u=P(5062),F=P(5254),j=P(1086),De=P(591),Ce=P(4450),z=P(2866),ue=P(6688),fe=P(3489);class pe extends fe.L{notifyNext(w,_,A,V,ie){this.destination.next(_)}notifyError(w,_){this.destination.error(w)}notifyComplete(w){this.destination.complete()}}class Q extends fe.L{constructor(w,_,A){super(),this.parent=w,this.outerValue=_,this.outerIndex=A,this.index=0}_next(w){this.parent.notifyNext(this.outerValue,w,this.outerIndex,this.index++,this)}_error(w){this.parent.notifyError(w,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var K=P(9249),se=P(6498);function ee(I,w,_,A,V=new Q(I,_,A)){if(!V.closed)return w instanceof se.y?w.subscribe(V):(0,K.s)(w)(V)}var Ie=P(3009);const ct={};function je(...I){let w,_;return(0,z.K)(I[I.length-1])&&(_=I.pop()),"function"==typeof I[I.length-1]&&(w=I.pop()),1===I.length&&(0,ue.k)(I[0])&&(I=I[0]),(0,Ie.n)(I,_).lift(new Ee(w))}class Ee{constructor(w){this.resultSelector=w}call(w,_){return _.subscribe(new ye(w,this.resultSelector))}}class ye extends pe{constructor(w,_){super(w),this.resultSelector=_,this.active=0,this.values=[],this.observables=[]}_next(w){this.values.push(ct),this.observables.push(w)}_complete(){const w=this.observables,_=w.length;if(0===_)this.destination.complete();else{this.active=_,this.toRespond=_;for(let A=0;A<_;A++)this.add(ee(this,w[A],void 0,A))}}notifyComplete(w){0==(this.active-=1)&&this.destination.complete()}notifyNext(w,_,A){const V=this.values,Pe=this.toRespond?V[A]===ct?--this.toRespond:this.toRespond:0;V[A]=_,0===Pe&&(this.resultSelector?this._tryResultSelector(V):this.destination.next(V.slice()))}_tryResultSelector(w){let _;try{_=this.resultSelector.apply(this,w)}catch(A){return void this.destination.error(A)}this.destination.next(_)}}var st=P(1221),Se=P(8896);function Ve(I){return new se.y(w=>{let _;try{_=I()}catch(V){return void w.error(V)}return(_?(0,F.D)(_):(0,Se.c)()).subscribe(w)})}var Ue=P(4843),dt=P(1737),qe=P(1762),nt=P(8929),ge=P(6895),Re=P(4850),he=P(7545),re=P(2986),Y=P(1059),J=P(2198),Ke=P(1709),ot=P(7224),wt=P(1406),rt=P(2868),Ge=P(7221),Ze=P(2014),mt=P(4231);function St(I){return function(_){return 0===I?(0,Se.c)():_.lift(new _t(I))}}class _t{constructor(w){if(this.total=w,this.total<0)throw new mt.W}call(w,_){return _.subscribe(new bt(w,this.total))}}class bt extends fe.L{constructor(w,_){super(w),this.total=_,this.ring=new Array,this.count=0}_next(w){const _=this.ring,A=this.total,V=this.count++;_.length<A?_.push(w):_[V%A]=w}_complete(){const w=this.destination;let _=this.count;if(_>0){const A=this.count>=this.total?this.total:this.count,V=this.ring;for(let ie=0;ie<A;ie++){const Pe=_++%A;w.next(V[Pe])}}w.complete()}}var tt=P(4907),Vt=P(7314),$t=P(5379);function bn(I,w){const _=arguments.length>=2;return A=>A.pipe(I?(0,J.h)((V,ie)=>I(V,ie,A)):$t.y,St(1),_?(0,Vt.d)(w):(0,tt.T)(()=>new Ce.K))}class Ln{constructor(w,_){this.predicate=w,this.inclusive=_}call(w,_){return _.subscribe(new mn(w,this.predicate,this.inclusive))}}class mn extends fe.L{constructor(w,_,A){super(w),this.predicate=_,this.inclusive=A,this.index=0}_next(w){const _=this.destination;let A;try{A=this.predicate(w,this.index++)}catch(V){return void _.error(V)}this.nextOrComplete(w,A)}nextOrComplete(w,_){const A=this.destination;Boolean(_)?A.next(w):(this.inclusive&&A.next(w),A.complete())}}class Bn{constructor(w){this.value=w}call(w,_){return _.subscribe(new Hn(w,this.value))}}class Hn extends fe.L{constructor(w,_){super(w),this.value=_}_next(w){this.destination.next(this.value)}}var kn=P(2654);function _n(I){return w=>w.lift(new In(I))}class In{constructor(w){this.callback=w}call(w,_){return _.subscribe(new zn(w,this.callback))}}class zn extends fe.L{constructor(w,_){super(w),this.add(new kn.w(_))}}var Zn=P(4327),Jn=P(9146),Wn=P(1481);const Lt="primary",gn=Symbol("RouteTitle");class Ot{constructor(w){this.params=w||{}}has(w){return Object.prototype.hasOwnProperty.call(this.params,w)}get(w){if(this.has(w)){const _=this.params[w];return Array.isArray(_)?_[0]:_}return null}getAll(w){if(this.has(w)){const _=this.params[w];return Array.isArray(_)?_:[_]}return[]}get keys(){return Object.keys(this.params)}}function we(I){return new Ot(I)}function xe(I,w,_){const A=_.path.split("/");if(A.length>I.length||"full"===_.pathMatch&&(w.hasChildren()||A.length<I.length))return null;const V={};for(let ie=0;ie<A.length;ie++){const Pe=A[ie],Ye=I[ie];if(Pe.startsWith(":"))V[Pe.substring(1)]=Ye;else if(Pe!==Ye.path)return null}return{consumed:I.slice(0,A.length),posParams:V}}function Et(I,w){const _=I?Object.keys(I):void 0,A=w?Object.keys(w):void 0;if(!_||!A||_.length!=A.length)return!1;let V;for(let ie=0;ie<_.length;ie++)if(V=_[ie],!Ht(I[V],w[V]))return!1;return!0}function Ht(I,w){if(Array.isArray(I)&&Array.isArray(w)){if(I.length!==w.length)return!1;const _=[...I].sort(),A=[...w].sort();return _.every((V,ie)=>A[ie]===V)}return I===w}function on(I){return Array.prototype.concat.apply([],I)}function Dn(I){return I.length>0?I[I.length-1]:null}function rn(I,w){for(const _ in I)I.hasOwnProperty(_)&&w(I[_],_)}function Tn(I){return(0,u.CqO)(I)?I:(0,u.QGY)(I)?(0,F.D)(Promise.resolve(I)):(0,j.of)(I)}const fn={exact:function Yt(I,w,_){if(!Pt(I.segments,w.segments)||!Le(I.segments,w.segments,_)||I.numberOfChildren!==w.numberOfChildren)return!1;for(const A in w.children)if(!I.children[A]||!Yt(I.children[A],w.children[A],_))return!1;return!0},subset:Cn},Fn={exact:function Mt(I,w){return Et(I,w)},subset:function an(I,w){return Object.keys(w).length<=Object.keys(I).length&&Object.keys(w).every(_=>Ht(I[_],w[_]))},ignored:()=>!0};function Qt(I,w,_){return fn[_.paths](I.root,w.root,_.matrixParams)&&Fn[_.queryParams](I.queryParams,w.queryParams)&&!("exact"===_.fragment&&I.fragment!==w.fragment)}function Cn(I,w,_){return yn(I,w,w.segments,_)}function yn(I,w,_,A){if(I.segments.length>_.length){const V=I.segments.slice(0,_.length);return!(!Pt(V,_)||w.hasChildren()||!Le(V,_,A))}if(I.segments.length===_.length){if(!Pt(I.segments,_)||!Le(I.segments,_,A))return!1;for(const V in w.children)if(!I.children[V]||!Cn(I.children[V],w.children[V],A))return!1;return!0}{const V=_.slice(0,I.segments.length),ie=_.slice(I.segments.length);return!!(Pt(I.segments,V)&&Le(I.segments,V,A)&&I.children[Lt])&&yn(I.children[Lt],w,ie,A)}}function Le(I,w,_){return w.every((A,V)=>Fn[_](I[V].parameters,A.parameters))}class Me{constructor(w,_,A){this.root=w,this.queryParams=_,this.fragment=A}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=we(this.queryParams)),this._queryParamMap}toString(){return Ct.serialize(this)}}class X{constructor(w,_){this.segments=w,this.children=_,this.parent=null,rn(_,(A,V)=>A.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ae(this)}}class He{constructor(w,_){this.path=w,this.parameters=_}get parameterMap(){return this._parameterMap||(this._parameterMap=we(this.parameters)),this._parameterMap}toString(){return jt(this)}}function Pt(I,w){return I.length===w.length&&I.every((_,A)=>_.path===w[A].path)}let Be=(()=>{class I{}return I.\u0275fac=function(_){return new(_||I)},I.\u0275prov=u.Yz7({token:I,factory:function(){return new pt},providedIn:"root"}),I})();class pt{parse(w){const _=new xn(w);return new Me(_.parseRootSegment(),_.parseQueryParams(),_.parseFragment())}serialize(w){const _=`/${me(w.root,!0)}`,A=function sn(I){const w=Object.keys(I).map(_=>{const A=I[_];return Array.isArray(A)?A.map(V=>`${at(_)}=${at(V)}`).join("&"):`${at(_)}=${at(A)}`}).filter(_=>!!_);return w.length?`?${w.join("&")}`:""}(w.queryParams);return`${_}${A}${"string"==typeof w.fragment?`#${function Rt(I){return encodeURI(I)}(w.fragment)}`:""}`}}const Ct=new pt;function Ae(I){return I.segments.map(w=>jt(w)).join("/")}function me(I,w){if(!I.hasChildren())return Ae(I);if(w){const _=I.children[Lt]?me(I.children[Lt],!1):"",A=[];return rn(I.children,(V,ie)=>{ie!==Lt&&A.push(`${ie}:${me(V,!1)}`)}),A.length>0?`${_}(${A.join("//")})`:_}{const _=function We(I,w){let _=[];return rn(I.children,(A,V)=>{V===Lt&&(_=_.concat(w(A,V)))}),rn(I.children,(A,V)=>{V!==Lt&&(_=_.concat(w(A,V)))}),_}(I,(A,V)=>V===Lt?[me(I.children[Lt],!1)]:[`${V}:${me(A,!1)}`]);return 1===Object.keys(I.children).length&&null!=I.children[Lt]?`${Ae(I)}/${_[0]}`:`${Ae(I)}/(${_.join("//")})`}}function ve(I){return encodeURIComponent(I).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function at(I){return ve(I).replace(/%3B/gi,";")}function It(I){return ve(I).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function be(I){return decodeURIComponent(I)}function ft(I){return be(I.replace(/\+/g,"%20"))}function jt(I){return`${It(I.path)}${function qt(I){return Object.keys(I).map(w=>`;${It(w)}=${It(I[w])}`).join("")}(I.parameters)}`}const $e=/^[^\/()?;=#]+/;function vt(I){const w=I.match($e);return w?w[0]:""}const Bt=/^[^=?&#]+/,un=/^[^&#]+/;class xn{constructor(w){this.url=w,this.remaining=w}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new X([],{}):new X([],this.parseChildren())}parseQueryParams(){const w={};if(this.consumeOptional("?"))do{this.parseQueryParam(w)}while(this.consumeOptional("&"));return w}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const w=[];for(this.peekStartsWith("(")||w.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),w.push(this.parseSegment());let _={};this.peekStartsWith("/(")&&(this.capture("/"),_=this.parseParens(!0));let A={};return this.peekStartsWith("(")&&(A=this.parseParens(!1)),(w.length>0||Object.keys(_).length>0)&&(A[Lt]=new X(w,_)),A}parseSegment(){const w=vt(this.remaining);if(""===w&&this.peekStartsWith(";"))throw new u.vHH(4009,!1);return this.capture(w),new He(be(w),this.parseMatrixParams())}parseMatrixParams(){const w={};for(;this.consumeOptional(";");)this.parseParam(w);return w}parseParam(w){const _=vt(this.remaining);if(!_)return;this.capture(_);let A="";if(this.consumeOptional("=")){const V=vt(this.remaining);V&&(A=V,this.capture(A))}w[be(_)]=be(A)}parseQueryParam(w){const _=function tn(I){const w=I.match(Bt);return w?w[0]:""}(this.remaining);if(!_)return;this.capture(_);let A="";if(this.consumeOptional("=")){const Pe=function $n(I){const w=I.match(un);return w?w[0]:""}(this.remaining);Pe&&(A=Pe,this.capture(A))}const V=ft(_),ie=ft(A);if(w.hasOwnProperty(V)){let Pe=w[V];Array.isArray(Pe)||(Pe=[Pe],w[V]=Pe),Pe.push(ie)}else w[V]=ie}parseParens(w){const _={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const A=vt(this.remaining),V=this.remaining[A.length];if("/"!==V&&")"!==V&&";"!==V)throw new u.vHH(4010,!1);let ie;A.indexOf(":")>-1?(ie=A.slice(0,A.indexOf(":")),this.capture(ie),this.capture(":")):w&&(ie=Lt);const Pe=this.parseChildren();_[ie]=1===Object.keys(Pe).length?Pe[Lt]:new X([],Pe),this.consumeOptional("//")}return _}peekStartsWith(w){return this.remaining.startsWith(w)}consumeOptional(w){return!!this.peekStartsWith(w)&&(this.remaining=this.remaining.substring(w.length),!0)}capture(w){if(!this.consumeOptional(w))throw new u.vHH(4011,!1)}}function cr(I){return I.segments.length>0?new X([],{[Lt]:I}):I}function _r(I){const w={};for(const A of Object.keys(I.children)){const ie=_r(I.children[A]);(ie.segments.length>0||ie.hasChildren())&&(w[A]=ie)}return function tr(I){if(1===I.numberOfChildren&&I.children[Lt]){const w=I.children[Lt];return new X(I.segments.concat(w.segments),w.children)}return I}(new X(I.segments,w))}function kr(I){return I instanceof Me}function ce(I,w,_,A,V){if(0===_.length)return G(w.root,w.root,w.root,A,V);const ie=function Ne(I){if("string"==typeof I[0]&&1===I.length&&"/"===I[0])return new ne(!0,0,I);let w=0,_=!1;const A=I.reduce((V,ie,Pe)=>{if("object"==typeof ie&&null!=ie){if(ie.outlets){const Ye={};return rn(ie.outlets,(Ft,pn)=>{Ye[pn]="string"==typeof Ft?Ft.split("/"):Ft}),[...V,{outlets:Ye}]}if(ie.segmentPath)return[...V,ie.segmentPath]}return"string"!=typeof ie?[...V,ie]:0===Pe?(ie.split("/").forEach((Ye,Ft)=>{0==Ft&&"."===Ye||(0==Ft&&""===Ye?_=!0:".."===Ye?w++:""!=Ye&&V.push(Ye))}),V):[...V,ie]},[]);return new ne(_,w,A)}(_);return ie.toRoot()?G(w.root,w.root,new X([],{}),A,V):function Pe(Ft){const pn=function Fe(I,w,_,A){if(I.isAbsolute)return new q(w.root,!0,0);if(-1===A)return new q(_,_===w.root,0);return function Qe(I,w,_){let A=I,V=w,ie=_;for(;ie>V;){if(ie-=V,A=A.parent,!A)throw new u.vHH(4005,!1);V=A.segments.length}return new q(A,!1,V-ie)}(_,A+(Xe(I.commands[0])?0:1),I.numberOfDoubleDots)}(ie,w,I.snapshot?._urlSegment,Ft),ir=pn.processChildren?Xt(pn.segmentGroup,pn.index,ie.commands):Ut(pn.segmentGroup,pn.index,ie.commands);return G(w.root,pn.segmentGroup,ir,A,V)}(I.snapshot?._lastPathIndex)}function Xe(I){return"object"==typeof I&&null!=I&&!I.outlets&&!I.segmentPath}function T(I){return"object"==typeof I&&null!=I&&I.outlets}function G(I,w,_,A,V){let Pe,ie={};A&&rn(A,(Ft,pn)=>{ie[pn]=Array.isArray(Ft)?Ft.map(ir=>`${ir}`):`${Ft}`}),Pe=I===w?_:te(I,w,_);const Ye=cr(_r(Pe));return new Me(Ye,ie,V)}function te(I,w,_){const A={};return rn(I.children,(V,ie)=>{A[ie]=V===w?_:te(V,w,_)}),new X(I.segments,A)}class ne{constructor(w,_,A){if(this.isAbsolute=w,this.numberOfDoubleDots=_,this.commands=A,w&&A.length>0&&Xe(A[0]))throw new u.vHH(4003,!1);const V=A.find(T);if(V&&V!==Dn(A))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class q{constructor(w,_,A){this.segmentGroup=w,this.processChildren=_,this.index=A}}function Ut(I,w,_){if(I||(I=new X([],{})),0===I.segments.length&&I.hasChildren())return Xt(I,w,_);const A=function dn(I,w,_){let A=0,V=w;const ie={match:!1,pathIndex:0,commandIndex:0};for(;V<I.segments.length;){if(A>=_.length)return ie;const Pe=I.segments[V],Ye=_[A];if(T(Ye))break;const Ft=`${Ye}`,pn=A<_.length-1?_[A+1]:null;if(V>0&&void 0===Ft)break;if(Ft&&pn&&"object"==typeof pn&&void 0===pn.outlets){if(!Br(Ft,pn,Pe))return ie;A+=2}else{if(!Br(Ft,{},Pe))return ie;A++}V++}return{match:!0,pathIndex:V,commandIndex:A}}(I,w,_),V=_.slice(A.commandIndex);if(A.match&&A.pathIndex<I.segments.length){const ie=new X(I.segments.slice(0,A.pathIndex),{});return ie.children[Lt]=new X(I.segments.slice(A.pathIndex),I.children),Xt(ie,0,V)}return A.match&&0===V.length?new X(I.segments,{}):A.match&&!I.hasChildren()?Rn(I,w,_):A.match?Xt(I,0,V):Rn(I,w,_)}function Xt(I,w,_){if(0===_.length)return new X(I.segments,{});{const A=function yt(I){return T(I[0])?I[0].outlets:{[Lt]:I}}(_),V={};return rn(A,(ie,Pe)=>{"string"==typeof ie&&(ie=[ie]),null!==ie&&(V[Pe]=Ut(I.children[Pe],w,ie))}),rn(I.children,(ie,Pe)=>{void 0===A[Pe]&&(V[Pe]=ie)}),new X(I.segments,V)}}function Rn(I,w,_){const A=I.segments.slice(0,w);let V=0;for(;V<_.length;){const ie=_[V];if(T(ie)){const Ft=jn(ie.outlets);return new X(A,Ft)}if(0===V&&Xe(_[0])){A.push(new He(I.segments[w].path,lr(_[0]))),V++;continue}const Pe=T(ie)?ie.outlets[Lt]:`${ie}`,Ye=V<_.length-1?_[V+1]:null;Pe&&Ye&&Xe(Ye)?(A.push(new He(Pe,lr(Ye))),V+=2):(A.push(new He(Pe,{})),V++)}return new X(A,{})}function jn(I){const w={};return rn(I,(_,A)=>{"string"==typeof _&&(_=[_]),null!==_&&(w[A]=Rn(new X([],{}),0,_))}),w}function lr(I){const w={};return rn(I,(_,A)=>w[A]=`${_}`),w}function Br(I,w,_){return I==_.path&&Et(w,_.parameters)}class wr{constructor(w,_){this.id=w,this.url=_}}class zi extends wr{constructor(w,_,A="imperative",V=null){super(w,_),this.type=0,this.navigationTrigger=A,this.restoredState=V}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class zr extends wr{constructor(w,_,A){super(w,_),this.urlAfterRedirects=A,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Gs extends wr{constructor(w,_,A,V){super(w,_),this.reason=A,this.code=V,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Zi extends wr{constructor(w,_,A,V){super(w,_),this.error=A,this.target=V,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class As extends wr{constructor(w,_,A,V){super(w,_),this.urlAfterRedirects=A,this.state=V,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class as extends wr{constructor(w,_,A,V){super(w,_),this.urlAfterRedirects=A,this.state=V,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pu extends wr{constructor(w,_,A,V,ie){super(w,_),this.urlAfterRedirects=A,this.state=V,this.shouldActivate=ie,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class jo extends wr{constructor(w,_,A,V){super(w,_),this.urlAfterRedirects=A,this.state=V,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class no extends wr{constructor(w,_,A,V){super(w,_),this.urlAfterRedirects=A,this.state=V,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xs{constructor(w){this.route=w,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bo{constructor(w){this.route=w,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class gu{constructor(w){this.snapshot=w,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class us{constructor(w){this.snapshot=w,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ua{constructor(w){this.snapshot=w,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xi{constructor(w){this.snapshot=w,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class di{constructor(w,_,A){this.routerEvent=w,this.position=_,this.anchor=A,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Bi{constructor(w){this._root=w}get root(){return this._root.value}parent(w){const _=this.pathFromRoot(w);return _.length>1?_[_.length-2]:null}children(w){const _=ro(w,this._root);return _?_.children.map(A=>A.value):[]}firstChild(w){const _=ro(w,this._root);return _&&_.children.length>0?_.children[0].value:null}siblings(w){const _=Yr(w,this._root);return _.length<2?[]:_[_.length-2].children.map(V=>V.value).filter(V=>V!==w)}pathFromRoot(w){return Yr(w,this._root).map(_=>_.value)}}function ro(I,w){if(I===w.value)return w;for(const _ of w.children){const A=ro(I,_);if(A)return A}return null}function Yr(I,w){if(I===w.value)return[w];for(const _ of w.children){const A=Yr(I,_);if(A.length)return A.unshift(w),A}return[]}class Vi{constructor(w,_){this.value=w,this.children=_}toString(){return`TreeNode(${this.value})`}}function Qi(I){const w={};return I&&I.children.forEach(_=>w[_.value.outlet]=_),w}class cs extends Bi{constructor(w,_){super(w),this.snapshot=_,Jr(this,w)}toString(){return this.snapshot.toString()}}function Ms(I,w){const _=function zs(I,w){const Pe=new ni([],{},{},"",{},Lt,w,null,I.root,-1,{});return new Ji("",new Vi(Pe,[]))}(I,w),A=new De.X([new He("",{})]),V=new De.X({}),ie=new De.X({}),Pe=new De.X({}),Ye=new De.X(""),Ft=new $i(A,V,Pe,Ye,ie,Lt,w,_.root);return Ft.snapshot=_.root,new cs(new Vi(Ft,[]),_)}class $i{constructor(w,_,A,V,ie,Pe,Ye,Ft){this.url=w,this.params=_,this.queryParams=A,this.fragment=V,this.data=ie,this.outlet=Pe,this.component=Ye,this.title=this.data?.pipe((0,Re.U)(pn=>pn[gn]))??(0,j.of)(void 0),this._futureSnapshot=Ft}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Re.U)(w=>we(w)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Re.U)(w=>we(w)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Rs(I,w="emptyOnly"){const _=I.pathFromRoot;let A=0;if("always"!==w)for(A=_.length-1;A>=1;){const V=_[A],ie=_[A-1];if(V.routeConfig&&""===V.routeConfig.path)A--;else{if(ie.component)break;A--}}return function wo(I){return I.reduce((w,_)=>({params:{...w.params,..._.params},data:{...w.data,..._.data},resolve:{..._.data,...w.resolve,..._.routeConfig?.data,..._._resolvedData}}),{params:{},data:{},resolve:{}})}(_.slice(A))}class ni{constructor(w,_,A,V,ie,Pe,Ye,Ft,pn,ir,Pn,Tr){this.url=w,this.params=_,this.queryParams=A,this.fragment=V,this.data=ie,this.outlet=Pe,this.component=Ye,this.title=this.data?.[gn],this.routeConfig=Ft,this._urlSegment=pn,this._lastPathIndex=ir,this._correctedLastPathIndex=Tr??ir,this._resolve=Pn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=we(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=we(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(A=>A.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ji extends Bi{constructor(w,_){super(_),this.url=w,Jr(this,_)}toString(){return Ws(this._root)}}function Jr(I,w){w.value._routerState=I,w.children.forEach(_=>Jr(I,_))}function Ws(I){const w=I.children.length>0?` { ${I.children.map(Ws).join(", ")} } `:"";return`${I.value}${w}`}function ls(I){if(I.snapshot){const w=I.snapshot,_=I._futureSnapshot;I.snapshot=_,Et(w.queryParams,_.queryParams)||I.queryParams.next(_.queryParams),w.fragment!==_.fragment&&I.fragment.next(_.fragment),Et(w.params,_.params)||I.params.next(_.params),function ze(I,w){if(I.length!==w.length)return!1;for(let _=0;_<I.length;++_)if(!Et(I[_],w[_]))return!1;return!0}(w.url,_.url)||I.url.next(_.url),Et(w.data,_.data)||I.data.next(_.data)}else I.snapshot=I._futureSnapshot,I.data.next(I._futureSnapshot.data)}function Ur(I,w){const _=Et(I.params,w.params)&&function ke(I,w){return Pt(I,w)&&I.every((_,A)=>Et(_.parameters,w[A].parameters))}(I.url,w.url);return _&&!(!I.parent!=!w.parent)&&(!I.parent||Ur(I.parent,w.parent))}function Os(I,w,_){if(_&&I.shouldReuseRoute(w.value,_.value.snapshot)){const A=_.value;A._futureSnapshot=w.value;const V=function Pr(I,w,_){return w.children.map(A=>{for(const V of _.children)if(I.shouldReuseRoute(A.value,V.value.snapshot))return Os(I,A,V);return Os(I,A)})}(I,w,_);return new Vi(A,V)}{if(I.shouldAttach(w.value)){const ie=I.retrieve(w.value);if(null!==ie){const Pe=ie.route;return Pe.value._futureSnapshot=w.value,Pe.children=w.children.map(Ye=>Os(I,Ye)),Pe}}const A=function Ps(I){return new $i(new De.X(I.url),new De.X(I.params),new De.X(I.queryParams),new De.X(I.fragment),new De.X(I.data),I.outlet,I.component,I)}(w.value),V=w.children.map(ie=>Os(I,ie));return new Vi(A,V)}}const io="ngNavigationCancelingError";function Sr(I,w){const{redirectTo:_,navigationBehaviorOptions:A}=kr(w)?{redirectTo:w,navigationBehaviorOptions:void 0}:w,V=jr(!1,0,w);return V.url=_,V.navigationBehaviorOptions=A,V}function jr(I,w,_){const A=new Error("NavigationCancelingError: "+(I||""));return A[io]=!0,A.cancellationCode=w,_&&(A.url=_),A}function es(I){return Wi(I)&&kr(I.url)}function Wi(I){return I&&I[io]}class Ki{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Rr,this.attachRef=null}}let Rr=(()=>{class I{constructor(){this.contexts=new Map}onChildOutletCreated(_,A){const V=this.getOrCreateContext(_);V.outlet=A,this.contexts.set(_,V)}onChildOutletDestroyed(_){const A=this.getContext(_);A&&(A.outlet=null,A.attachRef=null)}onOutletDeactivated(){const _=this.contexts;return this.contexts=new Map,_}onOutletReAttached(_){this.contexts=_}getOrCreateContext(_){let A=this.getContext(_);return A||(A=new Ki,this.contexts.set(_,A)),A}getContext(_){return this.contexts.get(_)||null}}return I.\u0275fac=function(_){return new(_||I)},I.\u0275prov=u.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();const ts=!1;let hs=(()=>{class I{constructor(_,A,V,ie,Pe){this.parentContexts=_,this.location=A,this.changeDetector=ie,this.environmentInjector=Pe,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=V||Lt,_.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const _=this.parentContexts.getContext(this.name);_&&_.route&&(_.attachRef?this.attach(_.attachRef,_.route):this.activateWith(_.route,_.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,ts);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,ts);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,ts);this.location.detach();const _=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(_.instance),_}attach(_,A){this.activated=_,this._activatedRoute=A,this.location.insert(_.hostView),this.attachEvents.emit(_.instance)}deactivate(){if(this.activated){const _=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(_)}}activateWith(_,A){if(this.isActivated)throw new u.vHH(4013,ts);this._activatedRoute=_;const V=this.location,Pe=_._futureSnapshot.component,Ye=this.parentContexts.getOrCreateContext(this.name).children,Ft=new Ho(_,Ye,V.injector);if(A&&function hi(I){return!!I.resolveComponentFactory}(A)){const pn=A.resolveComponentFactory(Pe);this.activated=V.createComponent(pn,V.length,Ft)}else this.activated=V.createComponent(Pe,{index:V.length,injector:Ft,environmentInjector:A??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return I.\u0275fac=function(_){return new(_||I)(u.Y36(Rr),u.Y36(u.s_b),u.$8M("name"),u.Y36(u.sBO),u.Y36(u.lqb))},I.\u0275dir=u.lG2({type:I,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),I})();class Ho{constructor(w,_,A){this.route=w,this.childContexts=_,this.parent=A}get(w,_){return w===$i?this.route:w===Rr?this.childContexts:this.parent.get(w,_)}}let fs=(()=>{class I{}return I.\u0275fac=function(_){return new(_||I)},I.\u0275cmp=u.Xpm({type:I,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(_,A){1&_&&u._UZ(0,"router-outlet")},dependencies:[hs],encapsulation:2}),I})();function Ks(I,w){return I.providers&&!I._injector&&(I._injector=(0,u.MMx)(I.providers,w,`Route: ${I.path}`)),I._injector??w}function oo(I){const w=I.children&&I.children.map(oo),_=w?{...I,children:w}:{...I};return!_.component&&!_.loadComponent&&(w||_.loadChildren)&&_.outlet&&_.outlet!==Lt&&(_.component=fs),_}function Gt(I){return I.outlet||Lt}function dr(I,w){const _=I.filter(A=>Gt(A)===w);return _.push(...I.filter(A=>Gt(A)!==w)),_}function ao(I){if(!I)return null;if(I.routeConfig?._injector)return I.routeConfig._injector;for(let w=I.parent;w;w=w.parent){const _=w.routeConfig;if(_?._loadedInjector)return _._loadedInjector;if(_?._injector)return _._injector}return null}class B{constructor(w,_,A,V){this.routeReuseStrategy=w,this.futureState=_,this.currState=A,this.forwardEvent=V}activate(w){const _=this.futureState._root,A=this.currState?this.currState._root:null;this.deactivateChildRoutes(_,A,w),ls(this.futureState.root),this.activateChildRoutes(_,A,w)}deactivateChildRoutes(w,_,A){const V=Qi(_);w.children.forEach(ie=>{const Pe=ie.value.outlet;this.deactivateRoutes(ie,V[Pe],A),delete V[Pe]}),rn(V,(ie,Pe)=>{this.deactivateRouteAndItsChildren(ie,A)})}deactivateRoutes(w,_,A){const V=w.value,ie=_?_.value:null;if(V===ie)if(V.component){const Pe=A.getContext(V.outlet);Pe&&this.deactivateChildRoutes(w,_,Pe.children)}else this.deactivateChildRoutes(w,_,A);else ie&&this.deactivateRouteAndItsChildren(_,A)}deactivateRouteAndItsChildren(w,_){w.value.component&&this.routeReuseStrategy.shouldDetach(w.value.snapshot)?this.detachAndStoreRouteSubtree(w,_):this.deactivateRouteAndOutlet(w,_)}detachAndStoreRouteSubtree(w,_){const A=_.getContext(w.value.outlet),V=A&&w.value.component?A.children:_,ie=Qi(w);for(const Pe of Object.keys(ie))this.deactivateRouteAndItsChildren(ie[Pe],V);if(A&&A.outlet){const Pe=A.outlet.detach(),Ye=A.children.onOutletDeactivated();this.routeReuseStrategy.store(w.value.snapshot,{componentRef:Pe,route:w,contexts:Ye})}}deactivateRouteAndOutlet(w,_){const A=_.getContext(w.value.outlet),V=A&&w.value.component?A.children:_,ie=Qi(w);for(const Pe of Object.keys(ie))this.deactivateRouteAndItsChildren(ie[Pe],V);A&&A.outlet&&(A.outlet.deactivate(),A.children.onOutletDeactivated(),A.attachRef=null,A.resolver=null,A.route=null)}activateChildRoutes(w,_,A){const V=Qi(_);w.children.forEach(ie=>{this.activateRoutes(ie,V[ie.value.outlet],A),this.forwardEvent(new Xi(ie.value.snapshot))}),w.children.length&&this.forwardEvent(new us(w.value.snapshot))}activateRoutes(w,_,A){const V=w.value,ie=_?_.value:null;if(ls(V),V===ie)if(V.component){const Pe=A.getOrCreateContext(V.outlet);this.activateChildRoutes(w,_,Pe.children)}else this.activateChildRoutes(w,_,A);else if(V.component){const Pe=A.getOrCreateContext(V.outlet);if(this.routeReuseStrategy.shouldAttach(V.snapshot)){const Ye=this.routeReuseStrategy.retrieve(V.snapshot);this.routeReuseStrategy.store(V.snapshot,null),Pe.children.onOutletReAttached(Ye.contexts),Pe.attachRef=Ye.componentRef,Pe.route=Ye.route.value,Pe.outlet&&Pe.outlet.attach(Ye.componentRef,Ye.route.value),ls(Ye.route.value),this.activateChildRoutes(w,null,Pe.children)}else{const Ye=ao(V.snapshot),Ft=Ye?.get(u._Vd)??null;Pe.attachRef=null,Pe.route=V,Pe.resolver=Ft,Pe.injector=Ye,Pe.outlet&&Pe.outlet.activateWith(V,Pe.injector),this.activateChildRoutes(w,null,Pe.children)}}else this.activateChildRoutes(w,null,A)}}class L{constructor(w){this.path=w,this.route=this.path[this.path.length-1]}}class R{constructor(w,_){this.component=w,this.route=_}}function f(I,w,_){const A=I._root;return k(A,w?w._root:null,_,[A.value])}function y(I,w){const _=Symbol(),A=w.get(I,_);return A===_?"function"!=typeof I||(0,u.Z0I)(I)?w.get(I):I:A}function k(I,w,_,A,V={canDeactivateChecks:[],canActivateChecks:[]}){const ie=Qi(w);return I.children.forEach(Pe=>{(function de(I,w,_,A,V={canDeactivateChecks:[],canActivateChecks:[]}){const ie=I.value,Pe=w?w.value:null,Ye=_?_.getContext(I.value.outlet):null;if(Pe&&ie.routeConfig===Pe.routeConfig){const Ft=function At(I,w,_){if("function"==typeof _)return _(I,w);switch(_){case"pathParamsChange":return!Pt(I.url,w.url);case"pathParamsOrQueryParamsChange":return!Pt(I.url,w.url)||!Et(I.queryParams,w.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ur(I,w)||!Et(I.queryParams,w.queryParams);default:return!Ur(I,w)}}(Pe,ie,ie.routeConfig.runGuardsAndResolvers);Ft?V.canActivateChecks.push(new L(A)):(ie.data=Pe.data,ie._resolvedData=Pe._resolvedData),k(I,w,ie.component?Ye?Ye.children:null:_,A,V),Ft&&Ye&&Ye.outlet&&Ye.outlet.isActivated&&V.canDeactivateChecks.push(new R(Ye.outlet.component,Pe))}else Pe&&en(w,Ye,V),V.canActivateChecks.push(new L(A)),k(I,null,ie.component?Ye?Ye.children:null:_,A,V)})(Pe,ie[Pe.value.outlet],_,A.concat([Pe.value]),V),delete ie[Pe.value.outlet]}),rn(ie,(Pe,Ye)=>en(Pe,_.getContext(Ye),V)),V}function en(I,w,_){const A=Qi(I),V=I.value;rn(A,(ie,Pe)=>{en(ie,V.component?w?w.children.getContext(Pe):null:w,_)}),_.canDeactivateChecks.push(new R(V.component&&w&&w.outlet&&w.outlet.isActivated?w.outlet.component:null,V))}function cn(I){return"function"==typeof I}function rs(I){return I instanceof Ce.K||"EmptyError"===I?.name}const la=Symbol("INITIAL_VALUE");function uo(){return(0,he.w)(I=>je(I.map(w=>w.pipe((0,re.q)(1),(0,Y.O)(la)))).pipe((0,Re.U)(w=>{for(const _ of w)if(!0!==_){if(_===la)return la;if(!1===_||_ instanceof Me)return _}return!0}),(0,J.h)(w=>w!==la),(0,re.q)(1)))}function On(I){return(0,Ue.z)((0,rt.b)(w=>{if(kr(w))throw Sr(0,w)}),(0,Re.U)(w=>!0===w))}const rr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function hr(I,w,_,A,V){const ie=Un(I,w,_);return ie.matched?function Cr(I,w,_,A){const V=w.canMatch;if(!V||0===V.length)return(0,j.of)(!0);const ie=V.map(Pe=>{const Ye=y(Pe,I);return Tn(function ns(I){return I&&cn(I.canMatch)}(Ye)?Ye.canMatch(w,_):I.runInContext(()=>Ye(w,_)))});return(0,j.of)(ie).pipe(uo(),On())}(A=Ks(w,A),w,_).pipe((0,Re.U)(Pe=>!0===Pe?ie:{...rr})):(0,j.of)(ie)}function Un(I,w,_){if(""===w.path)return"full"===w.pathMatch&&(I.hasChildren()||_.length>0)?{...rr}:{matched:!0,consumedSegments:[],remainingSegments:_,parameters:{},positionalParamSegments:{}};const V=(w.matcher||xe)(_,I,w);if(!V)return{...rr};const ie={};rn(V.posParams,(Ye,Ft)=>{ie[Ft]=Ye.path});const Pe=V.consumed.length>0?{...ie,...V.consumed[V.consumed.length-1].parameters}:ie;return{matched:!0,consumedSegments:V.consumed,remainingSegments:_.slice(V.consumed.length),parameters:Pe,positionalParamSegments:V.posParams??{}}}function qr(I,w,_,A,V="corrected"){if(_.length>0&&function zo(I,w,_){return _.some(A=>Zs(I,w,A)&&Gt(A)!==Lt)}(I,_,A)){const Pe=new X(w,function gi(I,w,_,A){const V={};V[Lt]=A,A._sourceSegment=I,A._segmentIndexShift=w.length;for(const ie of _)if(""===ie.path&&Gt(ie)!==Lt){const Pe=new X([],{});Pe._sourceSegment=I,Pe._segmentIndexShift=w.length,V[Gt(ie)]=Pe}return V}(I,w,A,new X(_,I.children)));return Pe._sourceSegment=I,Pe._segmentIndexShift=w.length,{segmentGroup:Pe,slicedSegments:[]}}if(0===_.length&&function qs(I,w,_){return _.some(A=>Zs(I,w,A))}(I,_,A)){const Pe=new X(I.segments,function Nr(I,w,_,A,V,ie){const Pe={};for(const Ye of A)if(Zs(I,_,Ye)&&!V[Gt(Ye)]){const Ft=new X([],{});Ft._sourceSegment=I,Ft._segmentIndexShift="legacy"===ie?I.segments.length:w.length,Pe[Gt(Ye)]=Ft}return{...V,...Pe}}(I,w,_,A,I.children,V));return Pe._sourceSegment=I,Pe._segmentIndexShift=w.length,{segmentGroup:Pe,slicedSegments:_}}const ie=new X(I.segments,I.children);return ie._sourceSegment=I,ie._segmentIndexShift=w.length,{segmentGroup:ie,slicedSegments:_}}function Zs(I,w,_){return(!(I.hasChildren()||w.length>0)||"full"!==_.pathMatch)&&""===_.path}function ps(I,w,_,A){return!!(Gt(I)===A||A!==Lt&&Zs(w,_,I))&&("**"===I.path||Un(w,I,_).matched)}function Do(I,w,_){return 0===w.length&&!I.children[_]}const is=!1;class wi{constructor(w){this.segmentGroup=w||null}}class mu{constructor(w){this.urlTree=w}}function Co(I){return(0,dt._)(new wi(I))}function co(I){return(0,dt._)(new mu(I))}class da{constructor(w,_,A,V,ie){this.injector=w,this.configLoader=_,this.urlSerializer=A,this.urlTree=V,this.config=ie,this.allowRedirects=!0}apply(){const w=qr(this.urlTree.root,[],[],this.config).segmentGroup,_=new X(w.segments,w.children);return this.expandSegmentGroup(this.injector,this.config,_,Lt).pipe((0,Re.U)(ie=>this.createUrlTree(_r(ie),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Ge.K)(ie=>{if(ie instanceof mu)return this.allowRedirects=!1,this.match(ie.urlTree);throw ie instanceof wi?this.noMatchError(ie):ie}))}match(w){return this.expandSegmentGroup(this.injector,this.config,w.root,Lt).pipe((0,Re.U)(V=>this.createUrlTree(_r(V),w.queryParams,w.fragment))).pipe((0,Ge.K)(V=>{throw V instanceof wi?this.noMatchError(V):V}))}noMatchError(w){return new u.vHH(4002,is)}createUrlTree(w,_,A){const V=cr(w);return new Me(V,_,A)}expandSegmentGroup(w,_,A,V){return 0===A.segments.length&&A.hasChildren()?this.expandChildren(w,_,A).pipe((0,Re.U)(ie=>new X([],ie))):this.expandSegment(w,A,_,A.segments,V,!0)}expandChildren(w,_,A){const V=[];for(const ie of Object.keys(A.children))"primary"===ie?V.unshift(ie):V.push(ie);return(0,F.D)(V).pipe((0,wt.b)(ie=>{const Pe=A.children[ie],Ye=dr(_,ie);return this.expandSegmentGroup(w,Ye,Pe,ie).pipe((0,Re.U)(Ft=>({segment:Ft,outlet:ie})))}),(0,Ze.R)((ie,Pe)=>(ie[Pe.outlet]=Pe.segment,ie),{}),bn())}expandSegment(w,_,A,V,ie,Pe){return(0,F.D)(A).pipe((0,wt.b)(Ye=>this.expandSegmentAgainstRoute(w,_,A,Ye,V,ie,Pe).pipe((0,Ge.K)(pn=>{if(pn instanceof wi)return(0,j.of)(null);throw pn}))),(0,ot.P)(Ye=>!!Ye),(0,Ge.K)((Ye,Ft)=>{if(rs(Ye))return Do(_,V,ie)?(0,j.of)(new X([],{})):Co(_);throw Ye}))}expandSegmentAgainstRoute(w,_,A,V,ie,Pe,Ye){return ps(V,_,ie,Pe)?void 0===V.redirectTo?this.matchSegmentAgainstRoute(w,_,V,ie,Pe):Ye&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(w,_,A,V,ie,Pe):Co(_):Co(_)}expandSegmentAgainstRouteUsingRedirect(w,_,A,V,ie,Pe){return"**"===V.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(w,A,V,Pe):this.expandRegularSegmentAgainstRouteUsingRedirect(w,_,A,V,ie,Pe)}expandWildCardWithParamsAgainstRouteUsingRedirect(w,_,A,V){const ie=this.applyRedirectCommands([],A.redirectTo,{});return A.redirectTo.startsWith("/")?co(ie):this.lineralizeSegments(A,ie).pipe((0,Ke.zg)(Pe=>{const Ye=new X(Pe,{});return this.expandSegment(w,Ye,_,Pe,V,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(w,_,A,V,ie,Pe){const{matched:Ye,consumedSegments:Ft,remainingSegments:pn,positionalParamSegments:ir}=Un(_,V,ie);if(!Ye)return Co(_);const Pn=this.applyRedirectCommands(Ft,V.redirectTo,ir);return V.redirectTo.startsWith("/")?co(Pn):this.lineralizeSegments(V,Pn).pipe((0,Ke.zg)(Tr=>this.expandSegment(w,_,A,Tr.concat(pn),Pe,!1)))}matchSegmentAgainstRoute(w,_,A,V,ie){return"**"===A.path?(w=Ks(A,w),A.loadChildren?(A._loadedRoutes?(0,j.of)({routes:A._loadedRoutes,injector:A._loadedInjector}):this.configLoader.loadChildren(w,A)).pipe((0,Re.U)(Ye=>(A._loadedRoutes=Ye.routes,A._loadedInjector=Ye.injector,new X(V,{})))):(0,j.of)(new X(V,{}))):hr(_,A,V,w).pipe((0,he.w)(({matched:Pe,consumedSegments:Ye,remainingSegments:Ft})=>Pe?this.getChildConfig(w=A._injector??w,A,V).pipe((0,Ke.zg)(ir=>{const Pn=ir.injector??w,Tr=ir.routes,{segmentGroup:ki,slicedSegments:fo}=qr(_,Ye,Ft,Tr),Es=new X(ki.segments,ki.children);if(0===fo.length&&Es.hasChildren())return this.expandChildren(Pn,Tr,Es).pipe((0,Re.U)(Jo=>new X(Ye,Jo)));if(0===Tr.length&&0===fo.length)return(0,j.of)(new X(Ye,{}));const si=Gt(A)===ie;return this.expandSegment(Pn,Es,Tr,fo,si?Lt:ie,!0).pipe((0,Re.U)($r=>new X(Ye.concat($r.segments),$r.children)))})):Co(_)))}getChildConfig(w,_,A){return _.children?(0,j.of)({routes:_.children,injector:w}):_.loadChildren?void 0!==_._loadedRoutes?(0,j.of)({routes:_._loadedRoutes,injector:_._loadedInjector}):function Kt(I,w,_,A){const V=w.canLoad;if(void 0===V||0===V.length)return(0,j.of)(!0);const ie=V.map(Pe=>{const Ye=y(Pe,I);return Tn(function yr(I){return I&&cn(I.canLoad)}(Ye)?Ye.canLoad(w,_):I.runInContext(()=>Ye(w,_)))});return(0,j.of)(ie).pipe(uo(),On())}(w,_,A).pipe((0,Ke.zg)(V=>V?this.configLoader.loadChildren(w,_).pipe((0,rt.b)(ie=>{_._loadedRoutes=ie.routes,_._loadedInjector=ie.injector})):function wh(I){return(0,dt._)(jr(is,3))}())):(0,j.of)({routes:[],injector:w})}lineralizeSegments(w,_){let A=[],V=_.root;for(;;){if(A=A.concat(V.segments),0===V.numberOfChildren)return(0,j.of)(A);if(V.numberOfChildren>1||!V.children[Lt])return(0,dt._)(new u.vHH(4e3,is));V=V.children[Lt]}}applyRedirectCommands(w,_,A){return this.applyRedirectCreateUrlTree(_,this.urlSerializer.parse(_),w,A)}applyRedirectCreateUrlTree(w,_,A,V){const ie=this.createSegmentGroup(w,_.root,A,V);return new Me(ie,this.createQueryParams(_.queryParams,this.urlTree.queryParams),_.fragment)}createQueryParams(w,_){const A={};return rn(w,(V,ie)=>{if("string"==typeof V&&V.startsWith(":")){const Ye=V.substring(1);A[ie]=_[Ye]}else A[ie]=V}),A}createSegmentGroup(w,_,A,V){const ie=this.createSegments(w,_.segments,A,V);let Pe={};return rn(_.children,(Ye,Ft)=>{Pe[Ft]=this.createSegmentGroup(w,Ye,A,V)}),new X(ie,Pe)}createSegments(w,_,A,V){return _.map(ie=>ie.path.startsWith(":")?this.findPosParam(w,ie,V):this.findOrReturn(ie,A))}findPosParam(w,_,A){const V=A[_.path.substring(1)];if(!V)throw new u.vHH(4001,is);return V}findOrReturn(w,_){let A=0;for(const V of _){if(V.path===w.path)return _.splice(A),V;A++}return w}}class Jl{}class Vn{constructor(w,_,A,V,ie,Pe,Ye,Ft){this.injector=w,this.rootComponentType=_,this.config=A,this.urlTree=V,this.url=ie,this.paramsInheritanceStrategy=Pe,this.relativeLinkResolution=Ye,this.urlSerializer=Ft}recognize(){const w=qr(this.urlTree.root,[],[],this.config.filter(_=>void 0===_.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,w,Lt).pipe((0,Re.U)(_=>{if(null===_)return null;const A=new ni([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Lt,this.rootComponentType,null,this.urlTree.root,-1,{}),V=new Vi(A,_),ie=new Ji(this.url,V);return this.inheritParamsAndData(ie._root),ie}))}inheritParamsAndData(w){const _=w.value,A=Rs(_,this.paramsInheritanceStrategy);_.params=Object.freeze(A.params),_.data=Object.freeze(A.data),w.children.forEach(V=>this.inheritParamsAndData(V))}processSegmentGroup(w,_,A,V){return 0===A.segments.length&&A.hasChildren()?this.processChildren(w,_,A):this.processSegment(w,_,A,A.segments,V)}processChildren(w,_,A){return(0,F.D)(Object.keys(A.children)).pipe((0,wt.b)(V=>{const ie=A.children[V],Pe=dr(_,V);return this.processSegmentGroup(w,Pe,ie,V)}),(0,Ze.R)((V,ie)=>V&&ie?(V.push(...ie),V):null),function vn(I,w=!1){return _=>_.lift(new Ln(I,w))}(V=>null!==V),(0,Vt.d)(null),bn(),(0,Re.U)(V=>{if(null===V)return null;const ie=gs(V);return function Gc(I){I.sort((w,_)=>w.value.outlet===Lt?-1:_.value.outlet===Lt?1:w.value.outlet.localeCompare(_.value.outlet))}(ie),ie}))}processSegment(w,_,A,V,ie){return(0,F.D)(_).pipe((0,wt.b)(Pe=>this.processSegmentAgainstRoute(Pe._injector??w,Pe,A,V,ie)),(0,ot.P)(Pe=>!!Pe),(0,Ge.K)(Pe=>{if(rs(Pe))return Do(A,V,ie)?(0,j.of)([]):(0,j.of)(null);throw Pe}))}processSegmentAgainstRoute(w,_,A,V,ie){if(_.redirectTo||!ps(_,A,V,ie))return(0,j.of)(null);let Pe;if("**"===_.path){const Ye=V.length>0?Dn(V).parameters:{},Ft=Ko(A)+V.length,pn=new ni(V,Ye,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ei(_),Gt(_),_.component??_._loadedComponent??null,_,ha(A),Ft,_u(_),Ft);Pe=(0,j.of)({snapshot:pn,consumedSegments:[],remainingSegments:[]})}else Pe=hr(A,_,V,w).pipe((0,Re.U)(({matched:Ye,consumedSegments:Ft,remainingSegments:pn,parameters:ir})=>{if(!Ye)return null;const Pn=Ko(A)+Ft.length;return{snapshot:new ni(Ft,ir,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ei(_),Gt(_),_.component??_._loadedComponent??null,_,ha(A),Pn,_u(_),Pn),consumedSegments:Ft,remainingSegments:pn}}));return Pe.pipe((0,he.w)(Ye=>{if(null===Ye)return(0,j.of)(null);const{snapshot:Ft,consumedSegments:pn,remainingSegments:ir}=Ye;w=_._injector??w;const Pn=_._loadedInjector??w,Tr=function er(I){return I.children?I.children:I.loadChildren?I._loadedRoutes:[]}(_),{segmentGroup:ki,slicedSegments:fo}=qr(A,pn,ir,Tr.filter(si=>void 0===si.redirectTo),this.relativeLinkResolution);if(0===fo.length&&ki.hasChildren())return this.processChildren(Pn,Tr,ki).pipe((0,Re.U)(si=>null===si?null:[new Vi(Ft,si)]));if(0===Tr.length&&0===fo.length)return(0,j.of)([new Vi(Ft,[])]);const Es=Gt(_)===ie;return this.processSegment(Pn,Tr,ki,fo,Es?Lt:ie).pipe((0,Re.U)(si=>null===si?null:[new Vi(Ft,si)]))}))}}function $a(I){const w=I.value.routeConfig;return w&&""===w.path&&void 0===w.redirectTo}function gs(I){const w=[],_=new Set;for(const A of I){if(!$a(A)){w.push(A);continue}const V=w.find(ie=>A.value.routeConfig===ie.value.routeConfig);void 0!==V?(V.children.push(...A.children),_.add(V)):w.push(A)}for(const A of _){const V=gs(A.children);w.push(new Vi(A.value,V))}return w.filter(A=>!_.has(A))}function ha(I){let w=I;for(;w._sourceSegment;)w=w._sourceSegment;return w}function Ko(I){let w=I,_=w._segmentIndexShift??0;for(;w._sourceSegment;)w=w._sourceSegment,_+=w._segmentIndexShift??0;return _-1}function ei(I){return I.data||{}}function _u(I){return I.resolve||{}}function qo(I){return"string"==typeof I.title||null===I.title}function So(I){return(0,he.w)(w=>{const _=I(w);return _?(0,F.D)(_).pipe((0,Re.U)(()=>w)):(0,j.of)(w)})}let li=(()=>{class I{buildTitle(_){let A,V=_.root;for(;void 0!==V;)A=this.getResolvedTitleForRoute(V)??A,V=V.children.find(ie=>ie.outlet===Lt);return A}getResolvedTitleForRoute(_){return _.data[gn]}}return I.\u0275fac=function(_){return new(_||I)},I.\u0275prov=u.Yz7({token:I,factory:function(){return(0,u.f3M)(To)},providedIn:"root"}),I})(),To=(()=>{class I extends li{constructor(_){super(),this.title=_}updateTitle(_){const A=this.buildTitle(_);void 0!==A&&this.title.setTitle(A)}}return I.\u0275fac=function(_){return new(_||I)(u.LFG(Wn.Dx))},I.\u0275prov=u.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();class Wc{}class Ha extends class ja{shouldDetach(w){return!1}store(w,_){}shouldAttach(w){return!1}retrieve(w){return null}shouldReuseRoute(w,_){return w.routeConfig===_.routeConfig}}{}const pa=new u.OlP("",{providedIn:"root",factory:()=>({})}),ga=new u.OlP("ROUTES");let Ls=(()=>{class I{constructor(_,A){this.injector=_,this.compiler=A,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(_){if(this.componentLoaders.get(_))return this.componentLoaders.get(_);if(_._loadedComponent)return(0,j.of)(_._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(_);const A=Tn(_.loadComponent()).pipe((0,rt.b)(ie=>{this.onLoadEndListener&&this.onLoadEndListener(_),_._loadedComponent=ie}),_n(()=>{this.componentLoaders.delete(_)})),V=new qe.c(A,()=>new nt.xQ).pipe((0,Zn.x)());return this.componentLoaders.set(_,V),V}loadChildren(_,A){if(this.childrenLoaders.get(A))return this.childrenLoaders.get(A);if(A._loadedRoutes)return(0,j.of)({routes:A._loadedRoutes,injector:A._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(A);const ie=this.loadModuleFactoryOrRoutes(A.loadChildren).pipe((0,Re.U)(Ye=>{this.onLoadEndListener&&this.onLoadEndListener(A);let Ft,pn,ir=!1;Array.isArray(Ye)?pn=Ye:(Ft=Ye.create(_).injector,pn=on(Ft.get(ga,[],u.XFs.Self|u.XFs.Optional)));return{routes:pn.map(oo),injector:Ft}}),_n(()=>{this.childrenLoaders.delete(A)})),Pe=new qe.c(ie,()=>new nt.xQ).pipe((0,Zn.x)());return this.childrenLoaders.set(A,Pe),Pe}loadModuleFactoryOrRoutes(_){return Tn(_()).pipe((0,Ke.zg)(A=>A instanceof u.YKP||Array.isArray(A)?(0,j.of)(A):(0,F.D)(this.compiler.compileModuleAsync(A))))}}return I.\u0275fac=function(_){return new(_||I)(u.LFG(u.zs3),u.LFG(u.Sil))},I.\u0275prov=u.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();class ed{}class Kc{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,_){return w}}function Ga(I){throw I}function td(I,w,_){return w.parse("/")}const bu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ma={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function za(){const I=(0,u.f3M)(Be),w=(0,u.f3M)(Rr),_=(0,u.f3M)(ge.Ye),A=(0,u.f3M)(u.zs3),V=(0,u.f3M)(u.Sil),ie=(0,u.f3M)(ga,{optional:!0})??[],Pe=(0,u.f3M)(pa,{optional:!0})??{},Ye=(0,u.f3M)(To),Ft=(0,u.f3M)(li,{optional:!0}),pn=(0,u.f3M)(ed,{optional:!0}),ir=(0,u.f3M)(Wc,{optional:!0}),Pn=new ri(null,I,w,_,A,V,on(ie));return pn&&(Pn.urlHandlingStrategy=pn),ir&&(Pn.routeReuseStrategy=ir),Pn.titleStrategy=Ft??Ye,function Yc(I,w){I.errorHandler&&(w.errorHandler=I.errorHandler),I.malformedUriErrorHandler&&(w.malformedUriErrorHandler=I.malformedUriErrorHandler),I.onSameUrlNavigation&&(w.onSameUrlNavigation=I.onSameUrlNavigation),I.paramsInheritanceStrategy&&(w.paramsInheritanceStrategy=I.paramsInheritanceStrategy),I.relativeLinkResolution&&(w.relativeLinkResolution=I.relativeLinkResolution),I.urlUpdateStrategy&&(w.urlUpdateStrategy=I.urlUpdateStrategy),I.canceledNavigationResolution&&(w.canceledNavigationResolution=I.canceledNavigationResolution)}(Pe,Pn),Pn}let ri=(()=>{class I{constructor(_,A,V,ie,Pe,Ye,Ft){this.rootComponentType=_,this.urlSerializer=A,this.rootContexts=V,this.location=ie,this.config=Ft,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new nt.xQ,this.errorHandler=Ga,this.malformedUriErrorHandler=td,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,j.of)(void 0),this.urlHandlingStrategy=new Kc,this.routeReuseStrategy=new Ha,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=Pe.get(Ls),this.configLoader.onLoadEndListener=Tr=>this.triggerEvent(new bo(Tr)),this.configLoader.onLoadStartListener=Tr=>this.triggerEvent(new xs(Tr)),this.ngModule=Pe.get(u.h0i),this.console=Pe.get(u.c2e);const Pn=Pe.get(u.R0b);this.isNgZoneEnabled=Pn instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(Ft),this.currentUrlTree=function Sn(){return new Me(new X([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ms(this.currentUrlTree,this.rootComponentType),this.transitions=new De.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(_){const A=this.events;return _.pipe((0,J.h)(V=>0!==V.id),(0,Re.U)(V=>({...V,extractedUrl:this.urlHandlingStrategy.extract(V.rawUrl)})),(0,he.w)(V=>{let ie=!1,Pe=!1;return(0,j.of)(V).pipe((0,rt.b)(Ye=>{this.currentNavigation={id:Ye.id,initialUrl:Ye.rawUrl,extractedUrl:Ye.extractedUrl,trigger:Ye.source,extras:Ye.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,he.w)(Ye=>{const Ft=this.browserUrlTree.toString(),pn=!this.navigated||Ye.extractedUrl.toString()!==Ft||Ft!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||pn)&&this.urlHandlingStrategy.shouldProcessUrl(Ye.rawUrl))return xo(Ye.source)&&(this.browserUrlTree=Ye.extractedUrl),(0,j.of)(Ye).pipe((0,he.w)(Pn=>{const Tr=this.transitions.getValue();return A.next(new zi(Pn.id,this.serializeUrl(Pn.extractedUrl),Pn.source,Pn.restoredState)),Tr!==this.transitions.getValue()?Se.E:Promise.resolve(Pn)}),function vu(I,w,_,A){return(0,he.w)(V=>function Hc(I,w,_,A,V){return new da(I,w,_,A,V).apply()}(I,w,_,V.extractedUrl,A).pipe((0,Re.U)(ie=>({...V,urlAfterRedirects:ie}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,rt.b)(Pn=>{this.currentNavigation={...this.currentNavigation,finalUrl:Pn.urlAfterRedirects},V.urlAfterRedirects=Pn.urlAfterRedirects}),function Pi(I,w,_,A,V,ie){return(0,Ke.zg)(Pe=>function Wo(I,w,_,A,V,ie,Pe="emptyOnly",Ye="legacy"){return new Vn(I,w,_,A,V,Pe,Ye,ie).recognize().pipe((0,he.w)(Ft=>null===Ft?function rp(I){return new se.y(w=>w.error(I))}(new Jl):(0,j.of)(Ft)))}(I,w,_,Pe.urlAfterRedirects,A.serialize(Pe.urlAfterRedirects),A,V,ie).pipe((0,Re.U)(Ye=>({...Pe,targetSnapshot:Ye}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,rt.b)(Pn=>{if(V.targetSnapshot=Pn.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!Pn.extras.skipLocationChange){const ki=this.urlHandlingStrategy.merge(Pn.urlAfterRedirects,Pn.rawUrl);this.setBrowserUrl(ki,Pn)}this.browserUrlTree=Pn.urlAfterRedirects}const Tr=new As(Pn.id,this.serializeUrl(Pn.extractedUrl),this.serializeUrl(Pn.urlAfterRedirects),Pn.targetSnapshot);A.next(Tr)}));if(pn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Tr,extractedUrl:ki,source:fo,restoredState:Es,extras:si}=Ye,id=new zi(Tr,this.serializeUrl(ki),fo,Es);A.next(id);const $r=Ms(ki,this.rootComponentType).snapshot;return V={...Ye,targetSnapshot:$r,urlAfterRedirects:ki,extras:{...si,skipLocationChange:!1,replaceUrl:!1}},(0,j.of)(V)}return this.rawUrlTree=Ye.rawUrl,Ye.resolve(null),Se.E}),(0,rt.b)(Ye=>{const Ft=new as(Ye.id,this.serializeUrl(Ye.extractedUrl),this.serializeUrl(Ye.urlAfterRedirects),Ye.targetSnapshot);this.triggerEvent(Ft)}),(0,Re.U)(Ye=>V={...Ye,guards:f(Ye.targetSnapshot,Ye.currentSnapshot,this.rootContexts)}),function Qu(I,w){return(0,Ke.zg)(_=>{const{targetSnapshot:A,currentSnapshot:V,guards:{canActivateChecks:ie,canDeactivateChecks:Pe}}=_;return 0===Pe.length&&0===ie.length?(0,j.of)({..._,guardsResult:!0}):function Ba(I,w,_,A){return(0,F.D)(I).pipe((0,Ke.zg)(V=>function Nt(I,w,_,A,V){const ie=w&&w.routeConfig?w.routeConfig.canDeactivate:null;if(!ie||0===ie.length)return(0,j.of)(!0);const Pe=ie.map(Ye=>{const Ft=ao(w)??V,pn=y(Ye,Ft);return Tn(function fi(I){return I&&cn(I.canDeactivate)}(pn)?pn.canDeactivate(I,w,_,A):Ft.runInContext(()=>pn(I,w,_,A))).pipe((0,ot.P)())});return(0,j.of)(Pe).pipe(uo())}(V.component,V.route,_,w,A)),(0,ot.P)(V=>!0!==V,!0))}(Pe,A,V,I).pipe((0,Ke.zg)(Ye=>Ye&&function Kn(I){return"boolean"==typeof I}(Ye)?function M(I,w,_,A){return(0,F.D)(w).pipe((0,wt.b)(V=>(0,st.z)(function N(I,w){return null!==I&&w&&w(new gu(I)),(0,j.of)(!0)}(V.route.parent,A),function W(I,w){return null!==I&&w&&w(new ua(I)),(0,j.of)(!0)}(V.route,A),function et(I,w,_){const A=w[w.length-1],ie=w.slice(0,w.length-1).reverse().map(Pe=>function S(I){const w=I.routeConfig?I.routeConfig.canActivateChild:null;return w&&0!==w.length?{node:I,guards:w}:null}(Pe)).filter(Pe=>null!==Pe).map(Pe=>Ve(()=>{const Ye=Pe.guards.map(Ft=>{const pn=ao(Pe.node)??_,ir=y(Ft,pn);return Tn(function gr(I){return I&&cn(I.canActivateChild)}(ir)?ir.canActivateChild(A,I):pn.runInContext(()=>ir(A,I))).pipe((0,ot.P)())});return(0,j.of)(Ye).pipe(uo())}));return(0,j.of)(ie).pipe(uo())}(I,V.path,_),function ae(I,w,_){const A=w.routeConfig?w.routeConfig.canActivate:null;if(!A||0===A.length)return(0,j.of)(!0);const V=A.map(ie=>Ve(()=>{const Pe=ao(w)??_,Ye=y(ie,Pe);return Tn(function Ar(I){return I&&cn(I.canActivate)}(Ye)?Ye.canActivate(w,I):Pe.runInContext(()=>Ye(w,I))).pipe((0,ot.P)())}));return(0,j.of)(V).pipe(uo())}(I,V.route,_))),(0,ot.P)(V=>!0!==V,!0))}(A,ie,I,w):(0,j.of)(Ye)),(0,Re.U)(Ye=>({..._,guardsResult:Ye})))})}(this.ngModule.injector,Ye=>this.triggerEvent(Ye)),(0,rt.b)(Ye=>{if(V.guardsResult=Ye.guardsResult,kr(Ye.guardsResult))throw Sr(0,Ye.guardsResult);const Ft=new pu(Ye.id,this.serializeUrl(Ye.extractedUrl),this.serializeUrl(Ye.urlAfterRedirects),Ye.targetSnapshot,!!Ye.guardsResult);this.triggerEvent(Ft)}),(0,J.h)(Ye=>!!Ye.guardsResult||(this.restoreHistory(Ye),this.cancelNavigationTransition(Ye,"",3),!1)),So(Ye=>{if(Ye.guards.canActivateChecks.length)return(0,j.of)(Ye).pipe((0,rt.b)(Ft=>{const pn=new jo(Ft.id,this.serializeUrl(Ft.extractedUrl),this.serializeUrl(Ft.urlAfterRedirects),Ft.targetSnapshot);this.triggerEvent(pn)}),(0,he.w)(Ft=>{let pn=!1;return(0,j.of)(Ft).pipe(function Eu(I,w){return(0,Ke.zg)(_=>{const{targetSnapshot:A,guards:{canActivateChecks:V}}=_;if(!V.length)return(0,j.of)(_);let ie=0;return(0,F.D)(V).pipe((0,wt.b)(Pe=>function ci(I,w,_,A){const V=I.routeConfig,ie=I._resolve;return void 0!==V?.title&&!qo(V)&&(ie[gn]=V.title),function Yo(I,w,_,A){const V=function lo(I){return[...Object.keys(I),...Object.getOwnPropertySymbols(I)]}(I);if(0===V.length)return(0,j.of)({});const ie={};return(0,F.D)(V).pipe((0,Ke.zg)(Pe=>function zc(I,w,_,A){const V=ao(w)??A,ie=y(I,V);return Tn(ie.resolve?ie.resolve(w,_):V.runInContext(()=>ie(w,_)))}(I[Pe],w,_,A).pipe((0,ot.P)(),(0,rt.b)(Ye=>{ie[Pe]=Ye}))),St(1),function wn(I){return w=>w.lift(new Bn(I))}(ie),(0,Ge.K)(Pe=>rs(Pe)?Se.E:(0,dt._)(Pe)))}(ie,I,w,A).pipe((0,Re.U)(Pe=>(I._resolvedData=Pe,I.data=Rs(I,_).resolve,V&&qo(V)&&(I.data[gn]=V.title),null)))}(Pe.route,A,I,w)),(0,rt.b)(()=>ie++),St(1),(0,Ke.zg)(Pe=>ie===V.length?(0,j.of)(_):Se.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,rt.b)({next:()=>pn=!0,complete:()=>{pn||(this.restoreHistory(Ft),this.cancelNavigationTransition(Ft,"",2))}}))}),(0,rt.b)(Ft=>{const pn=new no(Ft.id,this.serializeUrl(Ft.extractedUrl),this.serializeUrl(Ft.urlAfterRedirects),Ft.targetSnapshot);this.triggerEvent(pn)}))}),So(Ye=>{const Ft=pn=>{const ir=[];pn.routeConfig?.loadComponent&&!pn.routeConfig._loadedComponent&&ir.push(this.configLoader.loadComponent(pn.routeConfig).pipe((0,rt.b)(Pn=>{pn.component=Pn}),(0,Re.U)(()=>{})));for(const Pn of pn.children)ir.push(...Ft(Pn));return ir};return je(Ft(Ye.targetSnapshot.root)).pipe((0,Vt.d)(),(0,re.q)(1))}),So(()=>this.afterPreactivation()),(0,Re.U)(Ye=>{const Ft=function ds(I,w,_){const A=Os(I,w._root,_?_._root:void 0);return new cs(A,w)}(this.routeReuseStrategy,Ye.targetSnapshot,Ye.currentRouterState);return V={...Ye,targetRouterState:Ft}}),(0,rt.b)(Ye=>{this.currentUrlTree=Ye.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Ye.urlAfterRedirects,Ye.rawUrl),this.routerState=Ye.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Ye.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Ye),this.browserUrlTree=Ye.urlAfterRedirects)}),((I,w,_)=>(0,Re.U)(A=>(new B(w,A.targetRouterState,A.currentRouterState,_).activate(I),A)))(this.rootContexts,this.routeReuseStrategy,Ye=>this.triggerEvent(Ye)),(0,rt.b)({next(){ie=!0},complete(){ie=!0}}),_n(()=>{ie||Pe||this.cancelNavigationTransition(V,"",1),this.currentNavigation?.id===V.id&&(this.currentNavigation=null)}),(0,Ge.K)(Ye=>{if(Pe=!0,Wi(Ye)){es(Ye)||(this.navigated=!0,this.restoreHistory(V,!0));const Ft=new Gs(V.id,this.serializeUrl(V.extractedUrl),Ye.message,Ye.cancellationCode);if(A.next(Ft),es(Ye)){const pn=this.urlHandlingStrategy.merge(Ye.url,this.rawUrlTree),ir={skipLocationChange:V.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||xo(V.source)};this.scheduleNavigation(pn,"imperative",null,ir,{resolve:V.resolve,reject:V.reject,promise:V.promise})}else V.resolve(!1)}else{this.restoreHistory(V,!0);const Ft=new Zi(V.id,this.serializeUrl(V.extractedUrl),Ye,V.targetSnapshot??void 0);A.next(Ft);try{V.resolve(this.errorHandler(Ye))}catch(pn){V.reject(pn)}}return Se.E}))}))}resetRootComponentType(_){this.rootComponentType=_,this.routerState.root.component=this.rootComponentType}setTransition(_){this.transitions.next({...this.transitions.value,..._})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(_=>{const A="popstate"===_.type?"popstate":"hashchange";"popstate"===A&&setTimeout(()=>{const V={replaceUrl:!0},ie=_.state?.navigationId?_.state:null;if(ie){const Ye={...ie};delete Ye.navigationId,delete Ye.\u0275routerPageId,0!==Object.keys(Ye).length&&(V.state=Ye)}const Pe=this.parseUrl(_.url);this.scheduleNavigation(Pe,A,ie,V)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(_){this.events.next(_)}resetConfig(_){this.config=_.map(oo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(_,A={}){const{relativeTo:V,queryParams:ie,fragment:Pe,queryParamsHandling:Ye,preserveFragment:Ft}=A,pn=V||this.routerState.root,ir=Ft?this.currentUrlTree.fragment:Pe;let Pn=null;switch(Ye){case"merge":Pn={...this.currentUrlTree.queryParams,...ie};break;case"preserve":Pn=this.currentUrlTree.queryParams;break;default:Pn=ie||null}return null!==Pn&&(Pn=this.removeEmptyProps(Pn)),ce(pn,this.currentUrlTree,_,Pn,ir??null)}navigateByUrl(_,A={skipLocationChange:!1}){const V=kr(_)?_:this.parseUrl(_),ie=this.urlHandlingStrategy.merge(V,this.rawUrlTree);return this.scheduleNavigation(ie,"imperative",null,A)}navigate(_,A={skipLocationChange:!1}){return function Wa(I){for(let w=0;w<I.length;w++){if(null==I[w])throw new u.vHH(4008,false)}}(_),this.navigateByUrl(this.createUrlTree(_,A),A)}serializeUrl(_){return this.urlSerializer.serialize(_)}parseUrl(_){let A;try{A=this.urlSerializer.parse(_)}catch(V){A=this.malformedUriErrorHandler(V,this.urlSerializer,_)}return A}isActive(_,A){let V;if(V=!0===A?{...bu}:!1===A?{...ma}:A,kr(_))return Qt(this.currentUrlTree,_,V);const ie=this.parseUrl(_);return Qt(this.currentUrlTree,ie,V)}removeEmptyProps(_){return Object.keys(_).reduce((A,V)=>{const ie=_[V];return null!=ie&&(A[V]=ie),A},{})}processNavigations(){this.navigations.subscribe(_=>{this.navigated=!0,this.lastSuccessfulId=_.id,this.currentPageId=_.targetPageId,this.events.next(new zr(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),_.resolve(!0)},_=>{this.console.warn(`Unhandled Navigation Error: ${_}`)})}scheduleNavigation(_,A,V,ie,Pe){if(this.disposed)return Promise.resolve(!1);let Ye,Ft,pn;Pe?(Ye=Pe.resolve,Ft=Pe.reject,pn=Pe.promise):pn=new Promise((Tr,ki)=>{Ye=Tr,Ft=ki});const ir=++this.navigationId;let Pn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(V=this.location.getState()),Pn=V&&V.\u0275routerPageId?V.\u0275routerPageId:ie.replaceUrl||ie.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):Pn=0,this.setTransition({id:ir,targetPageId:Pn,source:A,restoredState:V,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:_,extras:ie,resolve:Ye,reject:Ft,promise:pn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),pn.catch(Tr=>Promise.reject(Tr))}setBrowserUrl(_,A){const V=this.urlSerializer.serialize(_),ie={...A.extras.state,...this.generateNgRouterState(A.id,A.targetPageId)};this.location.isCurrentPathEqualTo(V)||A.extras.replaceUrl?this.location.replaceState(V,"",ie):this.location.go(V,"",ie)}restoreHistory(_,A=!1){if("computed"===this.canceledNavigationResolution){const V=this.currentPageId-_.targetPageId;"popstate"!==_.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===V?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===V&&(this.resetState(_),this.browserUrlTree=_.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(V)}else"replace"===this.canceledNavigationResolution&&(A&&this.resetState(_),this.resetUrlToCurrentUrlTree())}resetState(_){this.routerState=_.currentRouterState,this.currentUrlTree=_.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,_.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(_,A,V){const ie=new Gs(_.id,this.serializeUrl(_.extractedUrl),A,V);this.triggerEvent(ie),_.resolve(!1)}generateNgRouterState(_,A){return"computed"===this.canceledNavigationResolution?{navigationId:_,\u0275routerPageId:A}:{navigationId:_}}}return I.\u0275fac=function(_){u.$Z()},I.\u0275prov=u.Yz7({token:I,factory:function(){return za()},providedIn:"root"}),I})();function xo(I){return"imperative"!==I}let ys=(()=>{class I{constructor(_,A,V,ie,Pe){this.router=_,this.route=A,this.tabIndexAttribute=V,this.renderer=ie,this.el=Pe,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new nt.xQ,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(_){this._preserveFragment=(0,u.D6c)(_)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(_){this._skipLocationChange=(0,u.D6c)(_)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(_){this._replaceUrl=(0,u.D6c)(_)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(_){if(null!=this.tabIndexAttribute)return;const A=this.renderer,V=this.el.nativeElement;null!==_?A.setAttribute(V,"tabindex",_):A.removeAttribute(V,"tabindex")}ngOnChanges(_){this.onChanges.next(this)}set routerLink(_){null!=_?(this.commands=Array.isArray(_)?_:[_],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return I.\u0275fac=function(_){return new(_||I)(u.Y36(ri),u.Y36($i),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq))},I.\u0275dir=u.lG2({type:I,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(_,A){1&_&&u.NdJ("click",function(){return A.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.TTD]}),I})(),wu=(()=>{class I{constructor(_,A,V){this.router=_,this.route=A,this.locationStrategy=V,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new nt.xQ,this.subscription=_.events.subscribe(ie=>{ie instanceof zr&&this.updateTargetUrlAndHref()})}set preserveFragment(_){this._preserveFragment=(0,u.D6c)(_)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(_){this._skipLocationChange=(0,u.D6c)(_)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(_){this._replaceUrl=(0,u.D6c)(_)}get replaceUrl(){return this._replaceUrl}set routerLink(_){this.commands=null!=_?Array.isArray(_)?_:[_]:null}ngOnChanges(_){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(_,A,V,ie,Pe){return!!(0!==_||A||V||ie||Pe||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return I.\u0275fac=function(_){return new(_||I)(u.Y36(ri),u.Y36($i),u.Y36(ge.S$))},I.\u0275dir=u.lG2({type:I,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(_,A){1&_&&u.NdJ("click",function(ie){return A.onClick(ie.button,ie.ctrlKey,ie.shiftKey,ie.altKey,ie.metaKey)}),2&_&&u.uIk("target",A.target)("href",A.href,u.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.TTD]}),I})(),Zo=(()=>{class I{constructor(_,A,V,ie,Pe,Ye){this.router=_,this.element=A,this.renderer=V,this.cdr=ie,this.link=Pe,this.linkWithHref=Ye,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new u.vpe,this.routerEventsSubscription=_.events.subscribe(Ft=>{Ft instanceof zr&&this.update()})}ngAfterContentInit(){(0,j.of)(this.links.changes,this.linksWithHrefs.changes,(0,j.of)(null)).pipe((0,Jn.J)()).subscribe(_=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const _=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(A=>!!A).map(A=>A.onChanges);this.linkInputChangesSubscription=(0,F.D)(_).pipe((0,Jn.J)()).subscribe(A=>{this.isActive!==this.isLinkActive(this.router)(A)&&this.update()})}set routerLinkActive(_){const A=Array.isArray(_)?_:_.split(" ");this.classes=A.filter(V=>!!V)}ngOnChanges(_){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const _=this.hasActiveLinks();this.isActive!==_&&(this.isActive=_,this.cdr.markForCheck(),this.classes.forEach(A=>{_?this.renderer.addClass(this.element.nativeElement,A):this.renderer.removeClass(this.element.nativeElement,A)}),_&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(_))})}isLinkActive(_){const A=function Ka(I){return!!I.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return V=>!!V.urlTree&&_.isActive(V.urlTree,A)}hasActiveLinks(){const _=this.isLinkActive(this.router);return this.link&&_(this.link)||this.linkWithHref&&_(this.linkWithHref)||this.links.some(_)||this.linksWithHrefs.some(_)}}return I.\u0275fac=function(_){return new(_||I)(u.Y36(ri),u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.sBO),u.Y36(ys,8),u.Y36(wu,8))},I.\u0275dir=u.lG2({type:I,selectors:[["","routerLinkActive",""]],contentQueries:function(_,A,V){if(1&_&&(u.Suo(V,ys,5),u.Suo(V,wu,5)),2&_){let ie;u.iGM(ie=u.CRH())&&(A.links=ie),u.iGM(ie=u.CRH())&&(A.linksWithHrefs=ie)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[u.TTD]}),I})();class ya{}let Ih=(()=>{class I{preload(_,A){return A().pipe((0,Ge.K)(()=>(0,j.of)(null)))}}return I.\u0275fac=function(_){return new(_||I)},I.\u0275prov=u.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})(),qc=(()=>{class I{constructor(_,A,V,ie,Pe){this.router=_,this.injector=V,this.preloadingStrategy=ie,this.loader=Pe}setUpPreloading(){this.subscription=this.router.events.pipe((0,J.h)(_=>_ instanceof zr),(0,wt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(_,A){const V=[];for(const ie of A){ie.providers&&!ie._injector&&(ie._injector=(0,u.MMx)(ie.providers,_,`Route: ${ie.path}`));const Pe=ie._injector??_,Ye=ie._loadedInjector??Pe;ie.loadChildren&&!ie._loadedRoutes&&void 0===ie.canLoad||ie.loadComponent&&!ie._loadedComponent?V.push(this.preloadConfig(Pe,ie)):(ie.children||ie._loadedRoutes)&&V.push(this.processRoutes(Ye,ie.children??ie._loadedRoutes))}return(0,F.D)(V).pipe((0,Jn.J)())}preloadConfig(_,A){return this.preloadingStrategy.preload(A,()=>{let V;V=A.loadChildren&&void 0===A.canLoad?this.loader.loadChildren(_,A):(0,j.of)(null);const ie=V.pipe((0,Ke.zg)(Pe=>null===Pe?(0,j.of)(void 0):(A._loadedRoutes=Pe.routes,A._loadedInjector=Pe.injector,this.processRoutes(Pe.injector??_,Pe.routes))));if(A.loadComponent&&!A._loadedComponent){const Pe=this.loader.loadComponent(A);return(0,F.D)([ie,Pe]).pipe((0,Jn.J)())}return ie})}}return I.\u0275fac=function(_){return new(_||I)(u.LFG(ri),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(ya),u.LFG(Ls))},I.\u0275prov=u.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();const ec=new u.OlP("");let nd=(()=>{class I{constructor(_,A,V={}){this.router=_,this.viewportScroller=A,this.options=V,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},V.scrollPositionRestoration=V.scrollPositionRestoration||"disabled",V.anchorScrolling=V.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(_=>{_ instanceof zi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=_.navigationTrigger,this.restoredId=_.restoredState?_.restoredState.navigationId:0):_ instanceof zr&&(this.lastId=_.id,this.scheduleScrollEvent(_,this.router.parseUrl(_.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(_=>{_ instanceof di&&(_.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(_.position):_.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(_.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(_,A){this.router.triggerEvent(new di(_,"popstate"===this.lastSource?this.store[this.restoredId]:null,A))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return I.\u0275fac=function(_){u.$Z()},I.\u0275prov=u.Yz7({token:I,factory:I.\u0275fac}),I})();function va(I,w){return{\u0275kind:I,\u0275providers:w}}function Qs(I){return[{provide:ga,multi:!0,useValue:I}]}function Du(){const I=(0,u.f3M)(u.zs3);return w=>{const _=I.get(u.z2F);if(w!==_.components[0])return;const A=I.get(ri),V=I.get(ii);1===I.get(Xo)&&A.initialNavigation(),I.get(Ii,null,u.XFs.Optional)?.setUpPreloading(),I.get(ec,null,u.XFs.Optional)?.init(),A.resetRootComponentType(_.componentTypes[0]),V.closed||(V.next(),V.unsubscribe())}}const ii=new u.OlP("",{factory:()=>new nt.xQ}),Xo=new u.OlP("",{providedIn:"root",factory:()=>1});const Ii=new u.OlP("");function ho(I){return va(0,[{provide:Ii,useExisting:qc},{provide:ya,useExisting:I}])}const _a=new u.OlP("ROUTER_FORROOT_GUARD"),Di=[ge.Ye,{provide:Be,useClass:pt},{provide:ri,useFactory:za},Rr,{provide:$i,useFactory:function tc(I){return I.routerState.root},deps:[ri]},Ls];function Ni(){return new u.PXZ("Router",ri)}let Qc=(()=>{class I{constructor(_){}static forRoot(_,A){return{ngModule:I,providers:[Di,[],Qs(_),{provide:_a,useFactory:rc,deps:[[ri,new u.FiY,new u.tp0]]},{provide:pa,useValue:A||{}},A?.useHash?{provide:ge.S$,useClass:ge.Do}:{provide:ge.S$,useClass:ge.b0},{provide:ec,useFactory:()=>{const I=(0,u.f3M)(ri),w=(0,u.f3M)(ge.EM),_=(0,u.f3M)(pa);return _.scrollOffset&&w.setOffset(_.scrollOffset),new nd(I,w,_)}},A?.preloadingStrategy?ho(A.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:Ni},A?.initialNavigation?Qo(A):[],[{provide:Ch,useFactory:Du},{provide:u.tb,multi:!0,useExisting:Ch}]]}}static forChild(_){return{ngModule:I,providers:[Qs(_)]}}}return I.\u0275fac=function(_){return new(_||I)(u.LFG(_a,8))},I.\u0275mod=u.oAB({type:I}),I.\u0275inj=u.cJS({imports:[fs]}),I})();function rc(I){return"guarded"}function Qo(I){return["disabled"===I.initialNavigation?va(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const w=(0,u.f3M)(ri);return()=>{w.setUpLocationChangeListener()}}},{provide:Xo,useValue:2}]).\u0275providers:[],"enabledBlocking"===I.initialNavigation?va(2,[{provide:Xo,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:w=>{const _=w.get(ge.V_,Promise.resolve());let A=!1;return()=>_.then(()=>new Promise(ie=>{const Pe=w.get(ri),Ye=w.get(ii);(function V(ie){w.get(ri).events.pipe((0,J.h)(Ye=>Ye instanceof zr||Ye instanceof Gs||Ye instanceof Zi),(0,Re.U)(Ye=>Ye instanceof zr||Ye instanceof Gs&&(0===Ye.code||1===Ye.code)&&null),(0,J.h)(Ye=>null!==Ye),(0,re.q)(1)).subscribe(()=>{ie()})})(()=>{ie(!0),A=!0}),Pe.afterPreactivation=()=>(ie(!0),A||Ye.closed?(0,j.of)(void 0):Ye),Pe.initialNavigation()}))}}]).\u0275providers:[]]}const Ch=new u.OlP("")},579:(Zt,ht,P)=>{"use strict";P.d(ht,{EI:()=>Mt,Gb:()=>sr,Iv:()=>Fn,Kz:()=>an,Xd:()=>on,lT:()=>fn,xP:()=>Qt});var u=P(5861),F=P(9681),j=P(1877),De=P(2090),Ce=P(4859);P(2833);const ue="analytics",fe="firebase_id",K="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",se="https://www.googletagmanager.com/gtag/js",ee=new j.Yd("@firebase/analytics");function Ie(X){return Promise.all(X.map(He=>He.catch(ke=>ke)))}function ct(X,He){const ke=document.createElement("script");ke.src=`${se}?l=${X}&id=${He}`,ke.async=!0,document.head.appendChild(ke)}function Ee(X,He,ke,Pt,We,Be){return ye.apply(this,arguments)}function ye(){return(ye=(0,u.Z)(function*(X,He,ke,Pt,We,Be){const pt=Pt[We];try{if(pt)yield He[pt];else{const Ae=(yield Ie(ke)).find(me=>me.measurementId===We);Ae&&(yield He[Ae.appId])}}catch(Ct){ee.error(Ct)}X("config",We,Be)})).apply(this,arguments)}function st(X,He,ke,Pt,We){return Se.apply(this,arguments)}function Se(){return(Se=(0,u.Z)(function*(X,He,ke,Pt,We){try{let Be=[];if(We&&We.send_to){let pt=We.send_to;Array.isArray(pt)||(pt=[pt]);const Ct=yield Ie(ke);for(const Ae of pt){const me=Ct.find(at=>at.measurementId===Ae),ve=me&&He[me.appId];if(!ve){Be=[];break}Be.push(ve)}}0===Be.length&&(Be=Object.values(He)),yield Promise.all(Be),X("event",Pt,We||{})}catch(Be){ee.error(Be)}})).apply(this,arguments)}function dt(X){const He=window.document.getElementsByTagName("script");for(const ke of Object.values(He))if(ke.src&&ke.src.includes(se)&&ke.src.includes(X))return ke;return null}const nt=new De.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),re=new class he{constructor(He={},ke=1e3){this.throttleMetadata=He,this.intervalMillis=ke}getThrottleMetadata(He){return this.throttleMetadata[He]}setThrottleMetadata(He,ke){this.throttleMetadata[He]=ke}deleteThrottleMetadata(He){delete this.throttleMetadata[He]}};function Y(X){return new Headers({Accept:"application/json","x-goog-api-key":X})}function J(X){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,u.Z)(function*(X){var He;const{appId:ke,apiKey:Pt}=X,We={method:"GET",headers:Y(Pt)},Be=K.replace("{app-id}",ke),pt=yield fetch(Be,We);if(200!==pt.status&&304!==pt.status){let Ct="";try{const Ae=yield pt.json();null!==(He=Ae.error)&&void 0!==He&&He.message&&(Ct=Ae.error.message)}catch{}throw nt.create("config-fetch-failed",{httpStatus:pt.status,responseMessage:Ct})}return pt.json()})).apply(this,arguments)}function ot(X){return wt.apply(this,arguments)}function wt(){return(wt=(0,u.Z)(function*(X,He=re,ke){const{appId:Pt,apiKey:We,measurementId:Be}=X.options;if(!Pt)throw nt.create("no-app-id");if(!We){if(Be)return{measurementId:Be,appId:Pt};throw nt.create("no-api-key")}const pt=He.getThrottleMetadata(Pt)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ct=new St;return setTimeout((0,u.Z)(function*(){Ct.abort()}),void 0!==ke?ke:6e4),rt({appId:Pt,apiKey:We,measurementId:Be},pt,Ct,He)})).apply(this,arguments)}function rt(X,He,ke){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,u.Z)(function*(X,{throttleEndTimeMillis:He,backoffCount:ke},Pt,We=re){var Be;const{appId:pt,measurementId:Ct}=X;try{yield Ze(Pt,He)}catch(Ae){if(Ct)return ee.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ct} provided in the "measurementId" field in the local Firebase config. [${Ae?.message}]`),{appId:pt,measurementId:Ct};throw Ae}try{const Ae=yield J(X);return We.deleteThrottleMetadata(pt),Ae}catch(Ae){const me=Ae;if(!mt(me)){if(We.deleteThrottleMetadata(pt),Ct)return ee.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ct} provided in the "measurementId" field in the local Firebase config. [${me?.message}]`),{appId:pt,measurementId:Ct};throw Ae}const ve=503===Number(null===(Be=me?.customData)||void 0===Be?void 0:Be.httpStatus)?(0,De.$s)(ke,We.intervalMillis,30):(0,De.$s)(ke,We.intervalMillis),at={throttleEndTimeMillis:Date.now()+ve,backoffCount:ke+1};return We.setThrottleMetadata(pt,at),ee.debug(`Calling attemptFetch again in ${ve} millis`),rt(X,at,Pt,We)}})).apply(this,arguments)}function Ze(X,He){return new Promise((ke,Pt)=>{const We=Math.max(He-Date.now(),0),Be=setTimeout(ke,We);X.addEventListener(()=>{clearTimeout(Be),Pt(nt.create("fetch-throttle",{throttleEndTimeMillis:He}))})})}function mt(X){if(!(X instanceof De.ZR&&X.customData))return!1;const He=Number(X.customData.httpStatus);return 429===He||500===He||503===He||504===He}class St{constructor(){this.listeners=[]}addEventListener(He){this.listeners.push(He)}abort(){this.listeners.forEach(He=>He())}}let _t,Hn;function tt(){return(tt=(0,u.Z)(function*(X,He,ke,Pt,We){if(We&&We.global)X("event",ke,Pt);else{const Be=yield He;X("event",ke,Object.assign(Object.assign({},Pt),{send_to:Be}))}})).apply(this,arguments)}function $t(){return($t=(0,u.Z)(function*(X,He,ke,Pt){if(Pt&&Pt.global)return X("set",{screen_name:ke}),Promise.resolve();X("config",yield He,{update:!0,screen_name:ke})})).apply(this,arguments)}function vn(){return(vn=(0,u.Z)(function*(X,He,ke,Pt){if(Pt&&Pt.global)return X("set",{user_id:ke}),Promise.resolve();X("config",yield He,{update:!0,user_id:ke})})).apply(this,arguments)}function mn(){return(mn=(0,u.Z)(function*(X,He,ke,Pt){if(Pt&&Pt.global){const We={};for(const Be of Object.keys(ke))We[`user_properties.${Be}`]=ke[Be];return X("set",We),Promise.resolve()}X("config",yield He,{update:!0,user_properties:ke})})).apply(this,arguments)}function Bn(){return(Bn=(0,u.Z)(function*(X,He){const ke=yield X;window[`ga-disable-${ke}`]=!He})).apply(this,arguments)}function kn(X){Hn=X}function _n(X){_t=X}function In(){return zn.apply(this,arguments)}function zn(){return(zn=(0,u.Z)(function*(){if(!(0,De.hl)())return ee.warn(nt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,De.eu)()}catch(X){return ee.warn(nt.create("indexeddb-unavailable",{errorInfo:X?.toString()}).message),!1}return!0})).apply(this,arguments)}function Jn(){return(Jn=(0,u.Z)(function*(X,He,ke,Pt,We,Be,pt){var Ct;const Ae=ot(X);Ae.then(It=>{ke[It.measurementId]=It.appId,X.options.measurementId&&It.measurementId!==X.options.measurementId&&ee.warn(`The measurement ID in the local Firebase config (${X.options.measurementId}) does not match the measurement ID fetched from the server (${It.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(It=>ee.error(It)),He.push(Ae);const me=In().then(It=>{if(It)return Pt.getId()}),[ve,at]=yield Promise.all([Ae,me]);dt(Be)||ct(Be,ve.measurementId),Hn&&(We("consent","default",Hn),kn(void 0)),We("js",new Date);const Rt=null!==(Ct=pt?.config)&&void 0!==Ct?Ct:{};return Rt.origin="firebase",Rt.update=!0,null!=at&&(Rt[fe]=at),We("config",ve.measurementId,Rt),_t&&(We("set",_t),_n(void 0)),ve.measurementId})).apply(this,arguments)}class Wn{constructor(He){this.app=He}_delete(){return delete Lt[this.app.options.appId],Promise.resolve()}}let Lt={},gn=[];const Ot={};let ze,Et,we="dataLayer",xe="gtag",Ht=!1;function on(X){if(Ht)throw nt.create("already-initialized");X.dataLayerName&&(we=X.dataLayerName),X.gtagName&&(xe=X.gtagName)}function nn(X,He,ke){!function Dn(){const X=[];if((0,De.ru)()&&X.push("This is a browser extension environment."),(0,De.zI)()||X.push("Cookies are not available."),X.length>0){const He=X.map((Pt,We)=>`(${We+1}) ${Pt}`).join(" "),ke=nt.create("invalid-analytics-context",{errorInfo:He});ee.warn(ke.message)}}();const Pt=X.options.appId;if(!Pt)throw nt.create("no-app-id");if(!X.options.apiKey){if(!X.options.measurementId)throw nt.create("no-api-key");ee.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${X.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Lt[Pt])throw nt.create("already-exists",{id:Pt});if(!Ht){!function je(X){let He=[];Array.isArray(window[X])?He=window[X]:window[X]=He}(we);const{wrappedGtag:Be,gtagCore:pt}=function Ue(X,He,ke,Pt,We){let Be=function(...pt){window[Pt].push(arguments)};return window[We]&&"function"==typeof window[We]&&(Be=window[We]),window[We]=function Ve(X,He,ke,Pt){function Be(){return(Be=(0,u.Z)(function*(pt,Ct,Ae){try{"event"===pt?yield st(X,He,ke,Ct,Ae):"config"===pt?yield Ee(X,He,ke,Pt,Ct,Ae):"consent"===pt?X("consent","update",Ae):X("set",Ct)}catch(me){ee.error(me)}})).apply(this,arguments)}return function We(pt,Ct,Ae){return Be.apply(this,arguments)}}(Be,X,He,ke),{gtagCore:Be,wrappedGtag:window[We]}}(Lt,gn,Ot,we,xe);Et=Be,ze=pt,Ht=!0}return Lt[Pt]=function Zn(X,He,ke,Pt,We,Be,pt){return Jn.apply(this,arguments)}(X,gn,Ot,He,ze,we,ke),new Wn(X)}function sr(){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,u.Z)(function*(){if((0,De.ru)()||!(0,De.zI)()||!(0,De.hl)())return!1;try{return yield(0,De.eu)()}catch{return!1}})).apply(this,arguments)}function fn(X,He,ke){X=(0,De.m9)(X),function Vt(X,He,ke,Pt){return $t.apply(this,arguments)}(Et,Lt[X.app.options.appId],He,ke).catch(Pt=>ee.error(Pt))}function Fn(X,He,ke){X=(0,De.m9)(X),function bn(X,He,ke,Pt){return vn.apply(this,arguments)}(Et,Lt[X.app.options.appId],He,ke).catch(Pt=>ee.error(Pt))}function Qt(X,He,ke){X=(0,De.m9)(X),function Ln(X,He,ke,Pt){return mn.apply(this,arguments)}(Et,Lt[X.app.options.appId],He,ke).catch(Pt=>ee.error(Pt))}function Mt(X,He){X=(0,De.m9)(X),function wn(X,He){return Bn.apply(this,arguments)}(Lt[X.app.options.appId],He).catch(ke=>ee.error(ke))}function an(X,He,ke,Pt){X=(0,De.m9)(X),function bt(X,He,ke,Pt,We){return tt.apply(this,arguments)}(Et,Lt[X.app.options.appId],He,ke,Pt).catch(We=>ee.error(We))}const yn="@firebase/analytics";!function Me(){(0,F._registerComponent)(new Ce.wA(ue,(He,{options:ke})=>nn(He.getProvider("app").getImmediate(),He.getProvider("installations-internal").getImmediate(),ke),"PUBLIC")),(0,F._registerComponent)(new Ce.wA("analytics-internal",function X(He){try{const ke=He.getProvider(ue).getImmediate();return{logEvent:(Pt,We,Be)=>an(ke,Pt,We,Be)}}catch(ke){throw nt.create("interop-component-reg-failed",{reason:ke})}},"PRIVATE")),(0,F.registerVersion)(yn,"0.9.0"),(0,F.registerVersion)(yn,"0.9.0","esm2017")}()},3942:(Zt,ht,P)=>{"use strict";P.d(ht,{Z:()=>ct});var u=P(2090),F=P(4859),j=P(9681),De=P(1877);class Ce{constructor(Ee,ye){this._delegate=Ee,this.firebase=ye,(0,j._addComponent)(Ee,new F.wA("app-compat",()=>this,"PUBLIC")),this.container=Ee.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ee){this._delegate.automaticDataCollectionEnabled=Ee}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ee=>{this._delegate.checkDestroyed(),Ee()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,j.deleteApp)(this._delegate)))}_getService(Ee,ye=j._DEFAULT_ENTRY_NAME){var st;this._delegate.checkDestroyed();const Se=this._delegate.container.getProvider(Ee);return!Se.isInitialized()&&"EXPLICIT"===(null===(st=Se.getComponent())||void 0===st?void 0:st.instantiationMode)&&Se.initialize(),Se.getImmediate({identifier:ye})}_removeServiceInstance(Ee,ye=j._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ee).clearInstance(ye)}_addComponent(Ee){(0,j._addComponent)(this._delegate,Ee)}_addOrOverwriteComponent(Ee){(0,j._addOrOverwriteComponent)(this._delegate,Ee)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ue=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Q=function pe(){const je=function fe(je){const Ee={},ye={__esModule:!0,initializeApp:function Ve(nt,ge={}){const Re=j.initializeApp(nt,ge);if((0,u.r3)(Ee,Re.name))return Ee[Re.name];const he=new je(Re,ye);return Ee[Re.name]=he,he},app:Se,registerVersion:j.registerVersion,setLogLevel:j.setLogLevel,onLog:j.onLog,apps:null,SDK_VERSION:j.SDK_VERSION,INTERNAL:{registerComponent:function dt(nt){const ge=nt.name,Re=ge.replace("-compat","");if(j._registerComponent(nt)&&"PUBLIC"===nt.type){const he=(re=Se())=>{if("function"!=typeof re[Re])throw ue.create("invalid-app-argument",{appName:ge});return re[Re]()};void 0!==nt.serviceProps&&(0,u.ZB)(he,nt.serviceProps),ye[Re]=he,je.prototype[Re]=function(...re){return this._getService.bind(this,ge).apply(this,nt.multipleInstances?re:[])}}return"PUBLIC"===nt.type?ye[Re]:null},removeApp:function st(nt){delete Ee[nt]},useAsService:function qe(nt,ge){return"serverAuth"===ge?null:ge},modularAPIs:j}};function Se(nt){if(!(0,u.r3)(Ee,nt=nt||j._DEFAULT_ENTRY_NAME))throw ue.create("no-app",{appName:nt});return Ee[nt]}return ye.default=ye,Object.defineProperty(ye,"apps",{get:function Ue(){return Object.keys(Ee).map(nt=>Ee[nt])}}),Se.App=je,ye}(Ce);return je.INTERNAL=Object.assign(Object.assign({},je.INTERNAL),{createFirebaseNamespace:pe,extendNamespace:function Ee(ye){(0,u.ZB)(je,ye)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),je}(),K=new De.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){K.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const je=self.firebase.SDK_VERSION;je&&je.indexOf("LITE")>=0&&K.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ct=Q;!function Ie(je){(0,j.registerVersion)("@firebase/app-compat","0.2.0",je)}()},9681:(Zt,ht,P)=>{"use strict";P.r(ht),P.d(ht,{FirebaseError:()=>De.ZR,SDK_VERSION:()=>wn,_DEFAULT_ENTRY_NAME:()=>Ge,_addComponent:()=>_t,_addOrOverwriteComponent:()=>bt,_apps:()=>mt,_clearComponents:()=>bn,_components:()=>St,_getProvider:()=>Vt,_registerComponent:()=>tt,_removeServiceInstance:()=>$t,deleteApp:()=>_n,getApp:()=>Hn,getApps:()=>kn,initializeApp:()=>Bn,onLog:()=>Zn,registerVersion:()=>zn,setLogLevel:()=>Jn});var u=P(5861),F=P(4859),j=P(1877),De=P(2090),Ce=P(8766);class z{constructor(Mt){this.container=Mt}getPlatformInfoString(){return this.container.getProviders().map(Yt=>{if(function ue(Qt){return"VERSION"===Qt.getComponent()?.type}(Yt)){const an=Yt.getImmediate();return`${an.library}/${an.version}`}return null}).filter(Yt=>Yt).join(" ")}}const fe="@firebase/app",Q=new j.Yd("@firebase/app"),Ge="[DEFAULT]",Ze={[fe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},mt=new Map,St=new Map;function _t(Qt,Mt){try{Qt.container.addComponent(Mt)}catch(Yt){Q.debug(`Component ${Mt.name} failed to register with FirebaseApp ${Qt.name}`,Yt)}}function bt(Qt,Mt){Qt.container.addOrOverwriteComponent(Mt)}function tt(Qt){const Mt=Qt.name;if(St.has(Mt))return Q.debug(`There were multiple attempts to register component ${Mt}.`),!1;St.set(Mt,Qt);for(const Yt of mt.values())_t(Yt,Qt);return!0}function Vt(Qt,Mt){const Yt=Qt.container.getProvider("heartbeat").getImmediate({optional:!0});return Yt&&Yt.triggerHeartbeat(),Qt.container.getProvider(Mt)}function $t(Qt,Mt,Yt=Ge){Vt(Qt,Mt).clearInstance(Yt)}function bn(){St.clear()}const Ln=new De.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class mn{constructor(Mt,Yt,an){this._isDeleted=!1,this._options=Object.assign({},Mt),this._config=Object.assign({},Yt),this._name=Yt.name,this._automaticDataCollectionEnabled=Yt.automaticDataCollectionEnabled,this._container=an,this.container.addComponent(new F.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Mt){this.checkDestroyed(),this._automaticDataCollectionEnabled=Mt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Mt){this._isDeleted=Mt}checkDestroyed(){if(this.isDeleted)throw Ln.create("app-deleted",{appName:this._name})}}const wn="9.15.0";function Bn(Qt,Mt={}){let Yt=Qt;"object"!=typeof Mt&&(Mt={name:Mt});const an=Object.assign({name:Ge,automaticDataCollectionEnabled:!1},Mt),Cn=an.name;if("string"!=typeof Cn||!Cn)throw Ln.create("bad-app-name",{appName:String(Cn)});if(Yt||(Yt=(0,De.aH)()),!Yt)throw Ln.create("no-options");const yn=mt.get(Cn);if(yn){if((0,De.vZ)(Yt,yn.options)&&(0,De.vZ)(an,yn.config))return yn;throw Ln.create("duplicate-app",{appName:Cn})}const Le=new F.H0(Cn);for(const X of St.values())Le.addComponent(X);const Me=new mn(Yt,an,Le);return mt.set(Cn,Me),Me}function Hn(Qt=Ge){const Mt=mt.get(Qt);if(!Mt&&Qt===Ge)return Bn();if(!Mt)throw Ln.create("no-app",{appName:Qt});return Mt}function kn(){return Array.from(mt.values())}function _n(Qt){return In.apply(this,arguments)}function In(){return(In=(0,u.Z)(function*(Qt){const Mt=Qt.name;mt.has(Mt)&&(mt.delete(Mt),yield Promise.all(Qt.container.getProviders().map(Yt=>Yt.delete())),Qt.isDeleted=!0)})).apply(this,arguments)}function zn(Qt,Mt,Yt){var an;let Cn=null!==(an=Ze[Qt])&&void 0!==an?an:Qt;Yt&&(Cn+=`-${Yt}`);const yn=Cn.match(/\s|\//),Le=Mt.match(/\s|\//);if(yn||Le){const Me=[`Unable to register library "${Cn}" with version "${Mt}":`];return yn&&Me.push(`library name "${Cn}" contains illegal characters (whitespace or "/")`),yn&&Le&&Me.push("and"),Le&&Me.push(`version name "${Mt}" contains illegal characters (whitespace or "/")`),void Q.warn(Me.join(" "))}tt(new F.wA(`${Cn}-version`,()=>({library:Cn,version:Mt}),"VERSION"))}function Zn(Qt,Mt){if(null!==Qt&&"function"!=typeof Qt)throw Ln.create("invalid-log-argument");(0,j.Am)(Qt,Mt)}function Jn(Qt){(0,j.Ub)(Qt)}const gn="firebase-heartbeat-store";let Ot=null;function we(){return Ot||(Ot=(0,Ce.X3)("firebase-heartbeat-database",1,{upgrade:(Qt,Mt)=>{0===Mt&&Qt.createObjectStore(gn)}}).catch(Qt=>{throw Ln.create("idb-open",{originalErrorMessage:Qt.message})})),Ot}function ze(){return(ze=(0,u.Z)(function*(Qt){try{return(yield we()).transaction(gn).objectStore(gn).get(on(Qt))}catch(Mt){if(Mt instanceof De.ZR)Q.warn(Mt.message);else{const Yt=Ln.create("idb-get",{originalErrorMessage:Mt?.message});Q.warn(Yt.message)}}})).apply(this,arguments)}function Et(Qt,Mt){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,u.Z)(function*(Qt,Mt){try{const an=(yield we()).transaction(gn,"readwrite");return yield an.objectStore(gn).put(Mt,on(Qt)),an.done}catch(Yt){if(Yt instanceof De.ZR)Q.warn(Yt.message);else{const an=Ln.create("idb-set",{originalErrorMessage:Yt?.message});Q.warn(an.message)}}})).apply(this,arguments)}function on(Qt){return`${Qt.name}!${Qt.options.appId}`}class rn{constructor(Mt){this.container=Mt,this._heartbeatsCache=null;const Yt=this.container.getProvider("app").getImmediate();this._storage=new Sn(Yt),this._heartbeatsCachePromise=this._storage.read().then(an=>(this._heartbeatsCache=an,an))}triggerHeartbeat(){var Mt=this;return(0,u.Z)(function*(){const an=Mt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Cn=Tn();if(null===Mt._heartbeatsCache&&(Mt._heartbeatsCache=yield Mt._heartbeatsCachePromise),Mt._heartbeatsCache.lastSentHeartbeatDate!==Cn&&!Mt._heartbeatsCache.heartbeats.some(yn=>yn.date===Cn))return Mt._heartbeatsCache.heartbeats.push({date:Cn,agent:an}),Mt._heartbeatsCache.heartbeats=Mt._heartbeatsCache.heartbeats.filter(yn=>{const Le=new Date(yn.date).valueOf();return Date.now()-Le<=2592e6}),Mt._storage.overwrite(Mt._heartbeatsCache)})()}getHeartbeatsHeader(){var Mt=this;return(0,u.Z)(function*(){if(null===Mt._heartbeatsCache&&(yield Mt._heartbeatsCachePromise),null===Mt._heartbeatsCache||0===Mt._heartbeatsCache.heartbeats.length)return"";const Yt=Tn(),{heartbeatsToSend:an,unsentEntries:Cn}=function sr(Qt,Mt=1024){const Yt=[];let an=Qt.slice();for(const Cn of Qt){const yn=Yt.find(Le=>Le.agent===Cn.agent);if(yn){if(yn.dates.push(Cn.date),fn(Yt)>Mt){yn.dates.pop();break}}else if(Yt.push({agent:Cn.agent,dates:[Cn.date]}),fn(Yt)>Mt){Yt.pop();break}an=an.slice(1)}return{heartbeatsToSend:Yt,unsentEntries:an}}(Mt._heartbeatsCache.heartbeats),yn=(0,De.L)(JSON.stringify({version:2,heartbeats:an}));return Mt._heartbeatsCache.lastSentHeartbeatDate=Yt,Cn.length>0?(Mt._heartbeatsCache.heartbeats=Cn,yield Mt._storage.overwrite(Mt._heartbeatsCache)):(Mt._heartbeatsCache.heartbeats=[],Mt._storage.overwrite(Mt._heartbeatsCache)),yn})()}}function Tn(){return(new Date).toISOString().substring(0,10)}class Sn{constructor(Mt){this.app=Mt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,De.hl)()&&(0,De.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Mt=this;return(0,u.Z)(function*(){return(yield Mt._canUseIndexedDBPromise)&&(yield function xe(Qt){return ze.apply(this,arguments)}(Mt.app))||{heartbeats:[]}})()}overwrite(Mt){var Yt=this;return(0,u.Z)(function*(){var an;if(yield Yt._canUseIndexedDBPromise){const yn=yield Yt.read();return Et(Yt.app,{lastSentHeartbeatDate:null!==(an=Mt.lastSentHeartbeatDate)&&void 0!==an?an:yn.lastSentHeartbeatDate,heartbeats:Mt.heartbeats})}})()}add(Mt){var Yt=this;return(0,u.Z)(function*(){var an;if(yield Yt._canUseIndexedDBPromise){const yn=yield Yt.read();return Et(Yt.app,{lastSentHeartbeatDate:null!==(an=Mt.lastSentHeartbeatDate)&&void 0!==an?an:yn.lastSentHeartbeatDate,heartbeats:[...yn.heartbeats,...Mt.heartbeats]})}})()}}function fn(Qt){return(0,De.L)(JSON.stringify({version:2,heartbeats:Qt})).length}!function Fn(Qt){tt(new F.wA("platform-logger",Mt=>new z(Mt),"PRIVATE")),tt(new F.wA("heartbeat",Mt=>new rn(Mt),"PRIVATE")),zn(fe,"0.9.0",Qt),zn(fe,"0.9.0","esm2017"),zn("fire-js","")}("")},4859:(Zt,ht,P)=>{"use strict";P.d(ht,{H0:()=>fe,wA:()=>j});var u=P(5861),F=P(2090);class j{constructor(Q,K,se){this.name=Q,this.instanceFactory=K,this.type=se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Q){return this.instantiationMode=Q,this}setMultipleInstances(Q){return this.multipleInstances=Q,this}setServiceProps(Q){return this.serviceProps=Q,this}setInstanceCreatedCallback(Q){return this.onInstanceCreated=Q,this}}const De="[DEFAULT]";class Ce{constructor(Q,K){this.name=Q,this.container=K,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Q){const K=this.normalizeInstanceIdentifier(Q);if(!this.instancesDeferred.has(K)){const se=new F.BH;if(this.instancesDeferred.set(K,se),this.isInitialized(K)||this.shouldAutoInitialize())try{const ee=this.getOrInitializeService({instanceIdentifier:K});ee&&se.resolve(ee)}catch{}}return this.instancesDeferred.get(K).promise}getImmediate(Q){var K;const se=this.normalizeInstanceIdentifier(Q?.identifier),ee=null!==(K=Q?.optional)&&void 0!==K&&K;if(!this.isInitialized(se)&&!this.shouldAutoInitialize()){if(ee)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:se})}catch(Ie){if(ee)return null;throw Ie}}getComponent(){return this.component}setComponent(Q){if(Q.name!==this.name)throw Error(`Mismatching Component ${Q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Q,this.shouldAutoInitialize()){if(function ue(pe){return"EAGER"===pe.instantiationMode}(Q))try{this.getOrInitializeService({instanceIdentifier:De})}catch{}for(const[K,se]of this.instancesDeferred.entries()){const ee=this.normalizeInstanceIdentifier(K);try{const Ie=this.getOrInitializeService({instanceIdentifier:ee});se.resolve(Ie)}catch{}}}}clearInstance(Q=De){this.instancesDeferred.delete(Q),this.instancesOptions.delete(Q),this.instances.delete(Q)}delete(){var Q=this;return(0,u.Z)(function*(){const K=Array.from(Q.instances.values());yield Promise.all([...K.filter(se=>"INTERNAL"in se).map(se=>se.INTERNAL.delete()),...K.filter(se=>"_delete"in se).map(se=>se._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Q=De){return this.instances.has(Q)}getOptions(Q=De){return this.instancesOptions.get(Q)||{}}initialize(Q={}){const{options:K={}}=Q,se=this.normalizeInstanceIdentifier(Q.instanceIdentifier);if(this.isInitialized(se))throw Error(`${this.name}(${se}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ee=this.getOrInitializeService({instanceIdentifier:se,options:K});for(const[Ie,ct]of this.instancesDeferred.entries())se===this.normalizeInstanceIdentifier(Ie)&&ct.resolve(ee);return ee}onInit(Q,K){var se;const ee=this.normalizeInstanceIdentifier(K),Ie=null!==(se=this.onInitCallbacks.get(ee))&&void 0!==se?se:new Set;Ie.add(Q),this.onInitCallbacks.set(ee,Ie);const ct=this.instances.get(ee);return ct&&Q(ct,ee),()=>{Ie.delete(Q)}}invokeOnInitCallbacks(Q,K){const se=this.onInitCallbacks.get(K);if(se)for(const ee of se)try{ee(Q,K)}catch{}}getOrInitializeService({instanceIdentifier:Q,options:K={}}){let se=this.instances.get(Q);if(!se&&this.component&&(se=this.component.instanceFactory(this.container,{instanceIdentifier:(pe=Q,pe===De?void 0:pe),options:K}),this.instances.set(Q,se),this.instancesOptions.set(Q,K),this.invokeOnInitCallbacks(se,Q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Q,se)}catch{}var pe;return se||null}normalizeInstanceIdentifier(Q=De){return this.component?this.component.multipleInstances?Q:De:Q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor(Q){this.name=Q,this.providers=new Map}addComponent(Q){const K=this.getProvider(Q.name);if(K.isComponentSet())throw new Error(`Component ${Q.name} has already been registered with ${this.name}`);K.setComponent(Q)}addOrOverwriteComponent(Q){this.getProvider(Q.name).isComponentSet()&&this.providers.delete(Q.name),this.addComponent(Q)}getProvider(Q){if(this.providers.has(Q))return this.providers.get(Q);const K=new Ce(Q,this);return this.providers.set(Q,K),K}getProviders(){return Array.from(this.providers.values())}}},2833:(Zt,ht,P)=>{"use strict";var u=P(5861),F=P(9681),j=P(4859),De=P(2090),Ce=P(8766);const z="@firebase/installations",pe="w:0.6.0",Q="FIS_v2",je=new De.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ee($e){return $e instanceof De.ZR&&$e.code.includes("request-failed")}function ye({projectId:$e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${$e}/installations`}function st($e){return{token:$e.token,requestStatus:2,expiresIn:ge($e.expiresIn),creationTime:Date.now()}}function Se($e,vt){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,u.Z)(function*($e,vt){const tn=(yield vt.json()).error;return je.create("request-failed",{requestName:$e,serverCode:tn.code,serverMessage:tn.message,serverStatus:tn.status})})).apply(this,arguments)}function Ue({apiKey:$e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":$e})}function dt($e,{refreshToken:vt}){const Bt=Ue($e);return Bt.append("Authorization",function Re($e){return`${Q} ${$e}`}(vt)),Bt}function qe($e){return nt.apply(this,arguments)}function nt(){return(nt=(0,u.Z)(function*($e){const vt=yield $e();return vt.status>=500&&vt.status<600?$e():vt})).apply(this,arguments)}function ge($e){return Number($e.replace("s","000"))}function he($e,vt){return re.apply(this,arguments)}function re(){return(re=(0,u.Z)(function*({appConfig:$e,heartbeatServiceProvider:vt},{fid:Bt}){const tn=ye($e),un=Ue($e),$n=vt.getImmediate({optional:!0});if($n){const tr=yield $n.getHeartbeatsHeader();tr&&un.append("x-firebase-client",tr)}const cr={method:"POST",headers:un,body:JSON.stringify({fid:Bt,authVersion:Q,appId:$e.appId,sdkVersion:pe})},_r=yield qe(()=>fetch(tn,cr));if(_r.ok){const tr=yield _r.json();return{fid:tr.fid||Bt,registrationStatus:2,refreshToken:tr.refreshToken,authToken:st(tr.authToken)}}throw yield Se("Create Installation",_r)})).apply(this,arguments)}function Y($e){return new Promise(vt=>{setTimeout(vt,$e)})}const Ke=/^[cdef][\w-]{21}$/;function wt(){try{const $e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues($e),$e[0]=112+$e[0]%16;const Bt=function rt($e){return function J($e){return btoa(String.fromCharCode(...$e)).replace(/\+/g,"-").replace(/\//g,"_")}($e).substr(0,22)}($e);return Ke.test(Bt)?Bt:""}catch{return""}}function Ge($e){return`${$e.appName}!${$e.appId}`}const Ze=new Map;function mt($e,vt){const Bt=Ge($e);bt(Bt,vt),function tt($e,vt){const Bt=function $t(){return!Vt&&"BroadcastChannel"in self&&(Vt=new BroadcastChannel("[Firebase] FID Change"),Vt.onmessage=$e=>{bt($e.data.key,$e.data.fid)}),Vt}();Bt&&Bt.postMessage({key:$e,fid:vt}),function bn(){0===Ze.size&&Vt&&(Vt.close(),Vt=null)}()}(Bt,vt)}function bt($e,vt){const Bt=Ze.get($e);if(Bt)for(const tn of Bt)tn(vt)}let Vt=null;const mn="firebase-installations-store";let wn=null;function Bn(){return wn||(wn=(0,Ce.X3)("firebase-installations-database",1,{upgrade:($e,vt)=>{0===vt&&$e.createObjectStore(mn)}})),wn}function Hn($e,vt){return kn.apply(this,arguments)}function kn(){return(kn=(0,u.Z)(function*($e,vt){const Bt=Ge($e),un=(yield Bn()).transaction(mn,"readwrite"),$n=un.objectStore(mn),xn=yield $n.get(Bt);return yield $n.put(vt,Bt),yield un.done,(!xn||xn.fid!==vt.fid)&&mt($e,vt.fid),vt})).apply(this,arguments)}function _n($e){return In.apply(this,arguments)}function In(){return(In=(0,u.Z)(function*($e){const vt=Ge($e),tn=(yield Bn()).transaction(mn,"readwrite");yield tn.objectStore(mn).delete(vt),yield tn.done})).apply(this,arguments)}function zn($e,vt){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,u.Z)(function*($e,vt){const Bt=Ge($e),un=(yield Bn()).transaction(mn,"readwrite"),$n=un.objectStore(mn),xn=yield $n.get(Bt),cr=vt(xn);return void 0===cr?yield $n.delete(Bt):yield $n.put(cr,Bt),yield un.done,cr&&(!xn||xn.fid!==cr.fid)&&mt($e,cr.fid),cr})).apply(this,arguments)}function Jn($e){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,u.Z)(function*($e){let vt;const Bt=yield zn($e.appConfig,tn=>{const un=Lt(tn),$n=gn($e,un);return vt=$n.registrationPromise,$n.installationEntry});return""===Bt.fid?{installationEntry:yield vt}:{installationEntry:Bt,registrationPromise:vt}})).apply(this,arguments)}function Lt($e){return Ht($e||{fid:wt(),registrationStatus:0})}function gn($e,vt){if(0===vt.registrationStatus){if(!navigator.onLine)return{installationEntry:vt,registrationPromise:Promise.reject(je.create("app-offline"))};const Bt={fid:vt.fid,registrationStatus:1,registrationTime:Date.now()},tn=function Ot($e,vt){return we.apply(this,arguments)}($e,Bt);return{installationEntry:Bt,registrationPromise:tn}}return 1===vt.registrationStatus?{installationEntry:vt,registrationPromise:xe($e)}:{installationEntry:vt}}function we(){return(we=(0,u.Z)(function*($e,vt){try{const Bt=yield he($e,vt);return Hn($e.appConfig,Bt)}catch(Bt){throw Ee(Bt)&&409===Bt.customData.serverCode?yield _n($e.appConfig):yield Hn($e.appConfig,{fid:vt.fid,registrationStatus:0}),Bt}})).apply(this,arguments)}function xe($e){return ze.apply(this,arguments)}function ze(){return(ze=(0,u.Z)(function*($e){let vt=yield Et($e.appConfig);for(;1===vt.registrationStatus;)yield Y(100),vt=yield Et($e.appConfig);if(0===vt.registrationStatus){const{installationEntry:Bt,registrationPromise:tn}=yield Jn($e);return tn||Bt}return vt})).apply(this,arguments)}function Et($e){return zn($e,vt=>{if(!vt)throw je.create("installation-not-found");return Ht(vt)})}function Ht($e){return function on($e){return 1===$e.registrationStatus&&$e.registrationTime+1e4<Date.now()}($e)?{fid:$e.fid,registrationStatus:0}:$e}function Dn($e,vt){return nn.apply(this,arguments)}function nn(){return(nn=(0,u.Z)(function*({appConfig:$e,heartbeatServiceProvider:vt},Bt){const tn=rn($e,Bt),un=dt($e,Bt),$n=vt.getImmediate({optional:!0});if($n){const tr=yield $n.getHeartbeatsHeader();tr&&un.append("x-firebase-client",tr)}const cr={method:"POST",headers:un,body:JSON.stringify({installation:{sdkVersion:pe,appId:$e.appId}})},_r=yield qe(()=>fetch(tn,cr));if(_r.ok)return st(yield _r.json());throw yield Se("Generate Auth Token",_r)})).apply(this,arguments)}function rn($e,{fid:vt}){return`${ye($e)}/${vt}/authTokens:generate`}function Tn($e){return sr.apply(this,arguments)}function sr(){return(sr=(0,u.Z)(function*($e,vt=!1){let Bt;const tn=yield zn($e.appConfig,$n=>{if(!Yt($n))throw je.create("not-registered");const xn=$n.authToken;if(!vt&&an(xn))return $n;if(1===xn.requestStatus)return Bt=Sn($e,vt),$n;{if(!navigator.onLine)throw je.create("app-offline");const cr=yn($n);return Bt=Qt($e,cr),cr}});return Bt?yield Bt:tn.authToken})).apply(this,arguments)}function Sn($e,vt){return fn.apply(this,arguments)}function fn(){return(fn=(0,u.Z)(function*($e,vt){let Bt=yield Fn($e.appConfig);for(;1===Bt.authToken.requestStatus;)yield Y(100),Bt=yield Fn($e.appConfig);const tn=Bt.authToken;return 0===tn.requestStatus?Tn($e,vt):tn})).apply(this,arguments)}function Fn($e){return zn($e,vt=>{if(!Yt(vt))throw je.create("not-registered");return function Le($e){return 1===$e.requestStatus&&$e.requestTime+1e4<Date.now()}(vt.authToken)?Object.assign(Object.assign({},vt),{authToken:{requestStatus:0}}):vt})}function Qt($e,vt){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,u.Z)(function*($e,vt){try{const Bt=yield Dn($e,vt),tn=Object.assign(Object.assign({},vt),{authToken:Bt});return yield Hn($e.appConfig,tn),Bt}catch(Bt){if(!Ee(Bt)||401!==Bt.customData.serverCode&&404!==Bt.customData.serverCode){const tn=Object.assign(Object.assign({},vt),{authToken:{requestStatus:0}});yield Hn($e.appConfig,tn)}else yield _n($e.appConfig);throw Bt}})).apply(this,arguments)}function Yt($e){return void 0!==$e&&2===$e.registrationStatus}function an($e){return 2===$e.requestStatus&&!function Cn($e){const vt=Date.now();return vt<$e.creationTime||$e.creationTime+$e.expiresIn<vt+36e5}($e)}function yn($e){const vt={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},$e),{authToken:vt})}function X(){return(X=(0,u.Z)(function*($e){const vt=$e,{installationEntry:Bt,registrationPromise:tn}=yield Jn(vt);return tn?tn.catch(console.error):Tn(vt).catch(console.error),Bt.fid})).apply(this,arguments)}function ke(){return(ke=(0,u.Z)(function*($e,vt=!1){const Bt=$e;return yield Pt(Bt),(yield Tn(Bt,vt)).token})).apply(this,arguments)}function Pt($e){return We.apply(this,arguments)}function We(){return(We=(0,u.Z)(function*($e){const{registrationPromise:vt}=yield Jn($e);vt&&(yield vt)})).apply(this,arguments)}function It($e){return je.create("missing-app-config-values",{valueName:$e})}const be="installations",jt=$e=>{const vt=$e.getProvider("app").getImmediate(),Bt=function Rt($e){if(!$e||!$e.options)throw It("App Configuration");if(!$e.name)throw It("App Name");const vt=["projectId","apiKey","appId"];for(const Bt of vt)if(!$e.options[Bt])throw It(Bt);return{appName:$e.name,projectId:$e.options.projectId,apiKey:$e.options.apiKey,appId:$e.options.appId}}(vt);return{app:vt,appConfig:Bt,heartbeatServiceProvider:(0,F._getProvider)(vt,"heartbeat"),_delete:()=>Promise.resolve()}},qt=$e=>{const vt=$e.getProvider("app").getImmediate(),Bt=(0,F._getProvider)(vt,be).getImmediate();return{getId:()=>function Me($e){return X.apply(this,arguments)}(Bt),getToken:un=>function He($e){return ke.apply(this,arguments)}(Bt,un)}};(function sn(){(0,F._registerComponent)(new j.wA(be,jt,"PUBLIC")),(0,F._registerComponent)(new j.wA("installations-internal",qt,"PRIVATE"))})(),(0,F.registerVersion)(z,"0.6.0"),(0,F.registerVersion)(z,"0.6.0","esm2017")},1877:(Zt,ht,P)=>{"use strict";P.d(ht,{Am:()=>pe,Ub:()=>fe,Yd:()=>ue,in:()=>F});const u=[];var F=(()=>{return(Q=F||(F={}))[Q.DEBUG=0]="DEBUG",Q[Q.VERBOSE=1]="VERBOSE",Q[Q.INFO=2]="INFO",Q[Q.WARN=3]="WARN",Q[Q.ERROR=4]="ERROR",Q[Q.SILENT=5]="SILENT",F;var Q})();const j={debug:F.DEBUG,verbose:F.VERBOSE,info:F.INFO,warn:F.WARN,error:F.ERROR,silent:F.SILENT},De=F.INFO,Ce={[F.DEBUG]:"log",[F.VERBOSE]:"log",[F.INFO]:"info",[F.WARN]:"warn",[F.ERROR]:"error"},z=(Q,K,...se)=>{if(K<Q.logLevel)return;const ee=(new Date).toISOString(),Ie=Ce[K];if(!Ie)throw new Error(`Attempted to log a message with an invalid logType (value: ${K})`);console[Ie](`[${ee}]  ${Q.name}:`,...se)};class ue{constructor(K){this.name=K,this._logLevel=De,this._logHandler=z,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(K){if(!(K in F))throw new TypeError(`Invalid value "${K}" assigned to \`logLevel\``);this._logLevel=K}setLogLevel(K){this._logLevel="string"==typeof K?j[K]:K}get logHandler(){return this._logHandler}set logHandler(K){if("function"!=typeof K)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=K}get userLogHandler(){return this._userLogHandler}set userLogHandler(K){this._userLogHandler=K}debug(...K){this._userLogHandler&&this._userLogHandler(this,F.DEBUG,...K),this._logHandler(this,F.DEBUG,...K)}log(...K){this._userLogHandler&&this._userLogHandler(this,F.VERBOSE,...K),this._logHandler(this,F.VERBOSE,...K)}info(...K){this._userLogHandler&&this._userLogHandler(this,F.INFO,...K),this._logHandler(this,F.INFO,...K)}warn(...K){this._userLogHandler&&this._userLogHandler(this,F.WARN,...K),this._logHandler(this,F.WARN,...K)}error(...K){this._userLogHandler&&this._userLogHandler(this,F.ERROR,...K),this._logHandler(this,F.ERROR,...K)}}function fe(Q){u.forEach(K=>{K.setLogLevel(Q)})}function pe(Q,K){for(const se of u){let ee=null;K&&K.level&&(ee=j[K.level]),se.userLogHandler=null===Q?null:(Ie,ct,...je)=>{const Ee=je.map(ye=>{if(null==ye)return null;if("string"==typeof ye)return ye;if("number"==typeof ye||"boolean"==typeof ye)return ye.toString();if(ye instanceof Error)return ye.message;try{return JSON.stringify(ye)}catch{return null}}).filter(ye=>ye).join(" ");ct>=(ee??Ie.logLevel)&&Q({level:F[ct].toLowerCase(),message:Ee,args:je,type:Ie.name})}}}},908:(Zt,ht,P)=>{"use strict";P.d(ht,{Gb:()=>We,LP:()=>ve,pQ:()=>Rt,ps:()=>It});var u=P(5861),j=(P(2833),P(4859)),De=P(8766),Ce=P(2090),z=P(9681);const ue="/firebase-messaging-sw.js",fe="/firebase-cloud-messaging-push-scope",pe="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",K="google.c.a.c_id",se="google.c.a.c_l",ee="google.c.a.ts",Ie="google.c.a.e";var je=(()=>{return(be=je||(je={})).PUSH_RECEIVED="push-received",be.NOTIFICATION_CLICKED="notification-clicked",je;var be})();function Ee(be){const ft=new Uint8Array(be);return btoa(String.fromCharCode(...ft)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ye(be){const jt=(be+"=".repeat((4-be.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),qt=atob(jt),sn=new Uint8Array(qt.length);for(let $e=0;$e<qt.length;++$e)sn[$e]=qt.charCodeAt($e);return sn}const st="fcm_token_details_db",Ve="fcm_token_object_Store";function Ue(be){return dt.apply(this,arguments)}function dt(){return dt=(0,u.Z)(function*(be){if("databases"in indexedDB&&!(yield indexedDB.databases()).map($e=>$e.name).includes(st))return null;let ft=null;return(yield(0,De.X3)(st,5,{upgrade:(qt=(0,u.Z)(function*(sn,$e,vt,Bt){var tn;if($e<2||!sn.objectStoreNames.contains(Ve))return;const un=Bt.objectStore(Ve),$n=yield un.index("fcmSenderId").get(be);if(yield un.clear(),$n)if(2===$e){const xn=$n;if(!xn.auth||!xn.p256dh||!xn.endpoint)return;ft={token:xn.fcmToken,createTime:null!==(tn=xn.createTime)&&void 0!==tn?tn:Date.now(),subscriptionOptions:{auth:xn.auth,p256dh:xn.p256dh,endpoint:xn.endpoint,swScope:xn.swScope,vapidKey:"string"==typeof xn.vapidKey?xn.vapidKey:Ee(xn.vapidKey)}}}else if(3===$e){const xn=$n;ft={token:xn.fcmToken,createTime:xn.createTime,subscriptionOptions:{auth:Ee(xn.auth),p256dh:Ee(xn.p256dh),endpoint:xn.endpoint,swScope:xn.swScope,vapidKey:Ee(xn.vapidKey)}}}else if(4===$e){const xn=$n;ft={token:xn.fcmToken,createTime:xn.createTime,subscriptionOptions:{auth:Ee(xn.auth),p256dh:Ee(xn.p256dh),endpoint:xn.endpoint,swScope:xn.swScope,vapidKey:Ee(xn.vapidKey)}}}}),function($e,vt,Bt,tn){return qt.apply(this,arguments)})})).close(),yield(0,De.Lj)(st),yield(0,De.Lj)("fcm_vapid_details_db"),yield(0,De.Lj)("undefined"),qe(ft)?ft:null;var qt}),dt.apply(this,arguments)}function qe(be){if(!be||!be.subscriptionOptions)return!1;const{subscriptionOptions:ft}=be;return"number"==typeof be.createTime&&be.createTime>0&&"string"==typeof be.token&&be.token.length>0&&"string"==typeof ft.auth&&ft.auth.length>0&&"string"==typeof ft.p256dh&&ft.p256dh.length>0&&"string"==typeof ft.endpoint&&ft.endpoint.length>0&&"string"==typeof ft.swScope&&ft.swScope.length>0&&"string"==typeof ft.vapidKey&&ft.vapidKey.length>0}const Re="firebase-messaging-store";let he=null;function re(){return he||(he=(0,De.X3)("firebase-messaging-database",1,{upgrade:(be,ft)=>{0===ft&&be.createObjectStore(Re)}})),he}function Y(be){return J.apply(this,arguments)}function J(){return(J=(0,u.Z)(function*(be){const ft=Ge(be),qt=yield(yield re()).transaction(Re).objectStore(Re).get(ft);if(qt)return qt;{const sn=yield Ue(be.appConfig.senderId);if(sn)return yield Ke(be,sn),sn}})).apply(this,arguments)}function Ke(be,ft){return ot.apply(this,arguments)}function ot(){return(ot=(0,u.Z)(function*(be,ft){const jt=Ge(be),sn=(yield re()).transaction(Re,"readwrite");return yield sn.objectStore(Re).put(ft,jt),yield sn.done,ft})).apply(this,arguments)}function wt(be){return rt.apply(this,arguments)}function rt(){return(rt=(0,u.Z)(function*(be){const ft=Ge(be),qt=(yield re()).transaction(Re,"readwrite");yield qt.objectStore(Re).delete(ft),yield qt.done})).apply(this,arguments)}function Ge({appConfig:be}){return be.appId}const mt=new Ce.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function St(be,ft){return _t.apply(this,arguments)}function _t(){return(_t=(0,u.Z)(function*(be,ft){const jt=yield vn(be),qt=mn(ft),sn={method:"POST",headers:jt,body:JSON.stringify(qt)};let $e;try{$e=yield(yield fetch(bn(be.appConfig),sn)).json()}catch(vt){throw mt.create("token-subscribe-failed",{errorInfo:vt?.toString()})}if($e.error)throw mt.create("token-subscribe-failed",{errorInfo:$e.error.message});if(!$e.token)throw mt.create("token-subscribe-no-token");return $e.token})).apply(this,arguments)}function bt(be,ft){return tt.apply(this,arguments)}function tt(){return(tt=(0,u.Z)(function*(be,ft){const jt=yield vn(be),qt=mn(ft.subscriptionOptions),sn={method:"PATCH",headers:jt,body:JSON.stringify(qt)};let $e;try{$e=yield(yield fetch(`${bn(be.appConfig)}/${ft.token}`,sn)).json()}catch(vt){throw mt.create("token-update-failed",{errorInfo:vt?.toString()})}if($e.error)throw mt.create("token-update-failed",{errorInfo:$e.error.message});if(!$e.token)throw mt.create("token-update-no-token");return $e.token})).apply(this,arguments)}function Vt(be,ft){return $t.apply(this,arguments)}function $t(){return($t=(0,u.Z)(function*(be,ft){const qt={method:"DELETE",headers:yield vn(be)};try{const $e=yield(yield fetch(`${bn(be.appConfig)}/${ft}`,qt)).json();if($e.error)throw mt.create("token-unsubscribe-failed",{errorInfo:$e.error.message})}catch(sn){throw mt.create("token-unsubscribe-failed",{errorInfo:sn?.toString()})}})).apply(this,arguments)}function bn({projectId:be}){return`https://fcmregistrations.googleapis.com/v1/projects/${be}/registrations`}function vn(be){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,u.Z)(function*({appConfig:be,installations:ft}){const jt=yield ft.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":be.apiKey,"x-goog-firebase-installations-auth":`FIS ${jt}`})})).apply(this,arguments)}function mn({p256dh:be,auth:ft,endpoint:jt,vapidKey:qt}){const sn={web:{endpoint:jt,auth:ft,p256dh:be}};return qt!==pe&&(sn.web.applicationPubKey=qt),sn}const wn=6048e5;function Bn(be){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,u.Z)(function*(be){const ft=yield Wn(be.swRegistration,be.vapidKey),jt={vapidKey:be.vapidKey,swScope:be.swRegistration.scope,endpoint:ft.endpoint,auth:Ee(ft.getKey("auth")),p256dh:Ee(ft.getKey("p256dh"))},qt=yield Y(be.firebaseDependencies);if(qt){if(gn(qt.subscriptionOptions,jt))return Date.now()>=qt.createTime+wn?In(be,{token:qt.token,createTime:Date.now(),subscriptionOptions:jt}):qt.token;try{yield Vt(be.firebaseDependencies,qt.token)}catch(sn){console.warn(sn)}return Zn(be.firebaseDependencies,jt)}return Zn(be.firebaseDependencies,jt)})).apply(this,arguments)}function kn(be){return _n.apply(this,arguments)}function _n(){return(_n=(0,u.Z)(function*(be){const ft=yield Y(be.firebaseDependencies);ft&&(yield Vt(be.firebaseDependencies,ft.token),yield wt(be.firebaseDependencies));const jt=yield be.swRegistration.pushManager.getSubscription();return!jt||jt.unsubscribe()})).apply(this,arguments)}function In(be,ft){return zn.apply(this,arguments)}function zn(){return(zn=(0,u.Z)(function*(be,ft){try{const jt=yield bt(be.firebaseDependencies,ft),qt=Object.assign(Object.assign({},ft),{token:jt,createTime:Date.now()});return yield Ke(be.firebaseDependencies,qt),jt}catch(jt){throw yield kn(be),jt}})).apply(this,arguments)}function Zn(be,ft){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,u.Z)(function*(be,ft){const qt={token:yield St(be,ft),createTime:Date.now(),subscriptionOptions:ft};return yield Ke(be,qt),qt.token})).apply(this,arguments)}function Wn(be,ft){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,u.Z)(function*(be,ft){return(yield be.pushManager.getSubscription())||be.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ye(ft)})})).apply(this,arguments)}function gn(be,ft){return ft.vapidKey===be.vapidKey&&ft.endpoint===be.endpoint&&ft.auth===be.auth&&ft.p256dh===be.p256dh}function Ot(be){const ft={from:be.from,collapseKey:be.collapse_key,messageId:be.fcmMessageId};return function we(be,ft){if(!ft.notification)return;be.notification={};const jt=ft.notification.title;jt&&(be.notification.title=jt);const qt=ft.notification.body;qt&&(be.notification.body=qt);const sn=ft.notification.image;sn&&(be.notification.image=sn);const $e=ft.notification.icon;$e&&(be.notification.icon=$e)}(ft,be),function xe(be,ft){!ft.data||(be.data=ft.data)}(ft,be),function ze(be,ft){var jt,qt,sn,$e,vt;if(!(ft.fcmOptions||null!==(jt=ft.notification)&&void 0!==jt&&jt.click_action))return;be.fcmOptions={};const Bt=null!==(sn=null===(qt=ft.fcmOptions)||void 0===qt?void 0:qt.link)&&void 0!==sn?sn:null===($e=ft.notification)||void 0===$e?void 0:$e.click_action;Bt&&(be.fcmOptions.link=Bt);const tn=null===(vt=ft.fcmOptions)||void 0===vt?void 0:vt.analytics_label;tn&&(be.fcmOptions.analyticsLabel=tn)}(ft,be),ft}function Et(be){return"object"==typeof be&&!!be&&K in be}function Ht(be,ft){const jt=[];for(let qt=0;qt<be.length;qt++)jt.push(be.charAt(qt)),qt<ft.length&&jt.push(ft.charAt(qt));return jt.join("")}function Dn(be){return mt.create("missing-app-config-values",{valueName:be})}Ht("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ht("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class nn{constructor(ft,jt,qt){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const sn=function on(be){if(!be||!be.options)throw Dn("App Configuration Object");if(!be.name)throw Dn("App Name");const ft=["projectId","apiKey","appId","messagingSenderId"],{options:jt}=be;for(const qt of ft)if(!jt[qt])throw Dn(qt);return{appName:be.name,projectId:jt.projectId,apiKey:jt.apiKey,appId:jt.appId,senderId:jt.messagingSenderId}}(ft);this.firebaseDependencies={app:ft,appConfig:sn,installations:jt,analyticsProvider:qt}}_delete(){return Promise.resolve()}}function rn(be){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,u.Z)(function*(be){try{be.swRegistration=yield navigator.serviceWorker.register(ue,{scope:fe}),be.swRegistration.update().catch(()=>{})}catch(ft){throw mt.create("failed-service-worker-registration",{browserErrorMessage:ft?.message})}})).apply(this,arguments)}function sr(be,ft){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,u.Z)(function*(be,ft){if(!ft&&!be.swRegistration&&(yield rn(be)),ft||!be.swRegistration){if(!(ft instanceof ServiceWorkerRegistration))throw mt.create("invalid-sw-registration");be.swRegistration=ft}})).apply(this,arguments)}function fn(be,ft){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,u.Z)(function*(be,ft){ft?be.vapidKey=ft:be.vapidKey||(be.vapidKey=pe)})).apply(this,arguments)}function Qt(be,ft){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,u.Z)(function*(be,ft){if(!navigator)throw mt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw mt.create("permission-blocked");return yield fn(be,ft?.vapidKey),yield sr(be,ft?.serviceWorkerRegistration),Bn(be)})).apply(this,arguments)}function Yt(be,ft,jt){return an.apply(this,arguments)}function an(){return(an=(0,u.Z)(function*(be,ft,jt){const qt=Cn(ft);(yield be.firebaseDependencies.analyticsProvider.get()).logEvent(qt,{message_id:jt[K],message_name:jt[se],message_time:jt[ee],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Cn(be){switch(be){case je.NOTIFICATION_CLICKED:return"notification_open";case je.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Le(){return(Le=(0,u.Z)(function*(be,ft){const jt=ft.data;if(!jt.isFirebaseMessaging)return;be.onMessageHandler&&jt.messageType===je.PUSH_RECEIVED&&("function"==typeof be.onMessageHandler?be.onMessageHandler(Ot(jt)):be.onMessageHandler.next(Ot(jt)));const qt=jt.data;Et(qt)&&"1"===qt[Ie]&&(yield Yt(be,jt.messageType,qt))})).apply(this,arguments)}const Me="@firebase/messaging",X="0.12.0",He=be=>{const ft=new nn(be.getProvider("app").getImmediate(),be.getProvider("installations-internal").getImmediate(),be.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",jt=>function yn(be,ft){return Le.apply(this,arguments)}(ft,jt)),ft},ke=be=>{const ft=be.getProvider("messaging").getImmediate();return{getToken:qt=>Qt(ft,qt)}};function We(){return Be.apply(this,arguments)}function Be(){return(Be=(0,u.Z)(function*(){try{yield(0,Ce.eu)()}catch{return!1}return typeof window<"u"&&(0,Ce.hl)()&&(0,Ce.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function Ct(){return(Ct=(0,u.Z)(function*(be){if(!navigator)throw mt.create("only-available-in-window");return be.swRegistration||(yield rn(be)),kn(be)})).apply(this,arguments)}function ve(be,ft){return at.apply(this,arguments)}function at(){return(at=(0,u.Z)(function*(be,ft){return Qt(be=(0,Ce.m9)(be),ft)})).apply(this,arguments)}function Rt(be){return function pt(be){return Ct.apply(this,arguments)}(be=(0,Ce.m9)(be))}function It(be,ft){return function Ae(be,ft){if(!navigator)throw mt.create("only-available-in-window");return be.onMessageHandler=ft,()=>{be.onMessageHandler=null}}(be=(0,Ce.m9)(be),ft)}!function Pt(){(0,z._registerComponent)(new j.wA("messaging",He,"PUBLIC")),(0,z._registerComponent)(new j.wA("messaging-internal",ke,"PRIVATE")),(0,z.registerVersion)(Me,X),(0,z.registerVersion)(Me,X,"esm2017")}()},5132:(Zt,ht,P)=>{"use strict";P.d(ht,{Gb:()=>u.Gb});var u=P(579)},259:(Zt,ht,P)=>{"use strict";P.d(ht,{C6:()=>u.getApps,Mq:()=>u.getApp});var u=P(9681);(0,u.registerVersion)("firebase","9.15.0","app")},9260:(Zt,ht,P)=>{"use strict";P.d(ht,{Z:()=>u.Z});var u=P(3942);u.Z.registerVersion("firebase","9.15.0","app-compat")},9169:(Zt,ht,P)=>{"use strict";P.r(ht);var u=P(5861),F=P(3942),j=P(2090),De=P(9681),Ce=P(1877),z=P(655),ue=P(4859);const ct=function ee(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},je=function Ie(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ee=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),st=new Ce.Yd("@firebase/auth");function Se(v,...h){st.logLevel<=Ce.in.ERROR&&st.error(`Auth (${De.SDK_VERSION}): ${v}`,...h)}function Ve(v,...h){throw nt(v,...h)}function Ue(v,...h){return nt(v,...h)}function dt(v,h,g){const D=Object.assign(Object.assign({},je()),{[h]:g});return new j.LL("auth","Firebase",D).create(h,{appName:v.name})}function qe(v,h,g){if(!(h instanceof g))throw g.name!==h.constructor.name&&Ve(v,"argument-error"),dt(v,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function nt(v,...h){if("string"!=typeof v){const g=h[0],D=[...h.slice(1)];return D[0]&&(D[0].appName=v.name),v._errorFactory.create(g,...D)}return Ee.create(v,...h)}function ge(v,h,...g){if(!v)throw nt(h,...g)}function Re(v){const h="INTERNAL ASSERTION FAILED: "+v;throw Se(h),new Error(h)}function he(v,h){v||Re(h)}const re=new Map;function Y(v){he(v instanceof Function,"Expected a class definition");let h=re.get(v);return h?(he(h instanceof v,"Instance stored in cache mismatched with class"),h):(h=new v,re.set(v,h),h)}function ot(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function wt(){return"http:"===rt()||"https:"===rt()}function rt(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class mt{constructor(h,g){this.shortDelay=h,this.longDelay=g,he(g>h,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return function Ge(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(wt()||(0,j.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function St(v,h){he(v.emulator,"Emulator should always be set here");const{url:g}=v.emulator;return h?`${g}${h.startsWith("/")?h.slice(1):h}`:g}class _t{static initialize(h,g,D){this.fetchImpl=h,g&&(this.headersImpl=g),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Re("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Re("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Re("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const bt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},tt=new mt(3e4,6e4);function Vt(v,h){return v.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:v.tenantId}):h}function $t(v,h,g,D){return bn.apply(this,arguments)}function bn(){return(bn=(0,u.Z)(function*(v,h,g,D,$={}){return vn(v,$,(0,u.Z)(function*(){let Z={},gt={};D&&("GET"===h?gt=D:Z={body:JSON.stringify(D)});const ut=(0,j.xO)(Object.assign({key:v.config.apiKey},gt)).slice(1),Je=yield v._getAdditionalHeaders();return Je["Content-Type"]="application/json",v.languageCode&&(Je["X-Firebase-Locale"]=v.languageCode),_t.fetch()(Bn(v,v.config.apiHost,g,ut),Object.assign({method:h,headers:Je,referrerPolicy:"no-referrer"},Z))}))})).apply(this,arguments)}function vn(v,h,g){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,u.Z)(function*(v,h,g){v._canInitEmulator=!1;const D=Object.assign(Object.assign({},bt),h);try{const $=new Hn(v),Z=yield Promise.race([g(),$.promise]);$.clearNetworkTimeout();const gt=yield Z.json();if("needConfirmation"in gt)throw kn(v,"account-exists-with-different-credential",gt);if(Z.ok&&!("errorMessage"in gt))return gt;{const ut=Z.ok?gt.errorMessage:gt.error.message,[Je,Dt]=ut.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Je)throw kn(v,"credential-already-in-use",gt);if("EMAIL_EXISTS"===Je)throw kn(v,"email-already-in-use",gt);if("USER_DISABLED"===Je)throw kn(v,"user-disabled",gt);const Nn=D[Je]||Je.toLowerCase().replace(/[_\s]+/g,"-");if(Dt)throw dt(v,Nn,Dt);Ve(v,Nn)}}catch($){if($ instanceof j.ZR)throw $;Ve(v,"network-request-failed")}})).apply(this,arguments)}function mn(v,h,g,D){return wn.apply(this,arguments)}function wn(){return(wn=(0,u.Z)(function*(v,h,g,D,$={}){const Z=yield $t(v,h,g,D,$);return"mfaPendingCredential"in Z&&Ve(v,"multi-factor-auth-required",{_serverResponse:Z}),Z})).apply(this,arguments)}function Bn(v,h,g,D){const $=`${h}${g}?${D}`;return v.config.emulator?St(v.config,$):`${v.config.apiScheme}://${$}`}class Hn{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((g,D)=>{this.timer=setTimeout(()=>D(Ue(this.auth,"network-request-failed")),tt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function kn(v,h,g){const D={appName:v.name};g.email&&(D.email=g.email),g.phoneNumber&&(D.phoneNumber=g.phoneNumber);const $=Ue(v,h,D);return $.customData._tokenResponse=g,$}function In(){return(In=(0,u.Z)(function*(v,h){return $t(v,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function zn(v,h){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,u.Z)(function*(v,h){return $t(v,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Jn(v,h){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,u.Z)(function*(v,h){return $t(v,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Lt(v){if(v)try{const h=new Date(Number(v));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function we(){return(we=(0,u.Z)(function*(v,h=!1){const g=(0,j.m9)(v),D=yield g.getIdToken(h),$=ze(D);ge($&&$.exp&&$.auth_time&&$.iat,g.auth,"internal-error");const Z="object"==typeof $.firebase?$.firebase:void 0,gt=Z?.sign_in_provider;return{claims:$,token:D,authTime:Lt(xe($.auth_time)),issuedAtTime:Lt(xe($.iat)),expirationTime:Lt(xe($.exp)),signInProvider:gt||null,signInSecondFactor:Z?.sign_in_second_factor||null}})).apply(this,arguments)}function xe(v){return 1e3*Number(v)}function ze(v){const[h,g,D]=v.split(".");if(void 0===h||void 0===g||void 0===D)return Se("JWT malformed, contained fewer than 3 sections"),null;try{const $=(0,j.tV)(g);return $?JSON.parse($):(Se("Failed to decode base64 JWT payload"),null)}catch($){return Se("Caught error parsing JWT payload as JSON",$?.toString()),null}}function Ht(v,h){return on.apply(this,arguments)}function on(){return(on=(0,u.Z)(function*(v,h,g=!1){if(g)return h;try{return yield h}catch(D){throw D instanceof j.ZR&&Dn(D)&&v.auth.currentUser===v&&(yield v.auth.signOut()),D}})).apply(this,arguments)}function Dn({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class nn{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var g;if(h){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const $=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,$)}}schedule(h=!1){var g=this;if(!this.isRunning)return;const D=this.getInterval(h);this.timerId=setTimeout((0,u.Z)(function*(){yield g.iteration()}),D)}iteration(){var h=this;return(0,u.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&h.schedule(!0))}h.schedule()})()}}class rn{constructor(h,g){this.createdAt=h,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lt(this.lastLoginAt),this.creationTime=Lt(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Tn(v){return sr.apply(this,arguments)}function sr(){return(sr=(0,u.Z)(function*(v){var h;const g=v.auth,D=yield v.getIdToken(),$=yield Ht(v,Jn(g,{idToken:D}));ge($?.users.length,g,"internal-error");const Z=$.users[0];v._notifyReloadListener(Z);const gt=null!==(h=Z.providerUserInfo)&&void 0!==h&&h.length?Qt(Z.providerUserInfo):[],ut=Fn(v.providerData,gt),Nn=!!v.isAnonymous&&!(v.email&&Z.passwordHash||ut?.length),qn={uid:Z.localId,displayName:Z.displayName||null,photoURL:Z.photoUrl||null,email:Z.email||null,emailVerified:Z.emailVerified||!1,phoneNumber:Z.phoneNumber||null,tenantId:Z.tenantId||null,providerData:ut,metadata:new rn(Z.createdAt,Z.lastLoginAt),isAnonymous:Nn};Object.assign(v,qn)})).apply(this,arguments)}function fn(){return(fn=(0,u.Z)(function*(v){const h=(0,j.m9)(v);yield Tn(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Fn(v,h){return[...v.filter(D=>!h.some($=>$.providerId===D.providerId)),...h]}function Qt(v){return v.map(h=>{var{providerId:g}=h,D=(0,z._T)(h,["providerId"]);return{providerId:g,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}function Yt(){return(Yt=(0,u.Z)(function*(v,h){const g=yield vn(v,{},(0,u.Z)(function*(){const D=(0,j.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:$,apiKey:Z}=v.config,gt=Bn(v,$,"/v1/token",`key=${Z}`),ut=yield v._getAdditionalHeaders();return ut["Content-Type"]="application/x-www-form-urlencoded",_t.fetch()(gt,{method:"POST",headers:ut,body:D})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class an{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){ge(h.idToken,"internal-error"),ge(typeof h.idToken<"u","internal-error"),ge(typeof h.refreshToken<"u","internal-error");const g="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function Et(v){const h=ze(v);return ge(h,"internal-error"),ge(typeof h.exp<"u","internal-error"),ge(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,g)}getToken(h,g=!1){var D=this;return(0,u.Z)(function*(){return ge(!D.accessToken||D.refreshToken,h,"user-token-expired"),g||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(h,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,g){var D=this;return(0,u.Z)(function*(){const{accessToken:$,refreshToken:Z,expiresIn:gt}=yield function Mt(v,h){return Yt.apply(this,arguments)}(h,g);D.updateTokensAndExpiration($,Z,Number(gt))})()}updateTokensAndExpiration(h,g,D){this.refreshToken=g||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(h,g){const{refreshToken:D,accessToken:$,expirationTime:Z}=g,gt=new an;return D&&(ge("string"==typeof D,"internal-error",{appName:h}),gt.refreshToken=D),$&&(ge("string"==typeof $,"internal-error",{appName:h}),gt.accessToken=$),Z&&(ge("number"==typeof Z,"internal-error",{appName:h}),gt.expirationTime=Z),gt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new an,this.toJSON())}_performRefresh(){return Re("not implemented")}}function Cn(v,h){ge("string"==typeof v||typeof v>"u","internal-error",{appName:h})}class yn{constructor(h){var{uid:g,auth:D,stsTokenManager:$}=h,Z=(0,z._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=D,this.stsTokenManager=$,this.accessToken=$.accessToken,this.displayName=Z.displayName||null,this.email=Z.email||null,this.emailVerified=Z.emailVerified||!1,this.phoneNumber=Z.phoneNumber||null,this.photoURL=Z.photoURL||null,this.isAnonymous=Z.isAnonymous||!1,this.tenantId=Z.tenantId||null,this.providerData=Z.providerData?[...Z.providerData]:[],this.metadata=new rn(Z.createdAt||void 0,Z.lastLoginAt||void 0)}getIdToken(h){var g=this;return(0,u.Z)(function*(){const D=yield Ht(g,g.stsTokenManager.getToken(g.auth,h));return ge(D,g.auth,"internal-error"),g.accessToken!==D&&(g.accessToken=D,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),D})()}getIdTokenResult(h){return function Ot(v){return we.apply(this,arguments)}(this,h)}reload(){return function Sn(v){return fn.apply(this,arguments)}(this)}_assign(h){this!==h&&(ge(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(g=>Object.assign({},g)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new yn(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,g=!1){var D=this;return(0,u.Z)(function*(){let $=!1;h.idToken&&h.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(h),$=!0),g&&(yield Tn(D)),yield D.auth._persistUserIfCurrent(D),$&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var h=this;return(0,u.Z)(function*(){const g=yield h.getIdToken();return yield Ht(h,function _n(v,h){return In.apply(this,arguments)}(h.auth,{idToken:g})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,g){var D,$,Z,gt,ut,Je,Dt,Nn;const qn=null!==(D=g.displayName)&&void 0!==D?D:void 0,Ci=null!==($=g.email)&&void 0!==$?$:void 0,ko=null!==(Z=g.phoneNumber)&&void 0!==Z?Z:void 0,Id=null!==(gt=g.photoURL)&&void 0!==gt?gt:void 0,bp=null!==(ut=g.tenantId)&&void 0!==ut?ut:void 0,Yh=null!==(Je=g._redirectEventId)&&void 0!==Je?Je:void 0,qh=null!==(Dt=g.createdAt)&&void 0!==Dt?Dt:void 0,Aa=null!==(Nn=g.lastLoginAt)&&void 0!==Nn?Nn:void 0,{uid:gc,emailVerified:wp,isAnonymous:Ip,providerData:or,stsTokenManager:mc}=g;ge(gc&&mc,h,"internal-error");const Em=an.fromJSON(this.name,mc);ge("string"==typeof gc,h,"internal-error"),Cn(qn,h.name),Cn(Ci,h.name),ge("boolean"==typeof wp,h,"internal-error"),ge("boolean"==typeof Ip,h,"internal-error"),Cn(ko,h.name),Cn(Id,h.name),Cn(bp,h.name),Cn(Yh,h.name),Cn(qh,h.name),Cn(Aa,h.name);const Xr=new yn({uid:gc,auth:h,email:Ci,emailVerified:wp,displayName:qn,isAnonymous:Ip,photoURL:Id,phoneNumber:ko,tenantId:bp,stsTokenManager:Em,createdAt:qh,lastLoginAt:Aa});return or&&Array.isArray(or)&&(Xr.providerData=or.map(Yn=>Object.assign({},Yn))),Yh&&(Xr._redirectEventId=Yh),Xr}static _fromIdTokenResponse(h,g,D=!1){return(0,u.Z)(function*(){const $=new an;$.updateFromServerResponse(g);const Z=new yn({uid:g.localId,auth:h,stsTokenManager:$,isAnonymous:D});return yield Tn(Z),Z})()}}const Me=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(g,D){var $=this;return(0,u.Z)(function*(){$.storage[g]=D})()}_get(g){var D=this;return(0,u.Z)(function*(){const $=D.storage[g];return void 0===$?null:$})()}_remove(g){var D=this;return(0,u.Z)(function*(){delete D.storage[g]})()}_addListener(g,D){}_removeListener(g,D){}}return v.type="NONE",v})();function X(v,h,g){return`firebase:${v}:${h}:${g}`}class He{constructor(h,g,D){this.persistence=h,this.auth=g,this.userKey=D;const{config:$,name:Z}=this.auth;this.fullUserKey=X(this.userKey,$.apiKey,Z),this.fullPersistenceKey=X("persistence",$.apiKey,Z),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,u.Z)(function*(){const g=yield h.persistence._get(h.fullUserKey);return g?yn._fromJSON(h.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var g=this;return(0,u.Z)(function*(){if(g.persistence===h)return;const D=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=h,D?g.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,g,D="authUser"){return(0,u.Z)(function*(){if(!g.length)return new He(Y(Me),h,D);const $=(yield Promise.all(g.map(function(){var Dt=(0,u.Z)(function*(Nn){if(yield Nn._isAvailable())return Nn});return function(Nn){return Dt.apply(this,arguments)}}()))).filter(Dt=>Dt);let Z=$[0]||Y(Me);const gt=X(D,h.config.apiKey,h.name);let ut=null;for(const Dt of g)try{const Nn=yield Dt._get(gt);if(Nn){const qn=yn._fromJSON(h,Nn);Dt!==Z&&(ut=qn),Z=Dt;break}}catch{}const Je=$.filter(Dt=>Dt._shouldAllowMigration);return Z._shouldAllowMigration&&Je.length?(Z=Je[0],ut&&(yield Z._set(gt,ut.toJSON())),yield Promise.all(g.map(function(){var Dt=(0,u.Z)(function*(Nn){if(Nn!==Z)try{yield Nn._remove(gt)}catch{}});return function(Nn){return Dt.apply(this,arguments)}}())),new He(Z,h,D)):new He(Z,h,D)})()}}function ke(v){const h=v.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(pt(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(Pt(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Ae(h))return"Blackberry";if(me(h))return"Webos";if(We(h))return"Safari";if((h.includes("chrome/")||Be(h))&&!h.includes("edge/"))return"Chrome";if(Ct(h))return"Android";{const D=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===D?.length)return D[1]}return"Other"}function Pt(v=(0,j.z$)()){return/firefox\//i.test(v)}function We(v=(0,j.z$)()){const h=v.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Be(v=(0,j.z$)()){return/crios\//i.test(v)}function pt(v=(0,j.z$)()){return/iemobile/i.test(v)}function Ct(v=(0,j.z$)()){return/android/i.test(v)}function Ae(v=(0,j.z$)()){return/blackberry/i.test(v)}function me(v=(0,j.z$)()){return/webos/i.test(v)}function ve(v=(0,j.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function be(v=(0,j.z$)()){return ve(v)||Ct(v)||me(v)||Ae(v)||/windows phone/i.test(v)||pt(v)}function jt(v,h=[]){let g;switch(v){case"Browser":g=ke((0,j.z$)());break;case"Worker":g=`${ke((0,j.z$)())}-${v}`;break;default:g=v}const D=h.length?h.join(","):"FirebaseCore-web";return`${g}/JsCore/${De.SDK_VERSION}/${D}`}class qt{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,g){const D=Z=>new Promise((gt,ut)=>{try{gt(h(Z))}catch(Je){ut(Je)}});D.onAbort=g,this.queue.push(D);const $=this.queue.length-1;return()=>{this.queue[$]=()=>Promise.resolve()}}runMiddleware(h){var g=this;return(0,u.Z)(function*(){if(g.auth.currentUser===h)return;const D=[];try{for(const $ of g.queue)yield $(h),$.onAbort&&D.push($.onAbort)}catch($){D.reverse();for(const Z of D)try{Z()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:$?.message})}})()}}class sn{constructor(h,g,D){this.app=h,this.heartbeatServiceProvider=g,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vt(this),this.idTokenSubscription=new vt(this),this.beforeStateQueue=new qt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ee,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(h,g){var D=this;return g&&(this._popupRedirectResolver=Y(g)),this._initializationPromise=this.queue((0,u.Z)(function*(){var $,Z;if(!D._deleted&&(D.persistenceManager=yield He.create(D,h),!D._deleted)){if(null!==($=D._popupRedirectResolver)&&void 0!==$&&$._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch{}yield D.initializeCurrentUser(g),D.lastNotifiedUid=(null===(Z=D.currentUser)||void 0===Z?void 0:Z.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,u.Z)(function*(){if(h._deleted)return;const g=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||g){if(h.currentUser&&g&&h.currentUser.uid===g.uid)return h._currentUser._assign(g),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(g,!0)}})()}initializeCurrentUser(h){var g=this;return(0,u.Z)(function*(){var D;const $=yield g.assertedPersistence.getCurrentUser();let Z=$,gt=!1;if(h&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const ut=null===(D=g.redirectUser)||void 0===D?void 0:D._redirectEventId,Je=Z?._redirectEventId,Dt=yield g.tryRedirectSignIn(h);(!ut||ut===Je)&&Dt?.user&&(Z=Dt.user,gt=!0)}if(!Z)return g.directlySetCurrentUser(null);if(!Z._redirectEventId){if(gt)try{yield g.beforeStateQueue.runMiddleware(Z)}catch(ut){Z=$,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(ut))}return Z?g.reloadAndSetCurrentUserOrClear(Z):g.directlySetCurrentUser(null)}return ge(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===Z._redirectEventId?g.directlySetCurrentUser(Z):g.reloadAndSetCurrentUserOrClear(Z)})()}tryRedirectSignIn(h){var g=this;return(0,u.Z)(function*(){let D=null;try{D=yield g._popupRedirectResolver._completeRedirectFn(g,h,!0)}catch{yield g._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(h){var g=this;return(0,u.Z)(function*(){try{yield Tn(h)}catch(D){if("auth/network-request-failed"!==D?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Ze(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var h=this;return(0,u.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var g=this;return(0,u.Z)(function*(){const D=h?(0,j.m9)(h):null;return D&&ge(D.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(D&&D._clone(g))})()}_updateCurrentUser(h,g=!1){var D=this;return(0,u.Z)(function*(){if(!D._deleted)return h&&ge(D.tenantId===h.tenantId,D,"tenant-id-mismatch"),g||(yield D.beforeStateQueue.runMiddleware(h)),D.queue((0,u.Z)(function*(){yield D.directlySetCurrentUser(h),D.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,u.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var g=this;return this.queue((0,u.Z)(function*(){yield g.assertedPersistence.setPersistence(Y(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new j.LL("auth","Firebase",h())}onAuthStateChanged(h,g,D){return this.registerStateListener(this.authStateSubscription,h,g,D)}beforeAuthStateChanged(h,g){return this.beforeStateQueue.pushCallback(h,g)}onIdTokenChanged(h,g,D){return this.registerStateListener(this.idTokenSubscription,h,g,D)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,g){var D=this;return(0,u.Z)(function*(){const $=yield D.getOrInitRedirectPersistenceManager(g);return null===h?$.removeCurrentUser():$.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var g=this;return(0,u.Z)(function*(){if(!g.redirectPersistenceManager){const D=h&&Y(h)||g._popupRedirectResolver;ge(D,g,"argument-error"),g.redirectPersistenceManager=yield He.create(g,[Y(D._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(h){var g=this;return(0,u.Z)(function*(){var D,$;return g._isInitialized&&(yield g.queue((0,u.Z)(function*(){}))),(null===(D=g._currentUser)||void 0===D?void 0:D._redirectEventId)===h?g._currentUser:(null===($=g.redirectUser)||void 0===$?void 0:$._redirectEventId)===h?g.redirectUser:null})()}_persistUserIfCurrent(h){var g=this;return(0,u.Z)(function*(){if(h===g.currentUser)return g.queue((0,u.Z)(function*(){return g.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(g=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,g,D,$){if(this._deleted)return()=>{};const Z="function"==typeof g?g:g.next.bind(g),gt=this._isInitialized?Promise.resolve():this._initializationPromise;return ge(gt,this,"internal-error"),gt.then(()=>Z(this.currentUser)),"function"==typeof g?h.addObserver(g,D,$):h.addObserver(g)}directlySetCurrentUser(h){var g=this;return(0,u.Z)(function*(){g.currentUser&&g.currentUser!==h&&g._currentUser._stopProactiveRefresh(),h&&g.isProactiveRefreshEnabled&&h._startProactiveRefresh(),g.currentUser=h,h?yield g.assertedPersistence.setCurrentUser(h):yield g.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=jt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,u.Z)(function*(){var g;const D={"X-Client-Version":h.clientVersion};h.app.options.appId&&(D["X-Firebase-gmpid"]=h.app.options.appId);const $=yield null===(g=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return $&&(D["X-Firebase-Client"]=$),D})()}}function $e(v){return(0,j.m9)(v)}class vt{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,j.ne)(g=>this.observer=g)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function tn(v){const h=v.indexOf(":");return h<0?"":v.substr(0,h+1)}function $n(v){if(!v)return null;const h=Number(v);return isNaN(h)?null:h}class cr{constructor(h,g){this.providerId=h,this.signInMethod=g}toJSON(){return Re("not implemented")}_getIdTokenResponse(h){return Re("not implemented")}_linkToIdToken(h,g){return Re("not implemented")}_getReauthenticationResolver(h){return Re("not implemented")}}function _r(v,h){return tr.apply(this,arguments)}function tr(){return(tr=(0,u.Z)(function*(v,h){return $t(v,"POST","/v1/accounts:resetPassword",Vt(v,h))})).apply(this,arguments)}function kr(v,h){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,u.Z)(function*(v,h){return $t(v,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function br(v,h){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,u.Z)(function*(v,h){return $t(v,"POST","/v1/accounts:update",Vt(v,h))})).apply(this,arguments)}function ce(){return(ce=(0,u.Z)(function*(v,h){return mn(v,"POST","/v1/accounts:signInWithPassword",Vt(v,h))})).apply(this,arguments)}function Xe(v,h){return T.apply(this,arguments)}function T(){return(T=(0,u.Z)(function*(v,h){return $t(v,"POST","/v1/accounts:sendOobCode",Vt(v,h))})).apply(this,arguments)}function G(v,h){return te.apply(this,arguments)}function te(){return(te=(0,u.Z)(function*(v,h){return Xe(v,h)})).apply(this,arguments)}function ne(v,h){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,u.Z)(function*(v,h){return Xe(v,h)})).apply(this,arguments)}function q(v,h){return _e.apply(this,arguments)}function _e(){return(_e=(0,u.Z)(function*(v,h){return Xe(v,h)})).apply(this,arguments)}function Fe(v,h){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,u.Z)(function*(v,h){return Xe(v,h)})).apply(this,arguments)}function Ut(){return(Ut=(0,u.Z)(function*(v,h){return mn(v,"POST","/v1/accounts:signInWithEmailLink",Vt(v,h))})).apply(this,arguments)}function dn(){return(dn=(0,u.Z)(function*(v,h){return mn(v,"POST","/v1/accounts:signInWithEmailLink",Vt(v,h))})).apply(this,arguments)}class Rn extends cr{constructor(h,g,D,$=null){super("password",D),this._email=h,this._password=g,this._tenantId=$}static _fromEmailAndPassword(h,g){return new Rn(h,g,"password")}static _fromEmailAndCode(h,g,D=null){return new Rn(h,g,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(h){var g=this;return(0,u.Z)(function*(){switch(g.signInMethod){case"password":return function Gi(v,h){return ce.apply(this,arguments)}(h,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function yt(v,h){return Ut.apply(this,arguments)}(h,{email:g._email,oobCode:g._password});default:Ve(h,"internal-error")}})()}_linkToIdToken(h,g){var D=this;return(0,u.Z)(function*(){switch(D.signInMethod){case"password":return kr(h,{idToken:g,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function Xt(v,h){return dn.apply(this,arguments)}(h,{idToken:g,email:D._email,oobCode:D._password});default:Ve(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function jn(v,h){return lr.apply(this,arguments)}function lr(){return(lr=(0,u.Z)(function*(v,h){return mn(v,"POST","/v1/accounts:signInWithIdp",Vt(v,h))})).apply(this,arguments)}class wr extends cr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const g=new wr(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(g.idToken=h.idToken),h.accessToken&&(g.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(g.nonce=h.nonce),h.pendingToken&&(g.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(g.accessToken=h.oauthToken,g.secret=h.oauthTokenSecret):Ve("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:D,signInMethod:$}=g,Z=(0,z._T)(g,["providerId","signInMethod"]);if(!D||!$)return null;const gt=new wr(D,$);return gt.idToken=Z.idToken||void 0,gt.accessToken=Z.accessToken||void 0,gt.secret=Z.secret,gt.nonce=Z.nonce,gt.pendingToken=Z.pendingToken||null,gt}_getIdTokenResponse(h){return jn(h,this.buildRequest())}_linkToIdToken(h,g){const D=this.buildRequest();return D.idToken=g,jn(h,D)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,jn(h,g)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),h.postBody=(0,j.xO)(g)}return h}}function zi(v,h){return zr.apply(this,arguments)}function zr(){return(zr=(0,u.Z)(function*(v,h){return $t(v,"POST","/v1/accounts:sendVerificationCode",Vt(v,h))})).apply(this,arguments)}function Zi(){return(Zi=(0,u.Z)(function*(v,h){return mn(v,"POST","/v1/accounts:signInWithPhoneNumber",Vt(v,h))})).apply(this,arguments)}function as(){return(as=(0,u.Z)(function*(v,h){const g=yield mn(v,"POST","/v1/accounts:signInWithPhoneNumber",Vt(v,h));if(g.temporaryProof)throw kn(v,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const pu={USER_NOT_FOUND:"user-not-found"};function no(){return(no=(0,u.Z)(function*(v,h){return mn(v,"POST","/v1/accounts:signInWithPhoneNumber",Vt(v,Object.assign(Object.assign({},h),{operation:"REAUTH"})),pu)})).apply(this,arguments)}class xs extends cr{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,g){return new xs({verificationId:h,verificationCode:g})}static _fromTokenResponse(h,g){return new xs({phoneNumber:h,temporaryProof:g})}_getIdTokenResponse(h){return function Gs(v,h){return Zi.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,g){return function As(v,h){return as.apply(this,arguments)}(h,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function jo(v,h){return no.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:g,verificationId:D,verificationCode:$}=this.params;return h&&g?{temporaryProof:h,phoneNumber:g}:{sessionInfo:D,code:$}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:g,verificationCode:D,phoneNumber:$,temporaryProof:Z}=h;return D||g||$||Z?new xs({verificationId:g,verificationCode:D,phoneNumber:$,temporaryProof:Z}):null}}class us{constructor(h){var g,D,$,Z,gt,ut;const Je=(0,j.zd)((0,j.pd)(h)),Dt=null!==(g=Je.apiKey)&&void 0!==g?g:null,Nn=null!==(D=Je.oobCode)&&void 0!==D?D:null,qn=function bo(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==($=Je.mode)&&void 0!==$?$:null);ge(Dt&&Nn&&qn,"argument-error"),this.apiKey=Dt,this.operation=qn,this.code=Nn,this.continueUrl=null!==(Z=Je.continueUrl)&&void 0!==Z?Z:null,this.languageCode=null!==(gt=Je.languageCode)&&void 0!==gt?gt:null,this.tenantId=null!==(ut=Je.tenantId)&&void 0!==ut?ut:null}static parseLink(h){const g=function gu(v){const h=(0,j.zd)((0,j.pd)(v)).link,g=h?(0,j.zd)((0,j.pd)(h)).deep_link_id:null,D=(0,j.zd)((0,j.pd)(v)).deep_link_id;return(D?(0,j.zd)((0,j.pd)(D)).link:null)||D||g||h||v}(h);try{return new us(g)}catch{return null}}}let Xi=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(g,D){return Rn._fromEmailAndPassword(g,D)}static credentialWithLink(g,D){const $=us.parseLink(D);return ge($,"argument-error"),Rn._fromEmailAndCode(g,$.code,$.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class di{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Oi extends di{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Bi extends Oi{static credentialFromJSON(h){const g="string"==typeof h?JSON.parse(h):h;return ge("providerId"in g&&"signInMethod"in g,"argument-error"),wr._fromParams(g)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return ge(h.idToken||h.accessToken,"argument-error"),wr._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Bi.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Bi.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:g,oauthAccessToken:D,oauthTokenSecret:$,pendingToken:Z,nonce:gt,providerId:ut}=h;if(!D&&!$&&!g&&!Z||!ut)return null;try{return new Bi(ut)._credential({idToken:g,accessToken:D,nonce:gt,pendingToken:Z})}catch{return null}}}let ro=(()=>{class v extends Oi{constructor(){super("facebook.com")}static credential(g){return wr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Yr=(()=>{class v extends Oi{constructor(){super("google.com"),this.addScope("profile")}static credential(g,D){return wr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:D})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:D,oauthAccessToken:$}=g;if(!D&&!$)return null;try{return v.credential(D,$)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Vi=(()=>{class v extends Oi{constructor(){super("github.com")}static credential(g){return wr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class cs extends cr{constructor(h,g){super(h,h),this.pendingToken=g}_getIdTokenResponse(h){return jn(h,this.buildRequest())}_linkToIdToken(h,g){const D=this.buildRequest();return D.idToken=g,jn(h,D)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,jn(h,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:D,signInMethod:$,pendingToken:Z}=g;return D&&$&&Z&&D===$?new cs(D,Z):null}static _create(h,g){return new cs(h,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class zs extends di{constructor(h){ge(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return zs.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return zs.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const g=cs.fromJSON(h);return ge(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:g,providerId:D}=h;if(!g||!D)return null;try{return cs._create(D,g)}catch{return null}}}let $i=(()=>{class v extends Oi{constructor(){super("twitter.com")}static credential(g,D){return wr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:D})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:D,oauthTokenSecret:$}=g;if(!D||!$)return null;try{return v.credential(D,$)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Rs(v,h){return wo.apply(this,arguments)}function wo(){return(wo=(0,u.Z)(function*(v,h){return mn(v,"POST","/v1/accounts:signUp",Vt(v,h))})).apply(this,arguments)}class ni{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,g,D,$=!1){return(0,u.Z)(function*(){const Z=yield yn._fromIdTokenResponse(h,D,$),gt=Ji(D);return new ni({user:Z,providerId:gt,_tokenResponse:D,operationType:g})})()}static _forOperation(h,g,D){return(0,u.Z)(function*(){yield h._updateTokensIfNecessary(D,!0);const $=Ji(D);return new ni({user:h,providerId:$,_tokenResponse:D,operationType:g})})()}}function Ji(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Ws(){return(Ws=(0,u.Z)(function*(v){var h;const g=$e(v);if(yield g._initializationPromise,null!==(h=g.currentUser)&&void 0!==h&&h.isAnonymous)return new ni({user:g.currentUser,providerId:null,operationType:"signIn"});const D=yield Rs(g,{returnSecureToken:!0}),$=yield ni._fromIdTokenResponse(g,"signIn",D,!0);return yield g._updateCurrentUser($.user),$})).apply(this,arguments)}class ls extends j.ZR{constructor(h,g,D,$){var Z;super(g.code,g.message),this.operationType=D,this.user=$,Object.setPrototypeOf(this,ls.prototype),this.customData={appName:h.name,tenantId:null!==(Z=h.tenantId)&&void 0!==Z?Z:void 0,_serverResponse:g.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(h,g,D,$){return new ls(h,g,D,$)}}function Ur(v,h,g,D){return("reauthenticate"===h?g._getReauthenticationResolver(v):g._getIdTokenResponse(v)).catch(Z=>{throw"auth/multi-factor-auth-required"===Z.code?ls._fromErrorAndOperation(v,Z,h,D):Z})}function ds(v){return new Set(v.map(({providerId:h})=>h).filter(h=>!!h))}function Pr(){return(Pr=(0,u.Z)(function*(v,h){const g=(0,j.m9)(v);yield Sr(!0,g,h);const{providerUserInfo:D}=yield zn(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[h]}),$=ds(D||[]);return g.providerData=g.providerData.filter(Z=>$.has(Z.providerId)),$.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Ps(v,h){return io.apply(this,arguments)}function io(){return(io=(0,u.Z)(function*(v,h,g=!1){const D=yield Ht(v,h._linkToIdToken(v.auth,yield v.getIdToken()),g);return ni._forOperation(v,"link",D)})).apply(this,arguments)}function Sr(v,h,g){return jr.apply(this,arguments)}function jr(){return(jr=(0,u.Z)(function*(v,h,g){yield Tn(h);const $=!1===v?"provider-already-linked":"no-such-provider";ge(ds(h.providerData).has(g)===v,h.auth,$)})).apply(this,arguments)}function es(v,h){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,u.Z)(function*(v,h,g=!1){const{auth:D}=v,$="reauthenticate";try{const Z=yield Ht(v,Ur(D,$,h,v),g);ge(Z.idToken,D,"internal-error");const gt=ze(Z.idToken);ge(gt,D,"internal-error");const{sub:ut}=gt;return ge(v.uid===ut,D,"user-mismatch"),ni._forOperation(v,$,Z)}catch(Z){throw"auth/user-not-found"===Z?.code&&Ve(D,"user-mismatch"),Z}})).apply(this,arguments)}function Ki(v,h){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,u.Z)(function*(v,h,g=!1){const D="signIn",$=yield Ur(v,D,h),Z=yield ni._fromIdTokenResponse(v,D,$);return g||(yield v._updateCurrentUser(Z.user)),Z})).apply(this,arguments)}function ts(v,h){return hs.apply(this,arguments)}function hs(){return(hs=(0,u.Z)(function*(v,h){return Ki($e(v),h)})).apply(this,arguments)}function Ho(v,h){return hi.apply(this,arguments)}function hi(){return(hi=(0,u.Z)(function*(v,h){const g=(0,j.m9)(v);return yield Sr(!1,g,h.providerId),Ps(g,h)})).apply(this,arguments)}function fs(v,h){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,u.Z)(function*(v,h){return es((0,j.m9)(v),h)})).apply(this,arguments)}function Xn(v,h){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,u.Z)(function*(v,h){return mn(v,"POST","/v1/accounts:signInWithCustomToken",Vt(v,h))})).apply(this,arguments)}function ks(){return(ks=(0,u.Z)(function*(v,h){const g=$e(v),D=yield Xn(g,{token:h,returnSecureToken:!0}),$=yield ni._fromIdTokenResponse(g,"signIn",D);return yield g._updateCurrentUser($.user),$})).apply(this,arguments)}class Fs{constructor(h,g){this.factorId=h,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(h,g){return"phoneInfo"in g?so._fromServerResponse(h,g):Ve(h,"internal-error")}}class so extends Fs{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,g){return new so(g)}}function Ys(v,h,g){var D;ge((null===(D=g.url)||void 0===D?void 0:D.length)>0,v,"invalid-continue-uri"),ge(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),h.continueUrl=g.url,h.dynamicLinkDomain=g.dynamicLinkDomain,h.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(ge(g.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),h.iOSBundleId=g.iOS.bundleId),g.android&&(ge(g.android.packageName.length>0,v,"missing-android-pkg-name"),h.androidInstallApp=g.android.installApp,h.androidMinimumVersionCode=g.android.minimumVersion,h.androidPackageName=g.android.packageName)}function oo(){return(oo=(0,u.Z)(function*(v,h,g){const D=(0,j.m9)(v),$={requestType:"PASSWORD_RESET",email:h};g&&Ys(D,$,g),yield ne(D,$)})).apply(this,arguments)}function dr(){return(dr=(0,u.Z)(function*(v,h,g){yield _r((0,j.m9)(v),{oobCode:h,newPassword:g})})).apply(this,arguments)}function ca(){return(ca=(0,u.Z)(function*(v,h){yield br((0,j.m9)(v),{oobCode:h})})).apply(this,arguments)}function B(v,h){return L.apply(this,arguments)}function L(){return(L=(0,u.Z)(function*(v,h){const g=(0,j.m9)(v),D=yield _r(g,{oobCode:h}),$=D.requestType;switch(ge($,g,"internal-error"),$){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ge(D.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ge(D.mfaInfo,g,"internal-error");default:ge(D.email,g,"internal-error")}let Z=null;return D.mfaInfo&&(Z=Fs._fromServerResponse($e(g),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:Z},operation:$}})).apply(this,arguments)}function f(){return(f=(0,u.Z)(function*(v,h){const{data:g}=yield B((0,j.m9)(v),h);return g.email})).apply(this,arguments)}function y(){return(y=(0,u.Z)(function*(v,h,g){const D=$e(v),$=yield Rs(D,{returnSecureToken:!0,email:h,password:g}),Z=yield ni._fromIdTokenResponse(D,"signIn",$);return yield D._updateCurrentUser(Z.user),Z})).apply(this,arguments)}function At(){return(At=(0,u.Z)(function*(v,h,g){const D=(0,j.m9)(v),$={requestType:"EMAIL_SIGNIN",email:h};ge(g.handleCodeInApp,D,"argument-error"),g&&Ys(D,$,g),yield q(D,$)})).apply(this,arguments)}function Kn(){return(Kn=(0,u.Z)(function*(v,h,g){const D=(0,j.m9)(v),$=Xi.credentialWithLink(h,g||ot());return ge($._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),ts(D,$)})).apply(this,arguments)}function yr(v,h){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,u.Z)(function*(v,h){return $t(v,"POST","/v1/accounts:createAuthUri",Vt(v,h))})).apply(this,arguments)}function fi(){return(fi=(0,u.Z)(function*(v,h){const D={identifier:h,continueUri:wt()?ot():"http://localhost"},{signinMethods:$}=yield yr((0,j.m9)(v),D);return $||[]})).apply(this,arguments)}function pi(){return(pi=(0,u.Z)(function*(v,h){const g=(0,j.m9)(v),$={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};h&&Ys(g.auth,$,h);const{email:Z}=yield G(g.auth,$);Z!==v.email&&(yield v.reload())})).apply(this,arguments)}function rs(){return(rs=(0,u.Z)(function*(v,h,g){const D=(0,j.m9)(v),Z={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:h};g&&Ys(D.auth,Z,g);const{email:gt}=yield Fe(D.auth,Z);gt!==v.email&&(yield v.reload())})).apply(this,arguments)}function la(v,h){return uo.apply(this,arguments)}function uo(){return(uo=(0,u.Z)(function*(v,h){return $t(v,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Ba(){return(Ba=(0,u.Z)(function*(v,{displayName:h,photoURL:g}){if(void 0===h&&void 0===g)return;const D=(0,j.m9)(v),Z={idToken:yield D.getIdToken(),displayName:h,photoUrl:g,returnSecureToken:!0},gt=yield Ht(D,la(D.auth,Z));D.displayName=gt.displayName||null,D.photoURL=gt.photoUrl||null;const ut=D.providerData.find(({providerId:Je})=>"password"===Je);ut&&(ut.displayName=D.displayName,ut.photoURL=D.photoURL),yield D._updateTokensIfNecessary(gt)})).apply(this,arguments)}function N(v,h,g){return ae.apply(this,arguments)}function ae(){return(ae=(0,u.Z)(function*(v,h,g){const{auth:D}=v,Z={idToken:yield v.getIdToken(),returnSecureToken:!0};h&&(Z.email=h),g&&(Z.password=g);const gt=yield Ht(v,kr(D,Z));yield v._updateTokensIfNecessary(gt,!0)})).apply(this,arguments)}class Nt{constructor(h,g,D={}){this.isNewUser=h,this.providerId=g,this.profile=D}}class Kt extends Nt{constructor(h,g,D,$){super(h,g,D),this.username=$}}class On extends Nt{constructor(h,g){super(h,"facebook.com",g)}}class Cr extends Kt{constructor(h,g){super(h,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class rr extends Nt{constructor(h,g){super(h,"google.com",g)}}class hr extends Kt{constructor(h,g,D){super(h,"twitter.com",g,D)}}function Un(v){const{user:h,_tokenResponse:g}=v;return h.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function et(v){var h,g;if(!v)return null;const{providerId:D}=v,$=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},Z=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!D&&v?.idToken){const gt=null===(g=null===(h=ze(v.idToken))||void 0===h?void 0:h.firebase)||void 0===g?void 0:g.sign_in_provider;if(gt)return new Nt(Z,"anonymous"!==gt&&"custom"!==gt?gt:null)}if(!D)return null;switch(D){case"facebook.com":return new On(Z,$);case"github.com":return new Cr(Z,$);case"google.com":return new rr(Z,$);case"twitter.com":return new hr(Z,$,v.screenName||null);case"custom":case"anonymous":return new Nt(Z,null);default:return new Nt(Z,D,$)}}(g)}class wi{constructor(h,g,D){this.type=h,this.credential=g,this.auth=D}static _fromIdtoken(h,g){return new wi("enroll",h,g)}static _fromMfaPendingCredential(h){return new wi("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var g,D;if(h?.multiFactorSession){if(null!==(g=h.multiFactorSession)&&void 0!==g&&g.pendingCredential)return wi._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(D=h.multiFactorSession)&&void 0!==D&&D.idToken)return wi._fromIdtoken(h.multiFactorSession.idToken)}return null}}class mu{constructor(h,g,D){this.session=h,this.hints=g,this.signInResolver=D}static _fromError(h,g){const D=$e(h),$=g.customData._serverResponse,Z=($.mfaInfo||[]).map(ut=>Fs._fromServerResponse(D,ut));ge($.mfaPendingCredential,D,"internal-error");const gt=wi._fromMfaPendingCredential($.mfaPendingCredential);return new mu(gt,Z,function(){var ut=(0,u.Z)(function*(Je){const Dt=yield Je._process(D,gt);delete $.mfaInfo,delete $.mfaPendingCredential;const Nn=Object.assign(Object.assign({},$),{idToken:Dt.idToken,refreshToken:Dt.refreshToken});switch(g.operationType){case"signIn":const qn=yield ni._fromIdTokenResponse(D,g.operationType,Nn);return yield D._updateCurrentUser(qn.user),qn;case"reauthenticate":return ge(g.user,D,"internal-error"),ni._forOperation(g.user,g.operationType,Nn);default:Ve(D,"internal-error")}});return function(Je){return ut.apply(this,arguments)}}())}resolveSignIn(h){var g=this;return(0,u.Z)(function*(){return g.signInResolver(h)})()}}function co(v,h){return $t(v,"POST","/v2/accounts/mfaEnrollment:start",Vt(v,h))}class Hc{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(D=>Fs._fromServerResponse(h.auth,D)))})}static _fromUser(h){return new Hc(h)}getSession(){var h=this;return(0,u.Z)(function*(){return wi._fromIdtoken(yield h.user.getIdToken(),h.user.auth)})()}enroll(h,g){var D=this;return(0,u.Z)(function*(){const $=h,Z=yield D.getSession(),gt=yield Ht(D.user,$._process(D.user.auth,Z,g));return yield D.user._updateTokensIfNecessary(gt),D.user.reload()})()}unenroll(h){var g=this;return(0,u.Z)(function*(){const D="string"==typeof h?h:h.uid,$=yield g.user.getIdToken(),Z=yield Ht(g.user,function wh(v,h){return $t(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Vt(v,h))}(g.user.auth,{idToken:$,mfaEnrollmentId:D}));g.enrolledFactors=g.enrolledFactors.filter(({uid:gt})=>gt!==D),yield g.user._updateTokensIfNecessary(Z);try{yield g.user.reload()}catch(gt){if("auth/user-token-expired"!==gt?.code)throw gt}})()}}const da=new WeakMap,Va="__sak";class Jl{constructor(h,g){this.storageRetriever=h,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Va,"1"),this.storage.removeItem(Va),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,g){return this.storage.setItem(h,JSON.stringify(g)),Promise.resolve()}_get(h){const g=this.storage.getItem(h);return Promise.resolve(g?JSON.parse(g):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const er=(()=>{class v extends Jl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,D)=>this.onStorageEvent(g,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function rp(){const v=(0,j.z$)();return We(v)||ve(v)}()&&function ft(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=be(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const D of Object.keys(this.listeners)){const $=this.storage.getItem(D),Z=this.localCache[D];$!==Z&&g(D,Z,$)}}onStorageEvent(g,D=!1){if(!g.key)return void this.forAllChangedKeys((ut,Je,Dt)=>{this.notifyListeners(ut,Dt)});const $=g.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ut=this.storage.getItem($);if(g.newValue!==ut)null!==g.newValue?this.storage.setItem($,g.newValue):this.storage.removeItem($);else if(this.localCache[$]===g.newValue&&!D)return}const Z=()=>{const ut=this.storage.getItem($);!D&&this.localCache[$]===ut||this.notifyListeners($,ut)},gt=this.storage.getItem($);!function It(){return(0,j.w1)()&&10===document.documentMode}()||gt===g.newValue||g.newValue===g.oldValue?Z():setTimeout(Z,10)}notifyListeners(g,D){this.localCache[g]=D;const $=this.listeners[g];if($)for(const Z of Array.from($))Z(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,D,$)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:D,newValue:$}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(D)}_removeListener(g,D){this.listeners[g]&&(this.listeners[g].delete(D),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,D){var $=()=>super._set,Z=this;return(0,u.Z)(function*(){yield $().call(Z,g,D),Z.localCache[g]=JSON.stringify(D)})()}_get(g){var D=()=>super._get,$=this;return(0,u.Z)(function*(){const Z=yield D().call($,g);return $.localCache[g]=JSON.stringify(Z),Z})()}_remove(g){var D=()=>super._remove,$=this;return(0,u.Z)(function*(){yield D().call($,g),delete $.localCache[g]})()}}return v.type="LOCAL",v})(),gs=(()=>{class v extends Jl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,D){}_removeListener(g,D){}}return v.type="SESSION",v})();let ha=(()=>{class v{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const D=this.receivers.find(Z=>Z.isListeningto(g));if(D)return D;const $=new v(g);return this.receivers.push($),$}isListeningto(g){return this.eventTarget===g}handleEvent(g){var D=this;return(0,u.Z)(function*(){const $=g,{eventId:Z,eventType:gt,data:ut}=$.data,Je=D.handlersMap[gt];if(!Je?.size)return;$.ports[0].postMessage({status:"ack",eventId:Z,eventType:gt});const Dt=Array.from(Je).map(function(){var qn=(0,u.Z)(function*(Ci){return Ci($.origin,ut)});return function(Ci){return qn.apply(this,arguments)}}()),Nn=yield function Ua(v){return Promise.all(v.map(function(){var h=(0,u.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(D){return{fulfilled:!1,reason:D}}});return function(g){return h.apply(this,arguments)}}()))}(Dt);$.ports[0].postMessage({status:"done",eventId:Z,eventType:gt,response:Nn})})()}_subscribe(g,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(D)}_unsubscribe(g,D){this.handlersMap[g]&&D&&this.handlersMap[g].delete(D),(!D||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Ko(v="",h=10){let g="";for(let D=0;D<h;D++)g+=Math.floor(10*Math.random());return v+g}class fa{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,g,D=50){var $=this;return(0,u.Z)(function*(){const Z=typeof MessageChannel<"u"?new MessageChannel:null;if(!Z)throw new Error("connection_unavailable");let gt,ut;return new Promise((Je,Dt)=>{const Nn=Ko("",20);Z.port1.start();const qn=setTimeout(()=>{Dt(new Error("unsupported_event"))},D);ut={messageChannel:Z,onMessage(Ci){const ko=Ci;if(ko.data.eventId===Nn)switch(ko.data.status){case"ack":clearTimeout(qn),gt=setTimeout(()=>{Dt(new Error("timeout"))},3e3);break;case"done":clearTimeout(gt),Je(ko.data.response);break;default:clearTimeout(qn),clearTimeout(gt),Dt(new Error("invalid_response"))}}},$.handlers.add(ut),Z.port1.addEventListener("message",ut.onMessage),$.target.postMessage({eventType:h,eventId:Nn,data:g},[Z.port2])}).finally(()=>{ut&&$.removeMessageHandler(ut)})})()}}function ei(){return window}function Pi(){return typeof ei().WorkerGlobalScope<"u"&&"function"==typeof ei().importScripts}function ci(){return(ci=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const zc="firebaseLocalStorageDb",So="firebaseLocalStorage",li="fbase_key";class To{constructor(h){this.request=h}toPromise(){return new Promise((h,g)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Ao(v,h){return v.transaction([So],h?"readwrite":"readonly").objectStore(So)}function ja(){const v=indexedDB.open(zc,1);return new Promise((h,g)=>{v.addEventListener("error",()=>{g(v.error)}),v.addEventListener("upgradeneeded",()=>{const D=v.result;try{D.createObjectStore(So,{keyPath:li})}catch($){g($)}}),v.addEventListener("success",(0,u.Z)(function*(){const D=v.result;D.objectStoreNames.contains(So)?h(D):(D.close(),yield function Wc(){const v=indexedDB.deleteDatabase(zc);return new To(v).toPromise()}(),h(yield ja()))}))})}function Ha(v,h,g){return ms.apply(this,arguments)}function ms(){return(ms=(0,u.Z)(function*(v,h,g){const D=Ao(v,!0).put({[li]:h,value:g});return new To(D).toPromise()})).apply(this,arguments)}function Ju(){return(Ju=(0,u.Z)(function*(v,h){const g=Ao(v,!1).get(h),D=yield new To(g).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function ga(v,h){const g=Ao(v,!0).delete(h);return new To(g).toPromise()}const Xs=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,u.Z)(function*(){return g.db||(g.db=yield ja()),g.db})()}_withRetries(g){var D=this;return(0,u.Z)(function*(){let $=0;for(;;)try{const Z=yield D._openDb();return yield g(Z)}catch(Z){if($++>3)throw Z;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,u.Z)(function*(){return Pi()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,u.Z)(function*(){g.receiver=ha._getInstance(function lo(){return Pi()?self:null}()),g.receiver._subscribe("keyChanged",function(){var D=(0,u.Z)(function*($,Z){return{keyProcessed:(yield g._poll()).includes(Z.key)}});return function($,Z){return D.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var D=(0,u.Z)(function*($,Z){return["keyChanged"]});return function($,Z){return D.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,u.Z)(function*(){var D,$;if(g.activeServiceWorker=yield function Eu(){return ci.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new fa(g.activeServiceWorker);const Z=yield g.sender._send("ping",{},800);!Z||(null===(D=Z[0])||void 0===D?void 0:D.fulfilled)&&(null===($=Z[0])||void 0===$?void 0:$.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var D=this;return(0,u.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function Yo(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:g},D.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const g=yield ja();return yield Ha(g,Va,"1"),yield ga(g,Va),!0}catch{}return!1})()}_withPendingWrite(g){var D=this;return(0,u.Z)(function*(){D.pendingWrites++;try{yield g()}finally{D.pendingWrites--}})()}_set(g,D){var $=this;return(0,u.Z)(function*(){return $._withPendingWrite((0,u.Z)(function*(){return yield $._withRetries(Z=>Ha(Z,g,D)),$.localCache[g]=D,$.notifyServiceWorker(g)}))})()}_get(g){var D=this;return(0,u.Z)(function*(){const $=yield D._withRetries(Z=>function pa(v,h){return Ju.apply(this,arguments)}(Z,g));return D.localCache[g]=$,$})()}_remove(g){var D=this;return(0,u.Z)(function*(){return D._withPendingWrite((0,u.Z)(function*(){return yield D._withRetries($=>ga($,g)),delete D.localCache[g],D.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,u.Z)(function*(){const D=yield g._withRetries(gt=>{const ut=Ao(gt,!1).getAll();return new To(ut).toPromise()});if(!D)return[];if(0!==g.pendingWrites)return[];const $=[],Z=new Set;for(const{fbase_key:gt,value:ut}of D)Z.add(gt),JSON.stringify(g.localCache[gt])!==JSON.stringify(ut)&&(g.notifyListeners(gt,ut),$.push(gt));for(const gt of Object.keys(g.localCache))g.localCache[gt]&&!Z.has(gt)&&(g.notifyListeners(gt,null),$.push(gt));return $})()}notifyListeners(g,D){this.localCache[g]=D;const $=this.listeners[g];if($)for(const Z of Array.from($))Z(D)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(D)}_removeListener(g,D){this.listeners[g]&&(this.listeners[g].delete(D),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function Ga(v,h){return $t(v,"POST","/v2/accounts/mfaSignIn:start",Vt(v,h))}function ma(){return(ma=(0,u.Z)(function*(v){return(yield $t(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function za(v){return new Promise((h,g)=>{const D=document.createElement("script");D.setAttribute("src",v),D.onload=h,D.onerror=$=>{const Z=Ue("internal-error");Z.customData=$,g(Z)},D.type="text/javascript",D.charset="UTF-8",function Yc(){var v,h;return null!==(h=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==h?h:document}().appendChild(D)})}function ri(v){return`__${v}${Math.floor(1e6*Math.random())}`}const ys=1e12;class wu{constructor(h){this.auth=h,this.counter=ys,this._widgets=new Map}render(h,g){const D=this.counter;return this._widgets.set(D,new Zo(h,this.auth.name,g||{})),this.counter++,D}reset(h){var g;const D=h||ys;null===(g=this._widgets.get(D))||void 0===g||g.delete(),this._widgets.delete(D)}getResponse(h){var g;return(null===(g=this._widgets.get(h||ys))||void 0===g?void 0:g.getResponse())||""}execute(h){var g=this;return(0,u.Z)(function*(){var D;return null===(D=g._widgets.get(h||ys))||void 0===D||D.execute(),""})()}}class Zo{constructor(h,g,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const $="string"==typeof h?document.getElementById(h):h;ge($,"argument-error",{appName:g}),this.container=$,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ka(v){const h=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<v;D++)h.push(g.charAt(Math.floor(Math.random()*g.length)));return h.join("")}(50);const{callback:h,"expired-callback":g}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ya=ri("rcb"),Ih=new mt(3e4,6e4);class qc{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=ei().grecaptcha)||void 0===h||!h.render)}load(h,g=""){return ge(function ec(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(g),h,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(ei().grecaptcha):new Promise((D,$)=>{const Z=ei().setTimeout(()=>{$(Ue(h,"network-request-failed"))},Ih.get());ei()[ya]=()=>{ei().clearTimeout(Z),delete ei()[ya];const ut=ei().grecaptcha;if(!ut)return void $(Ue(h,"internal-error"));const Je=ut.render;ut.render=(Dt,Nn)=>{const qn=Je(Dt,Nn);return this.counter++,qn},this.hostLanguage=g,D(ut)},za(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:ya,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(Z),$(Ue(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var g;return!(null===(g=ei().grecaptcha)||void 0===g||!g.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class nd{load(h){return(0,u.Z)(function*(){return new wu(h)})()}clearedOneInstance(){}}const Iu="recaptcha",ip={theme:"light",type:"image"};class tc{constructor(h,g=Object.assign({},ip),D){this.parameters=g,this.type=Iu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=$e(D),this.isInvisible="invisible"===this.parameters.size,ge(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const $="string"==typeof h?document.getElementById(h):h;ge($,this.auth,"argument-error"),this.container=$,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new nd:new qc,this.validateStartingState()}verify(){var h=this;return(0,u.Z)(function*(){h.assertNotDestroyed();const g=yield h.render(),D=h.getAssertedRecaptcha();return D.getResponse(g)||new Promise(Z=>{const gt=ut=>{!ut||(h.tokenChangeListeners.delete(gt),Z(ut))};h.tokenChangeListeners.add(gt),h.isInvisible&&D.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){ge(!this.parameters.sitekey,this.auth,"argument-error"),ge(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ge(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return g=>{if(this.tokenChangeListeners.forEach(D=>D(g)),"function"==typeof h)h(g);else if("string"==typeof h){const D=ei()[h];"function"==typeof D&&D(g)}}}assertNotDestroyed(){ge(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,u.Z)(function*(){if(yield h.init(),!h.widgetId){let g=h.container;if(!h.isInvisible){const D=document.createElement("div");g.appendChild(D),g=D}h.widgetId=h.getAssertedRecaptcha().render(g,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,u.Z)(function*(){ge(wt()&&!Pi(),h.auth,"internal-error"),yield function va(){let v=null;return new Promise(h=>{"complete"!==document.readyState?(v=()=>h(),window.addEventListener("load",v)):h()}).catch(h=>{throw v&&window.removeEventListener("load",v),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const g=yield function bu(v){return ma.apply(this,arguments)}(h.auth);ge(g,h.auth,"internal-error"),h.parameters.sitekey=g})()}getAssertedRecaptcha(){return ge(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Qs{constructor(h,g){this.verificationId=h,this.onConfirmation=g}confirm(h){const g=xs._fromVerification(this.verificationId,h);return this.onConfirmation(g)}}function Du(){return(Du=(0,u.Z)(function*(v,h,g){const D=$e(v),$=yield Su(D,h,(0,j.m9)(g));return new Qs($,Z=>ts(D,Z))})).apply(this,arguments)}function Xo(){return(Xo=(0,u.Z)(function*(v,h,g){const D=(0,j.m9)(v);yield Sr(!1,D,"phone");const $=yield Su(D.auth,h,(0,j.m9)(g));return new Qs($,Z=>Ho(D,Z))})).apply(this,arguments)}function Zc(){return(Zc=(0,u.Z)(function*(v,h,g){const D=(0,j.m9)(v),$=yield Su(D.auth,h,(0,j.m9)(g));return new Qs($,Z=>fs(D,Z))})).apply(this,arguments)}function Su(v,h,g){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,u.Z)(function*(v,h,g){var D;const $=yield g.verify();try{let Z;if(ge("string"==typeof $,v,"argument-error"),ge(g.type===Iu,v,"argument-error"),Z="string"==typeof h?{phoneNumber:h}:h,"session"in Z){const gt=Z.session;if("phoneNumber"in Z)return ge("enroll"===gt.type,v,"internal-error"),(yield co(v,{idToken:gt.credential,phoneEnrollmentInfo:{phoneNumber:Z.phoneNumber,recaptchaToken:$}})).phoneSessionInfo.sessionInfo;{ge("signin"===gt.type,v,"internal-error");const ut=(null===(D=Z.multiFactorHint)||void 0===D?void 0:D.uid)||Z.multiFactorUid;return ge(ut,v,"missing-multi-factor-info"),(yield Ga(v,{mfaPendingCredential:gt.credential,mfaEnrollmentId:ut,phoneSignInInfo:{recaptchaToken:$}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:gt}=yield zi(v,{phoneNumber:Z.phoneNumber,recaptchaToken:$});return gt}}finally{g._reset()}})).apply(this,arguments)}function Xc(){return(Xc=(0,u.Z)(function*(v,h){yield Ps((0,j.m9)(v),h)})).apply(this,arguments)}let vs=(()=>{class v{constructor(g){this.providerId=v.PROVIDER_ID,this.auth=$e(g)}verifyPhoneNumber(g,D){return Su(this.auth,g,(0,j.m9)(D))}static credential(g,D){return xs._fromVerification(g,D)}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:D,temporaryProof:$}=g;return D&&$?xs._fromTokenResponse(D,$):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Bs(v,h){return h?Y(h):(ge(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class _a extends cr{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return jn(h,this._buildIdpRequest())}_linkToIdToken(h,g){return jn(h,this._buildIdpRequest(g))}_getReauthenticationResolver(h){return jn(h,this._buildIdpRequest())}_buildIdpRequest(h){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(g.idToken=h),g}}function Di(v){return Ki(v.auth,new _a(v),v.bypassAuthState)}function Ni(v){const{auth:h,user:g}=v;return ge(g,h,"internal-error"),es(g,new _a(v),v.bypassAuthState)}function Qc(v){return nc.apply(this,arguments)}function nc(){return(nc=(0,u.Z)(function*(v){const{auth:h,user:g}=v;return ge(g,h,"internal-error"),Ps(g,new _a(v),v.bypassAuthState)})).apply(this,arguments)}class Jc{constructor(h,g,D,$,Z=!1){this.auth=h,this.resolver=D,this.user=$,this.bypassAuthState=Z,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var h=this;return new Promise(function(){var g=(0,u.Z)(function*(D,$){h.pendingPromise={resolve:D,reject:$};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(Z){h.reject(Z)}});return function(D,$){return g.apply(this,arguments)}}())}onAuthEvent(h){var g=this;return(0,u.Z)(function*(){const{urlResponse:D,sessionId:$,postBody:Z,tenantId:gt,error:ut,type:Je}=h;if(ut)return void g.reject(ut);const Dt={auth:g.auth,requestUri:D,sessionId:$,tenantId:gt||void 0,postBody:Z||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Je)(Dt))}catch(Nn){g.reject(Nn)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Di;case"linkViaPopup":case"linkViaRedirect":return Qc;case"reauthViaPopup":case"reauthViaRedirect":return Ni;default:Ve(this.auth,"internal-error")}}resolve(h){he(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){he(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _s=new mt(2e3,1e4);function Qo(){return(Qo=(0,u.Z)(function*(v,h,g){const D=$e(v);qe(v,h,di);const $=Bs(D,g);return new w(D,"signInViaPopup",h,$).executeNotNull()})).apply(this,arguments)}function Tu(){return(Tu=(0,u.Z)(function*(v,h,g){const D=(0,j.m9)(v);qe(D.auth,h,di);const $=Bs(D.auth,g);return new w(D.auth,"reauthViaPopup",h,$,D).executeNotNull()})).apply(this,arguments)}function I(){return(I=(0,u.Z)(function*(v,h,g){const D=(0,j.m9)(v);qe(D.auth,h,di);const $=Bs(D.auth,g);return new w(D.auth,"linkViaPopup",h,$,D).executeNotNull()})).apply(this,arguments)}let w=(()=>{class v extends Jc{constructor(g,D,$,Z,gt){super(g,D,Z,gt),this.provider=$,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var g=this;return(0,u.Z)(function*(){const D=yield g.execute();return ge(D,g.auth,"internal-error"),D})()}onExecution(){var g=this;return(0,u.Z)(function*(){he(1===g.filter.length,"Popup operations only handle one event");const D=Ko();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],D),g.authWindow.associatedEvent=D,g.resolver._originValidation(g.auth).catch($=>{g.reject($)}),g.resolver._isIframeWebStorageSupported(g.auth,$=>{$||g.reject(Ue(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Ue(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const g=()=>{var D,$;this.pollId=null!==($=null===(D=this.authWindow)||void 0===D?void 0:D.window)&&void 0!==$&&$.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ue(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,_s.get())};g()}}return v.currentPopupAction=null,v})();const A=new Map;class V extends Jc{constructor(h,g,D=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,D),this.eventId=null}execute(){var h=()=>super.execute,g=this;return(0,u.Z)(function*(){let D=A.get(g.auth._key());if(!D){try{const Z=(yield function ie(v,h){return Pe.apply(this,arguments)}(g.resolver,g.auth))?yield h().call(g):null;D=()=>Promise.resolve(Z)}catch($){D=()=>Promise.reject($)}A.set(g.auth._key(),D)}return g.bypassAuthState||A.set(g.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(h){var g=()=>super.onAuthEvent,D=this;return(0,u.Z)(function*(){if("signInViaRedirect"===h.type)return g().call(D,h);if("unknown"!==h.type){if(h.eventId){const $=yield D.auth._redirectUserForId(h.eventId);if($)return D.user=$,g().call(D,h);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function Pe(){return(Pe=(0,u.Z)(function*(v,h){const g=Tr(h),D=Pn(v);if(!(yield D._isAvailable()))return!1;const $="true"===(yield D._get(g));return yield D._remove(g),$})).apply(this,arguments)}function Ye(v,h){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,u.Z)(function*(v,h){return Pn(v)._set(Tr(h),"true")})).apply(this,arguments)}function ir(v,h){A.set(v._key(),h)}function Pn(v){return Y(v._redirectPersistence)}function Tr(v){return X("pendingRedirect",v.config.apiKey,v.name)}function Es(){return(Es=(0,u.Z)(function*(v,h,g){const D=$e(v);qe(v,h,di);const $=Bs(D,g);return yield Ye($,D),$._openRedirect(D,h,"signInViaRedirect")})).apply(this,arguments)}function $r(){return($r=(0,u.Z)(function*(v,h,g){const D=(0,j.m9)(v);qe(D.auth,h,di);const $=Bs(D.auth,g);yield Ye($,D.auth);const Z=yield tl(D);return $._openRedirect(D.auth,h,"reauthViaRedirect",Z)})).apply(this,arguments)}function Ya(){return(Ya=(0,u.Z)(function*(v,h,g){const D=(0,j.m9)(v);qe(D.auth,h,di);const $=Bs(D.auth,g);yield Sr(!1,D,h.providerId),yield Ye($,D.auth);const Z=yield tl(D);return $._openRedirect(D.auth,h,"linkViaRedirect",Z)})).apply(this,arguments)}function Au(){return(Au=(0,u.Z)(function*(v,h){return yield $e(v)._initializationPromise,el(v,h,!1)})).apply(this,arguments)}function el(v,h){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,u.Z)(function*(v,h,g=!1){const D=$e(v),$=Bs(D,h),gt=yield new V(D,$,g).execute();return gt&&!g&&(delete gt.user._redirectEventId,yield D._persistUserIfCurrent(gt.user),yield D._setRedirectUser(null,h)),gt})).apply(this,arguments)}function tl(v){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,u.Z)(function*(v){const h=Ko(`${v.uid}:::`);return v._redirectEventId=h,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),h})).apply(this,arguments)}class xu{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let g=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(h,D)&&(g=!0,this.sendToConsumer(h,D),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function sc(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return od(v);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=h,g=!0)),g}sendToConsumer(h,g){var D;if(h.error&&!od(h)){const $=(null===(D=h.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";g.onError(Ue(this.auth,$))}else g.onAuthEvent(h)}isEventForConsumer(h,g){const D=null===g.eventId||!!h.eventId&&h.eventId===g.eventId;return g.filter.includes(h.type)&&D}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(sd(h))}saveEventToCache(h){this.cachedEventUids.add(sd(h)),this.lastProcessedEventTime=Date.now()}}function sd(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(h=>h).join("-")}function od({type:v,error:h}){return"unknown"===v&&"auth/no-auth-event"===h?.code}function Ea(v){return oc.apply(this,arguments)}function oc(){return(oc=(0,u.Z)(function*(v,h={}){return $t(v,"GET","/v1/projects",h)})).apply(this,arguments)}const Th=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ah=/^https?/;function Ro(){return(Ro=(0,u.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:h}=yield Ea(v);for(const g of h)try{if(sp(g))return}catch{}Ve(v,"unauthorized-domain")})).apply(this,arguments)}function sp(v){const h=ot(),{protocol:g,hostname:D}=new URL(h);if(v.startsWith("chrome-extension://")){const gt=new URL(v);return""===gt.hostname&&""===D?"chrome-extension:"===g&&v.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===g&&gt.hostname===D}if(!Ah.test(g))return!1;if(Th.test(v))return D===v;const $=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+$+"|"+$+")$","i").test(D)}const Jv=new mt(3e4,6e4);function rl(){const v=ei().___jsl;if(v?.H)for(const h of Object.keys(v.H))if(v.H[h].r=v.H[h].r||[],v.H[h].L=v.H[h].L||[],v.H[h].r=[...v.H[h].L],v.CP)for(let g=0;g<v.CP.length;g++)v.CP[g]=null}let il=null;function op(v){return il=il||function ad(v){return new Promise((h,g)=>{var D,$,Z;function gt(){rl(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{rl(),g(Ue(v,"network-request-failed"))},timeout:Jv.get()})}if(null!==($=null===(D=ei().gapi)||void 0===D?void 0:D.iframes)&&void 0!==$&&$.Iframe)h(gapi.iframes.getContext());else{if(null===(Z=ei().gapi)||void 0===Z||!Z.load){const ut=ri("iframefcb");return ei()[ut]=()=>{gapi.load?gt():g(Ue(v,"network-request-failed"))},za(`https://apis.google.com/js/api.js?onload=${ut}`).catch(Je=>g(Je))}gt()}}).catch(h=>{throw il=null,h})}(v),il}const ap=new mt(5e3,15e3),ac={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sl(v){const h=v.config;ge(h.authDomain,v,"auth-domain-config-required");const g=h.emulator?St(h,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,D={apiKey:h.apiKey,appName:v.name,v:De.SDK_VERSION},$=cp.get(v.config.apiHost);$&&(D.eid=$);const Z=v._getFrameworks();return Z.length&&(D.fw=Z.join(",")),`${g}?${(0,j.xO)(D).slice(1)}`}function ea(){return ea=(0,u.Z)(function*(v){const h=yield op(v),g=ei().gapi;return ge(g,v,"internal-error"),h.open({where:document.body,url:sl(v),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ac,dontclear:!0},D=>new Promise(function(){var $=(0,u.Z)(function*(Z,gt){yield D.restyle({setHideOnLeave:!1});const ut=Ue(v,"network-request-failed"),Je=ei().setTimeout(()=>{gt(ut)},ap.get());function Dt(){ei().clearTimeout(Je),Z(D)}D.ping(Dt).then(Dt,()=>{gt(ut)})});return function(Z,gt){return $.apply(this,arguments)}}()))}),ea.apply(this,arguments)}const lp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class fm{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Rh(v,h,g,D,$,Z){ge(v.config.authDomain,v,"auth-domain-config-required"),ge(v.config.apiKey,v,"invalid-api-key");const gt={apiKey:v.config.apiKey,appName:v.name,authType:g,redirectUrl:D,v:De.SDK_VERSION,eventId:$};if(h instanceof di){h.setDefaultLanguage(v.languageCode),gt.providerId=h.providerId||"",(0,j.xb)(h.getCustomParameters())||(gt.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Je,Dt]of Object.entries(Z||{}))gt[Je]=Dt}if(h instanceof Oi){const Je=h.getScopes().filter(Dt=>""!==Dt);Je.length>0&&(gt.scopes=Je.join(","))}v.tenantId&&(gt.tid=v.tenantId);const ut=gt;for(const Je of Object.keys(ut))void 0===ut[Je]&&delete ut[Je];return`${function oi({config:v}){return v.emulator?St(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,j.xO)(ut).slice(1)}`}const uc="webStorageSupport";class ol extends class dp{constructor(h){this.factorId=h}_process(h,g,D){switch(g.type){case"enroll":return this._finalizeEnroll(h,g.credential,D);case"signin":return this._finalizeSignIn(h,g.credential);default:return Re("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new ol(h)}_finalizeEnroll(h,g,D){return function yu(v,h){return $t(v,"POST","/v2/accounts/mfaEnrollment:finalize",Vt(v,h))}(h,{idToken:g,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,g){return function td(v,h){return $t(v,"POST","/v2/accounts/mfaSignIn:finalize",Vt(v,h))}(h,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let hp=(()=>{class v{constructor(){}static assertion(g){return ol._fromCredential(g)}}return v.FACTOR_ID="phone",v})();var Oo="@firebase/auth";class pm{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var g=this;return(0,u.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const g=this.auth.onIdTokenChanged(D=>{h(D?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,g),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const g=this.internalListeners.get(h);!g||(this.internalListeners.delete(h),g(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Mu(){return window}function dc(){return(dc=(0,u.Z)(function*(v,h,g){var D;const{BuildInfo:$}=Mu();he(h.sessionId,"AuthEvent did not contain a session ID");const Z=yield mm(h.sessionId),gt={};return ve()?gt.ibi=$.packageName:Ct()?gt.apn=$.packageName:Ve(v,"operation-not-supported-in-this-environment"),$.displayName&&(gt.appDisplayName=$.displayName),gt.sessionId=Z,Rh(v,g,h.type,void 0,null!==(D=h.eventId)&&void 0!==D?D:void 0,gt)})).apply(this,arguments)}function Ru(){return(Ru=(0,u.Z)(function*(v){const{BuildInfo:h}=Mu(),g={};ve()?g.iosBundleId=h.packageName:Ct()?g.androidPackageName=h.packageName:Ve(v,"operation-not-supported-in-this-environment"),yield Ea(v,g)})).apply(this,arguments)}function ul(){return(ul=(0,u.Z)(function*(v,h,g){const{cordova:D}=Mu();let $=()=>{};try{yield new Promise((Z,gt)=>{let ut=null;function Je(){var qn;Z();const Ci=null===(qn=D.plugins.browsertab)||void 0===qn?void 0:qn.close;"function"==typeof Ci&&Ci(),"function"==typeof g?.close&&g.close()}function Dt(){ut||(ut=window.setTimeout(()=>{gt(Ue(v,"redirect-cancelled-by-user"))},2e3))}function Nn(){"visible"===document?.visibilityState&&Dt()}h.addPassiveListener(Je),document.addEventListener("resume",Dt,!1),Ct()&&document.addEventListener("visibilitychange",Nn,!1),$=()=>{h.removePassiveListener(Je),document.removeEventListener("resume",Dt,!1),document.removeEventListener("visibilitychange",Nn,!1),ut&&window.clearTimeout(ut)}})}finally{$()}})).apply(this,arguments)}function mm(v){return hd.apply(this,arguments)}function hd(){return(hd=(0,u.Z)(function*(v){const h=ym(v),g=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(g)).map($=>$.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function ym(v){if(he(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(v);const h=new ArrayBuffer(v.length),g=new Uint8Array(h);for(let D=0;D<v.length;D++)g[D]=v.charCodeAt(D);return g}(0,j.Pz)("authIdTokenMaxAge"),function Ia(v){(0,De._registerComponent)(new ue.wA("auth",(h,{options:g})=>{const D=h.getProvider("app").getImmediate(),$=h.getProvider("heartbeat"),{apiKey:Z,authDomain:gt}=D.options;return((ut,Je)=>{ge(Z&&!Z.includes(":"),"invalid-api-key",{appName:ut.name}),ge(!gt?.includes(":"),"argument-error",{appName:ut.name});const Dt={apiKey:Z,authDomain:gt,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jt(v)},Nn=new sn(ut,Je,Dt);return function Ke(v,h){const g=h?.persistence||[],D=(Array.isArray(g)?g:[g]).map(Y);h?.errorMap&&v._updateErrorMap(h.errorMap),v._initializeWithPersistence(D,h?.popupRedirectResolver)}(Nn,g),Nn})(D,$)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,g,D)=>{h.getProvider("auth-internal").initialize()})),(0,De._registerComponent)(new ue.wA("auth-internal",h=>{const g=$e(h.getProvider("auth").getImmediate());return new pm(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,De.registerVersion)(Oo,"0.21.0",function al(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,De.registerVersion)(Oo,"0.21.0","esm2017")}("Browser");class ll extends xu{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(h)),super.onEvent(h)}initialized(){var h=this;return(0,u.Z)(function*(){yield h.initPromise})()}}function Fh(v){return Da.apply(this,arguments)}function Da(){return(Da=(0,u.Z)(function*(v){const h=yield Zr()._get(fd(v));return h&&(yield Zr()._remove(fd(v))),h})).apply(this,arguments)}function vm(){const v=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const D=Math.floor(Math.random()*h.length);v.push(h.charAt(D))}return v.join("")}function Zr(){return Y(er)}function fd(v){return X("authEvent",v.config.apiKey,v.name)}function pd(v){if(!v?.includes("?"))return{};const[h,...g]=v.split("?");return(0,j.zd)(g.join("?"))}function yd(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ue("no-auth-event")}}function Ca(){var v;return(null===(v=self?.location)||void 0===v?void 0:v.protocol)||null}function Vh(v=(0,j.z$)()){return!("file:"!==Ca()&&"ionic:"!==Ca()&&"capacitor:"!==Ca()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function Uh(){try{const v=self.localStorage,h=Ko();if(v)return v.setItem(h,"1"),v.removeItem(h),!function _d(v=(0,j.z$)()){return function vd(){return(0,j.w1)()&&11===document?.documentMode}()||function yp(v=(0,j.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,j.hl)()}catch{return fc()&&(0,j.hl)()}return!1}function fc(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Xa(){return(function fl(){return"http:"===Ca()||"https:"===Ca()}()||(0,j.ru)()||Vh())&&!function $h(){return(0,j.b$)()||(0,j.UG)()}()&&Uh()&&!fc()}function pl(){return Vh()&&typeof document<"u"}function gl(){return(gl=(0,u.Z)(function*(){return!!pl()&&new Promise(v=>{const h=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),v(!0)})})})).apply(this,arguments)}const ws={LOCAL:"local",NONE:"none",SESSION:"session"},Vs=ge,bd="persistence";function Sa(v){return Hh.apply(this,arguments)}function Hh(){return(Hh=(0,u.Z)(function*(v){yield v._initializationPromise;const h=Gh(),g=X(bd,v.config.apiKey,v.name);h&&h.setItem(g,v._getPersistence())})).apply(this,arguments)}function Gh(){var v;try{return(null===(v=function Ed(){return typeof window<"u"?window:null}())||void 0===v?void 0:v.sessionStorage)||null}catch{return null}}const zh=ge;class po{constructor(){this.browserResolver=Y(class cc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gs,this._completeRedirectFn=el,this._overrideRedirectResult=ir}_openPopup(h,g,D,$){var Z=this;return(0,u.Z)(function*(){var gt;he(null===(gt=Z.eventManagers[h._key()])||void 0===gt?void 0:gt.manager,"_initialize() not called before _openPopup()");const ut=Rh(h,g,D,ot(),$);return function wa(v,h,g,D=500,$=600){const Z=Math.max((window.screen.availHeight-$)/2,0).toString(),gt=Math.max((window.screen.availWidth-D)/2,0).toString();let ut="";const Je=Object.assign(Object.assign({},lp),{width:D.toString(),height:$.toString(),top:Z,left:gt}),Dt=(0,j.z$)().toLowerCase();g&&(ut=Be(Dt)?"_blank":g),Pt(Dt)&&(h=h||"http://localhost",Je.scrollbars="yes");const Nn=Object.entries(Je).reduce((Ci,[ko,Id])=>`${Ci}${ko}=${Id},`,"");if(function Rt(v=(0,j.z$)()){var h;return ve(v)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(Dt)&&"_self"!==ut)return function qa(v,h){const g=document.createElement("a");g.href=v,g.target=h;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(D)}(h||"",ut),new fm(null);const qn=window.open(h||"",ut,Nn);ge(qn,v,"popup-blocked");try{qn.focus()}catch{}return new fm(qn)}(h,ut,Ko())})()}_openRedirect(h,g,D,$){var Z=this;return(0,u.Z)(function*(){return yield Z._originValidation(h),function _u(v){ei().location.href=v}(Rh(h,g,D,ot(),$)),new Promise(()=>{})})()}_initialize(h){const g=h._key();if(this.eventManagers[g]){const{manager:$,promise:Z}=this.eventManagers[g];return $?Promise.resolve($):(he(Z,"If manager is not set, promise should be"),Z)}const D=this.initAndGetManager(h);return this.eventManagers[g]={promise:D},D.catch(()=>{delete this.eventManagers[g]}),D}initAndGetManager(h){var g=this;return(0,u.Z)(function*(){const D=yield function cd(v){return ea.apply(this,arguments)}(h),$=new xu(h);return D.register("authEvent",Z=>(ge(Z?.authEvent,h,"invalid-auth-event"),{status:$.onEvent(Z.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[h._key()]={manager:$},g.iframes[h._key()]=D,$})()}_isIframeWebStorageSupported(h,g){this.iframes[h._key()].send(uc,{type:uc},$=>{var Z;const gt=null===(Z=$?.[0])||void 0===Z?void 0:Z[uc];void 0!==gt&&g(!!gt),Ve(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function ba(v){return Ro.apply(this,arguments)}(h)),this.originValidationPromises[g]}get _shouldInitProactively(){return be()||We()||ve()}}),this.cordovaResolver=Y(class md{constructor(){this._redirectPersistence=gs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=el,this._overrideRedirectResult=ir}_initialize(h){var g=this;return(0,u.Z)(function*(){const D=h._key();let $=g.eventManagers.get(D);return $||($=new ll(h),g.eventManagers.set(D,$),g.attachCallbackListeners(h,$)),$})()}_openPopup(h){Ve(h,"operation-not-supported-in-this-environment")}_openRedirect(h,g,D,$){var Z=this;return(0,u.Z)(function*(){!function Nh(v){var h,g,D,$,Z,gt,ut,Je,Dt,Nn;const qn=Mu();ge("function"==typeof(null===(h=qn?.universalLinks)||void 0===h?void 0:h.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ge(typeof(null===(g=qn?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ge("function"==typeof(null===(Z=null===($=null===(D=qn?.cordova)||void 0===D?void 0:D.plugins)||void 0===$?void 0:$.browsertab)||void 0===Z?void 0:Z.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ge("function"==typeof(null===(Je=null===(ut=null===(gt=qn?.cordova)||void 0===gt?void 0:gt.plugins)||void 0===ut?void 0:ut.browsertab)||void 0===Je?void 0:Je.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ge("function"==typeof(null===(Nn=null===(Dt=qn?.cordova)||void 0===Dt?void 0:Dt.InAppBrowser)||void 0===Nn?void 0:Nn.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const gt=yield Z._initialize(h);yield gt.initialized(),gt.resetRedirect(),function pn(){A.clear()}(),yield Z._originValidation(h);const ut=function dl(v,h,g=null){return{type:h,eventId:g,urlResponse:null,sessionId:vm(),postBody:null,tenantId:v.tenantId,error:Ue(v,"no-auth-event")}}(h,D,$);yield function kh(v,h){return Zr()._set(fd(v),h)}(h,ut);const Je=yield function bs(v,h,g){return dc.apply(this,arguments)}(h,ut,g),Dt=yield function Ui(v){const{cordova:h}=Mu();return new Promise(g=>{h.plugins.browsertab.isAvailable(D=>{let $=null;D?h.plugins.browsertab.openUrl(v):$=h.InAppBrowser.open(v,function at(v=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),g($)})})}(Je);return function hc(v,h,g){return ul.apply(this,arguments)}(h,gt,Dt)})()}_isIframeWebStorageSupported(h,g){throw new Error("Method not implemented.")}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Ph(v){return Ru.apply(this,arguments)}(h)),this.originValidationPromises[g]}attachCallbackListeners(h,g){const{universalLinks:D,handleOpenURL:$,BuildInfo:Z}=Mu(),gt=setTimeout((0,u.Z)(function*(){yield Fh(h),g.onEvent(yd())}),500),ut=function(){var Nn=(0,u.Z)(function*(qn){clearTimeout(gt);const Ci=yield Fh(h);let ko=null;Ci&&qn?.url&&(ko=function Ou(v,h){var g,D;const $=function _m(v){const h=pd(v),g=h.link?decodeURIComponent(h.link):void 0,D=pd(g).link,$=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return pd($).link||$||D||g||v}(h);if($.includes("/__/auth/callback")){const Z=pd($),gt=Z.firebaseError?function hl(v){try{return JSON.parse(v)}catch{return null}}(decodeURIComponent(Z.firebaseError)):null,ut=null===(D=null===(g=gt?.code)||void 0===g?void 0:g.split("auth/"))||void 0===D?void 0:D[1],Je=ut?Ue(ut):null;return Je?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:Je,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:$,postBody:null}}return null}(Ci,qn.url)),g.onEvent(ko||yd())});return function(Ci){return Nn.apply(this,arguments)}}();typeof D<"u"&&"function"==typeof D.subscribe&&D.subscribe(null,ut);const Je=$,Dt=`${Z.packageName.toLowerCase()}://`;Mu().handleOpenURL=function(){var Nn=(0,u.Z)(function*(qn){if(qn.toLowerCase().startsWith(Dt)&&ut({url:qn}),"function"==typeof Je)try{Je(qn)}catch(Ci){console.error(Ci)}});return function(qn){return Nn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=gs,this._completeRedirectFn=el,this._overrideRedirectResult=ir}_initialize(h){var g=this;return(0,u.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,g,D,$){var Z=this;return(0,u.Z)(function*(){return yield Z.selectUnderlyingResolver(),Z.assertedUnderlyingResolver._openPopup(h,g,D,$)})()}_openRedirect(h,g,D,$){var Z=this;return(0,u.Z)(function*(){return yield Z.selectUnderlyingResolver(),Z.assertedUnderlyingResolver._openRedirect(h,g,D,$)})()}_isIframeWebStorageSupported(h,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,g)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return pl()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return zh(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,u.Z)(function*(){if(h.underlyingResolver)return;const g=yield function vp(){return gl.apply(this,arguments)}();h.underlyingResolver=g?h.cordovaResolver:h.browserResolver})()}}function Is(v){return v.unwrap()}function Wh(v){return yl(v)}function yl(v){const{_tokenResponse:h}=v instanceof j.ZR?v.customData:v;if(!h)return null;if(!(v instanceof j.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return vs.credentialFromResult(v);const g=h.providerId;if(!g||"password"===g)return null;let D;switch(g){case"google.com":D=Yr;break;case"facebook.com":D=ro;break;case"github.com":D=Vi;break;case"twitter.com":D=$i;break;default:const{oauthIdToken:$,oauthAccessToken:Z,oauthTokenSecret:gt,pendingToken:ut,nonce:Je}=h;return Z||gt||$||ut?ut?g.startsWith("saml.")?cs._create(g,ut):wr._fromParams({providerId:g,signInMethod:g,pendingToken:ut,idToken:$,accessToken:Z}):new Bi(g).credential({idToken:$,accessToken:Z,rawNonce:Je}):null}return v instanceof j.ZR?D.credentialFromError(v):D.credentialFromResult(v)}function Ds(v,h){return h.catch(g=>{throw g instanceof j.ZR&&function Ta(v,h){var g;const D=null===(g=h.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===h?.code)h.resolver=new Kh(v,function Co(v,h){var g;const D=(0,j.m9)(v),$=h;return ge(h.customData.operationType,D,"argument-error"),ge(null===(g=$.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,D,"argument-error"),mu._fromError(D,$)}(v,h));else if(D){const $=yl(h),Z=h;$&&(Z.credential=$,Z.tenantId=D.tenantId||void 0,Z.email=D.email||void 0,Z.phoneNumber=D.phoneNumber||void 0)}}(v,g),g}).then(g=>{const $=g.user;return{operationType:g.operationType,credential:Wh(g),additionalUserInfo:Un(g),user:$s.getOrCreate($)}})}function Nu(v,h){return vl.apply(this,arguments)}function vl(){return(vl=(0,u.Z)(function*(v,h){const g=yield h;return{verificationId:g.verificationId,confirm:D=>Ds(v,g.confirm(D))}})).apply(this,arguments)}class Kh{constructor(h,g){this.resolver=g,this.auth=function wd(v){return v.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return Ds(Is(this.auth),this.resolver.resolveSignIn(h))}}class $s{constructor(h){this._delegate=h,this.multiFactor=function vu(v){const h=(0,j.m9)(v);return da.has(h)||da.set(h,Hc._fromUser(h)),da.get(h)}(h)}static getOrCreate(h){return $s.USER_MAP.has(h)||$s.USER_MAP.set(h,new $s(h)),$s.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var g=this;return(0,u.Z)(function*(){return Ds(g.auth,Ho(g._delegate,h))})()}linkWithPhoneNumber(h,g){var D=this;return(0,u.Z)(function*(){return Nu(D.auth,function ii(v,h,g){return Xo.apply(this,arguments)}(D._delegate,h,g))})()}linkWithPopup(h){var g=this;return(0,u.Z)(function*(){return Ds(g.auth,function rd(v,h,g){return I.apply(this,arguments)}(g._delegate,h,po))})()}linkWithRedirect(h){var g=this;return(0,u.Z)(function*(){return yield Sa($e(g.auth)),function Jo(v,h,g){return function Sh(v,h,g){return Ya.apply(this,arguments)}(v,h,g)}(g._delegate,h,po)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var g=this;return(0,u.Z)(function*(){return Ds(g.auth,fs(g._delegate,h))})()}reauthenticateWithPhoneNumber(h,g){return Nu(this.auth,function Cu(v,h,g){return Zc.apply(this,arguments)}(this._delegate,h,g))}reauthenticateWithPopup(h){return Ds(this.auth,function Ch(v,h,g){return Tu.apply(this,arguments)}(this._delegate,h,po))}reauthenticateWithRedirect(h){var g=this;return(0,u.Z)(function*(){return yield Sa($e(g.auth)),function si(v,h,g){return function id(v,h,g){return $r.apply(this,arguments)}(v,h,g)}(g._delegate,h,po)})()}sendEmailVerification(h){return function ns(v,h){return pi.apply(this,arguments)}(this._delegate,h)}unlink(h){var g=this;return(0,u.Z)(function*(){return yield function Os(v,h){return Pr.apply(this,arguments)}(g._delegate,h),g})()}updateEmail(h){return function M(v,h){return N((0,j.m9)(v),h,null)}(this._delegate,h)}updatePassword(h){return function W(v,h){return N((0,j.m9)(v),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function ho(v,h){return Xc.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function Qu(v,h){return Ba.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,g){return function Io(v,h,g){return rs.apply(this,arguments)}(this._delegate,h,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}$s.USER_MAP=new WeakMap;const _l=ge;let pc=(()=>{class v{constructor(g,D){if(this.app=g,D.isInitialized())return this._delegate=D.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:$}=g.options;_l($,"invalid-api-key",{appName:g.name}),_l($,"invalid-api-key",{appName:g.name});const Z=typeof window<"u"?po:void 0;this._delegate=D.initialize({options:{persistence:Ep($,g.name),popupRedirectResolver:Z}}),this._delegate._updateErrorMap(ct),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?$s.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,D){!function Bt(v,h,g){const D=$e(v);ge(D._canInitEmulator,D,"emulator-config-failed"),ge(/^https?:\/\//.test(h),D,"invalid-emulator-scheme");const $=!!g?.disableWarnings,Z=tn(h),{host:gt,port:ut}=function un(v){const h=tn(v),g=/(\/\/)?([^?#/]+)/.exec(v.substr(h.length));if(!g)return{host:"",port:null};const D=g[2].split("@").pop()||"",$=/^(\[[^\]]+\])(:|$)/.exec(D);if($){const Z=$[1];return{host:Z,port:$n(D.substr(Z.length+1))}}{const[Z,gt]=D.split(":");return{host:Z,port:$n(gt)}}}(h);D.config.emulator={url:`${Z}//${gt}${null===ut?"":`:${ut}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:gt,port:ut,protocol:Z.replace(":",""),options:Object.freeze({disableWarnings:$})}),$||function xn(){function v(){const h=document.createElement("p"),g=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,g,D)}applyActionCode(g){return function ao(v,h){return ca.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return B(this._delegate,g)}confirmPasswordReset(g,D){return function Gt(v,h,g){return dr.apply(this,arguments)}(this._delegate,g,D)}createUserWithEmailAndPassword(g,D){var $=this;return(0,u.Z)(function*(){return Ds($._delegate,function S(v,h,g){return y.apply(this,arguments)}($._delegate,g,D))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function gr(v,h){return fi.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function en(v,h){return"EMAIL_SIGNIN"===us.parseLink(h)?.operation}(0,g)}getRedirectResult(){var g=this;return(0,u.Z)(function*(){_l(Xa(),g._delegate,"operation-not-supported-in-this-environment");const D=yield function ic(v,h){return Au.apply(this,arguments)}(g._delegate,po);return D?Ds(g._delegate,Promise.resolve(D)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function Pu(v,h){$e(v)._logFramework(h)}(this._delegate,g)}onAuthStateChanged(g,D,$){const{next:Z,error:gt,complete:ut}=_p(g,D,$);return this._delegate.onAuthStateChanged(Z,gt,ut)}onIdTokenChanged(g,D,$){const{next:Z,error:gt,complete:ut}=_p(g,D,$);return this._delegate.onIdTokenChanged(Z,gt,ut)}sendSignInLinkToEmail(g,D){return function de(v,h,g){return At.apply(this,arguments)}(this._delegate,g,D)}sendPasswordResetEmail(g,D){return function La(v,h,g){return oo.apply(this,arguments)}(this._delegate,g,D||void 0)}setPersistence(g){var D=this;return(0,u.Z)(function*(){let $;switch(function jh(v,h){Vs(Object.values(ws).includes(h),v,"invalid-persistence-type"),(0,j.b$)()?Vs(h!==ws.SESSION,v,"unsupported-persistence-type"):(0,j.UG)()?Vs(h===ws.NONE,v,"unsupported-persistence-type"):fc()?Vs(h===ws.NONE||h===ws.LOCAL&&(0,j.hl)(),v,"unsupported-persistence-type"):Vs(h===ws.NONE||Uh(),v,"unsupported-persistence-type")}(D._delegate,g),g){case ws.SESSION:$=gs;break;case ws.LOCAL:$=(yield Y(Xs)._isAvailable())?Xs:er;break;case ws.NONE:$=Me;break;default:return Ve("argument-error",{appName:D._delegate.name})}return D._delegate.setPersistence($)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Ds(this._delegate,function Jr(v){return Ws.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Ds(this._delegate,ts(this._delegate,g))}signInWithCustomToken(g){return Ds(this._delegate,function Go(v,h){return ks.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,D){return Ds(this._delegate,function k(v,h,g){return ts((0,j.m9)(v),Xi.credential(h,g))}(this._delegate,g,D))}signInWithEmailLink(g,D){return Ds(this._delegate,function cn(v,h,g){return Kn.apply(this,arguments)}(this._delegate,g,D))}signInWithPhoneNumber(g,D){return Nu(this._delegate,function Dh(v,h,g){return Du.apply(this,arguments)}(this._delegate,g,D))}signInWithPopup(g){var D=this;return(0,u.Z)(function*(){return _l(Xa(),D._delegate,"operation-not-supported-in-this-environment"),Ds(D._delegate,function rc(v,h,g){return Qo.apply(this,arguments)}(D._delegate,g,po))})()}signInWithRedirect(g){var D=this;return(0,u.Z)(function*(){return _l(Xa(),D._delegate,"operation-not-supported-in-this-environment"),yield Sa(D._delegate),function ki(v,h,g){return function fo(v,h,g){return Es.apply(this,arguments)}(v,h,g)}(D._delegate,g,po)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function R(v,h){return f.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=ws,v})();function _p(v,h,g){let D=v;"function"!=typeof v&&({next:D,error:h,complete:g}=v);const $=D;return{next:gt=>$(gt&&$s.getOrCreate(gt)),error:h,complete:g}}function Ep(v,h){const g=function ml(v,h){const g=Gh();if(!g)return[];const D=X(bd,v,h);switch(g.getItem(D)){case ws.NONE:return[Me];case ws.LOCAL:return[Xs,gs];case ws.SESSION:return[gs];default:return[]}}(v,h);if(typeof self<"u"&&!g.includes(Xs)&&g.push(Xs),typeof window<"u")for(const D of[er,gs])g.includes(D)||g.push(D);return g.includes(Me)||g.push(Me),g}class mi{constructor(){this.providerId="phone",this._delegate=new vs(Is(F.Z.auth()))}static credential(h,g){return vs.credential(h,g)}verifyPhoneNumber(h,g){return this._delegate.verifyPhoneNumber(h,g)}unwrap(){return this._delegate}}mi.PHONE_SIGN_IN_METHOD=vs.PHONE_SIGN_IN_METHOD,mi.PROVIDER_ID=vs.PROVIDER_ID;const Qa=ge;class No{constructor(h,g,D=F.Z.app()){var $;Qa(null===($=D.options)||void 0===$?void 0:$.apiKey,"invalid-api-key",{appName:D.name}),this._delegate=new tc(h,g,D.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ku(v){v.INTERNAL.registerComponent(new ue.wA("auth-compat",h=>{const g=h.getProvider("app-compat").getImmediate(),D=h.getProvider("auth");return new pc(g,D)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Xi,FacebookAuthProvider:ro,GithubAuthProvider:Vi,GoogleAuthProvider:Yr,OAuthProvider:Bi,SAMLAuthProvider:zs,PhoneAuthProvider:mi,PhoneMultiFactorGenerator:hp,RecaptchaVerifier:No,TwitterAuthProvider:$i,Auth:pc,AuthCredential:cr,Error:j.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.3.0")}(F.Z)},6774:(Zt,ht,P)=>{"use strict";P.d(ht,{Gb:()=>u.Gb});var u=P(908)},8766:(Zt,ht,P)=>{"use strict";P.d(ht,{Lj:()=>Ve,X3:()=>Se});var u=P(5861);let j,De;const ue=new WeakMap,fe=new WeakMap,pe=new WeakMap,Q=new WeakMap,K=new WeakMap;let Ie={get(ge,Re,he){if(ge instanceof IDBTransaction){if("done"===Re)return fe.get(ge);if("objectStoreNames"===Re)return ge.objectStoreNames||pe.get(ge);if("store"===Re)return he.objectStoreNames[1]?void 0:he.objectStore(he.objectStoreNames[0])}return ye(ge[Re])},set:(ge,Re,he)=>(ge[Re]=he,!0),has:(ge,Re)=>ge instanceof IDBTransaction&&("done"===Re||"store"===Re)||Re in ge};function Ee(ge){return"function"==typeof ge?function je(ge){return ge!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function z(){return De||(De=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ge)?function(...Re){return ge.apply(st(this),Re),ye(ue.get(this))}:function(...Re){return ye(ge.apply(st(this),Re))}:function(Re,...he){const re=ge.call(st(this),Re,...he);return pe.set(re,Re.sort?Re.sort():[Re]),ye(re)}}(ge):(ge instanceof IDBTransaction&&function ee(ge){if(fe.has(ge))return;const Re=new Promise((he,re)=>{const Y=()=>{ge.removeEventListener("complete",J),ge.removeEventListener("error",Ke),ge.removeEventListener("abort",Ke)},J=()=>{he(),Y()},Ke=()=>{re(ge.error||new DOMException("AbortError","AbortError")),Y()};ge.addEventListener("complete",J),ge.addEventListener("error",Ke),ge.addEventListener("abort",Ke)});fe.set(ge,Re)}(ge),((ge,Re)=>Re.some(he=>ge instanceof he))(ge,function Ce(){return j||(j=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ge,Ie):ge)}function ye(ge){if(ge instanceof IDBRequest)return function se(ge){const Re=new Promise((he,re)=>{const Y=()=>{ge.removeEventListener("success",J),ge.removeEventListener("error",Ke)},J=()=>{he(ye(ge.result)),Y()},Ke=()=>{re(ge.error),Y()};ge.addEventListener("success",J),ge.addEventListener("error",Ke)});return Re.then(he=>{he instanceof IDBCursor&&ue.set(he,ge)}).catch(()=>{}),K.set(Re,ge),Re}(ge);if(Q.has(ge))return Q.get(ge);const Re=Ee(ge);return Re!==ge&&(Q.set(ge,Re),K.set(Re,ge)),Re}const st=ge=>K.get(ge);function Se(ge,Re,{blocked:he,upgrade:re,blocking:Y,terminated:J}={}){const Ke=indexedDB.open(ge,Re),ot=ye(Ke);return re&&Ke.addEventListener("upgradeneeded",wt=>{re(ye(Ke.result),wt.oldVersion,wt.newVersion,ye(Ke.transaction))}),he&&Ke.addEventListener("blocked",()=>he()),ot.then(wt=>{J&&wt.addEventListener("close",()=>J()),Y&&wt.addEventListener("versionchange",()=>Y())}).catch(()=>{}),ot}function Ve(ge,{blocked:Re}={}){const he=indexedDB.deleteDatabase(ge);return Re&&he.addEventListener("blocked",()=>Re()),ye(he).then(()=>{})}const Ue=["get","getKey","getAll","getAllKeys","count"],dt=["put","add","delete","clear"],qe=new Map;function nt(ge,Re){if(!(ge instanceof IDBDatabase)||Re in ge||"string"!=typeof Re)return;if(qe.get(Re))return qe.get(Re);const he=Re.replace(/FromIndex$/,""),re=Re!==he,Y=dt.includes(he);if(!(he in(re?IDBIndex:IDBObjectStore).prototype)||!Y&&!Ue.includes(he))return;const J=function(){var Ke=(0,u.Z)(function*(ot,...wt){const rt=this.transaction(ot,Y?"readwrite":"readonly");let Ge=rt.store;return re&&(Ge=Ge.index(wt.shift())),(yield Promise.all([Ge[he](...wt),Y&&rt.done]))[0]});return function(wt){return Ke.apply(this,arguments)}}();return qe.set(Re,J),J}!function ct(ge){Ie=ge(Ie)}(ge=>({...ge,get:(Re,he,re)=>nt(Re,he)||ge.get(Re,he,re),has:(Re,he)=>!!nt(Re,he)||ge.has(Re,he)}))},5861:(Zt,ht,P)=>{"use strict";function u(j,De,Ce,z,ue,fe,pe){try{var Q=j[fe](pe),K=Q.value}catch(se){return void Ce(se)}Q.done?De(K):Promise.resolve(K).then(z,ue)}function F(j){return function(){var De=this,Ce=arguments;return new Promise(function(z,ue){var fe=j.apply(De,Ce);function pe(K){u(fe,z,ue,pe,Q,"next",K)}function Q(K){u(fe,z,ue,pe,Q,"throw",K)}pe(void 0)})}}P.d(ht,{Z:()=>F})}},Zt=>{Zt(Zt.s=5610)}]);